var bf=Object.defineProperty;var Tf=(n,e,t)=>e in n?bf(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var f=(n,e,t)=>Tf(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Mh={exports:{}},nl={},Rh={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=Symbol.for("react.element"),Af=Symbol.for("react.portal"),If=Symbol.for("react.fragment"),Mf=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),Lf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),Pf=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),Nf=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy"),iu=Symbol.iterator;function Of(n){return n===null||typeof n!="object"?null:(n=iu&&n[iu]||n["@@iterator"],typeof n=="function"?n:null)}var Lh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fh=Object.assign,Ph={};function Vr(n,e,t){this.props=n,this.context=e,this.refs=Ph,this.updater=t||Lh}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Vr.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Yh(){}Yh.prototype=Vr.prototype;function eo(n,e,t){this.props=n,this.context=e,this.refs=Ph,this.updater=t||Lh}var to=eo.prototype=new Yh;to.constructor=eo;Fh(to,Vr.prototype);to.isPureReactComponent=!0;var su=Array.isArray,Nh=Object.prototype.hasOwnProperty,no={current:null},Bh={key:!0,ref:!0,__self:!0,__source:!0};function Oh(n,e,t){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)Nh.call(e,r)&&!Bh.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var u=Array(a),o=0;o<a;o++)u[o]=arguments[o+2];i.children=u}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ni,type:n,key:s,ref:l,props:i,_owner:no.current}}function Xf(n,e){return{$$typeof:Ni,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ro(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ni}function Df(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var lu=/\/+/g;function kl(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Df(""+n.key):e.toString(36)}function us(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case Ni:case Af:l=!0}}if(l)return l=n,i=i(l),n=r===""?"."+kl(l,0):r,su(i)?(t="",n!=null&&(t=n.replace(lu,"$&/")+"/"),us(i,e,t,"",function(o){return o})):i!=null&&(ro(i)&&(i=Xf(i,t+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(lu,"$&/")+"/")+n)),e.push(i)),1;if(l=0,r=r===""?".":r+":",su(n))for(var a=0;a<n.length;a++){s=n[a];var u=r+kl(s,a);l+=us(s,e,t,u,i)}else if(u=Of(n),typeof u=="function")for(n=u.call(n),a=0;!(s=n.next()).done;)s=s.value,u=r+kl(s,a++),l+=us(s,e,t,u,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function _i(n,e,t){if(n==null)return n;var r=[],i=0;return us(n,r,"","",function(s){return e.call(t,s,i++)}),r}function zf(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var nt={current:null},hs={transition:null},Vf={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:hs,ReactCurrentOwner:no};function Xh(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:_i,forEach:function(n,e,t){_i(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return _i(n,function(){e++}),e},toArray:function(n){return _i(n,function(e){return e})||[]},only:function(n){if(!ro(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};de.Component=Vr;de.Fragment=If;de.Profiler=Rf;de.PureComponent=eo;de.StrictMode=Mf;de.Suspense=Yf;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vf;de.act=Xh;de.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Fh({},n.props),i=n.key,s=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=no.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(u in e)Nh.call(e,u)&&!Bh.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){a=Array(u);for(var o=0;o<u;o++)a[o]=arguments[o+2];r.children=a}return{$$typeof:Ni,type:n.type,key:i,ref:s,props:r,_owner:l}};de.createContext=function(n){return n={$$typeof:Ff,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Lf,_context:n},n.Consumer=n};de.createElement=Oh;de.createFactory=function(n){var e=Oh.bind(null,n);return e.type=n,e};de.createRef=function(){return{current:null}};de.forwardRef=function(n){return{$$typeof:Pf,render:n}};de.isValidElement=ro;de.lazy=function(n){return{$$typeof:Bf,_payload:{_status:-1,_result:n},_init:zf}};de.memo=function(n,e){return{$$typeof:Nf,type:n,compare:e===void 0?null:e}};de.startTransition=function(n){var e=hs.transition;hs.transition={};try{n()}finally{hs.transition=e}};de.unstable_act=Xh;de.useCallback=function(n,e){return nt.current.useCallback(n,e)};de.useContext=function(n){return nt.current.useContext(n)};de.useDebugValue=function(){};de.useDeferredValue=function(n){return nt.current.useDeferredValue(n)};de.useEffect=function(n,e){return nt.current.useEffect(n,e)};de.useId=function(){return nt.current.useId()};de.useImperativeHandle=function(n,e,t){return nt.current.useImperativeHandle(n,e,t)};de.useInsertionEffect=function(n,e){return nt.current.useInsertionEffect(n,e)};de.useLayoutEffect=function(n,e){return nt.current.useLayoutEffect(n,e)};de.useMemo=function(n,e){return nt.current.useMemo(n,e)};de.useReducer=function(n,e,t){return nt.current.useReducer(n,e,t)};de.useRef=function(n){return nt.current.useRef(n)};de.useState=function(n){return nt.current.useState(n)};de.useSyncExternalStore=function(n,e,t){return nt.current.useSyncExternalStore(n,e,t)};de.useTransition=function(){return nt.current.useTransition()};de.version="18.3.1";Rh.exports=de;var ii=Rh.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=ii,_f=Symbol.for("react.element"),Wf=Symbol.for("react.fragment"),jf=Object.prototype.hasOwnProperty,Hf=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qf={key:!0,ref:!0,__self:!0,__source:!0};function Dh(n,e,t){var r,i={},s=null,l=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)jf.call(e,r)&&!qf.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_f,type:n,key:s,ref:l,props:i,_owner:Hf.current}}nl.Fragment=Wf;nl.jsx=Dh;nl.jsxs=Dh;Mh.exports=nl;var mn=Mh.exports,zh={exports:{}},yt={},Vh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(B,D){var U=B.length;B.push(D);e:for(;0<U;){var ue=U-1>>>1,he=B[ue];if(0<i(he,D))B[ue]=D,B[U]=he,U=ue;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var D=B[0],U=B.pop();if(U!==D){B[0]=U;e:for(var ue=0,he=B.length,ce=he>>>1;ue<ce;){var oe=2*(ue+1)-1,me=B[oe],Ee=oe+1,We=B[Ee];if(0>i(me,U))Ee<he&&0>i(We,me)?(B[ue]=We,B[Ee]=U,ue=Ee):(B[ue]=me,B[oe]=U,ue=oe);else if(Ee<he&&0>i(We,U))B[ue]=We,B[Ee]=U,ue=Ee;else break e}}return D}function i(B,D){var U=B.sortIndex-D.sortIndex;return U!==0?U:B.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();n.unstable_now=function(){return l.now()-a}}var u=[],o=[],h=1,c=null,d=3,m=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var D=t(o);D!==null;){if(D.callback===null)r(o);else if(D.startTime<=B)r(o),D.sortIndex=D.expirationTime,e(u,D);else break;D=t(o)}}function x(B){if(v=!1,g(B),!y)if(t(u)!==null)y=!0,M(k);else{var D=t(o);D!==null&&j(x,D.startTime-B)}}function k(B,D){y=!1,v&&(v=!1,p(b),b=-1),m=!0;var U=d;try{for(g(D),c=t(u);c!==null&&(!(c.expirationTime>D)||B&&!P());){var ue=c.callback;if(typeof ue=="function"){c.callback=null,d=c.priorityLevel;var he=ue(c.expirationTime<=D);D=n.unstable_now(),typeof he=="function"?c.callback=he:c===t(u)&&r(u),g(D)}else r(u);c=t(u)}if(c!==null)var ce=!0;else{var oe=t(o);oe!==null&&j(x,oe.startTime-D),ce=!1}return ce}finally{c=null,d=U,m=!1}}var C=!1,E=null,b=-1,T=5,I=-1;function P(){return!(n.unstable_now()-I<T)}function O(){if(E!==null){var B=n.unstable_now();I=B;var D=!0;try{D=E(!0,B)}finally{D?X():(C=!1,E=null)}}else C=!1}var X;if(typeof w=="function")X=function(){w(O)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,L=Y.port2;Y.port1.onmessage=O,X=function(){L.postMessage(null)}}else X=function(){S(O,0)};function M(B){E=B,C||(C=!0,X())}function j(B,D){b=S(function(){B(n.unstable_now())},D)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,M(k))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(B){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var U=d;d=D;try{return B()}finally{d=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=d;d=B;try{return D()}finally{d=U}},n.unstable_scheduleCallback=function(B,D,U){var ue=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ue+U:ue):U=ue,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=U+he,B={id:h++,callback:D,priorityLevel:B,startTime:U,expirationTime:he,sortIndex:-1},U>ue?(B.sortIndex=U,e(o,B),t(u)===null&&B===t(o)&&(v?(p(b),b=-1):v=!0,j(x,U-ue))):(B.sortIndex=he,e(u,B),y||m||(y=!0,M(k))),B},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(B){var D=d;return function(){var U=d;d=D;try{return B.apply(this,arguments)}finally{d=U}}}})(Uh);Vh.exports=Uh;var Gf=Vh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=ii,vt=Gf;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _h=new Set,pi={};function er(n,e){Rr(n,e),Rr(n+"Capture",e)}function Rr(n,e){for(pi[n]=e,n=0;n<e.length;n++)_h.add(e[n])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=Object.prototype.hasOwnProperty,Zf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,au={},ou={};function Kf(n){return ea.call(ou,n)?!0:ea.call(au,n)?!1:Zf.test(n)?ou[n]=!0:(au[n]=!0,!1)}function $f(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Jf(n,e,t,r){if(e===null||typeof e>"u"||$f(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(n,e,t,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_e[n]=new rt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];_e[e]=new rt(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){_e[n]=new rt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_e[n]=new rt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_e[n]=new rt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){_e[n]=new rt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){_e[n]=new rt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){_e[n]=new rt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){_e[n]=new rt(n,5,!1,n.toLowerCase(),null,!1,!1)});var io=/[\-:]([a-z])/g;function so(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(io,so);_e[e]=new rt(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(io,so);_e[e]=new rt(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(io,so);_e[e]=new rt(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){_e[n]=new rt(n,1,!1,n.toLowerCase(),null,!1,!1)});_e.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){_e[n]=new rt(n,1,!1,n.toLowerCase(),null,!0,!0)});function lo(n,e,t,r){var i=_e.hasOwnProperty(e)?_e[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jf(e,t,i,r)&&(t=null),r||i===null?Kf(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var cn=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wi=Symbol.for("react.element"),ar=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),ao=Symbol.for("react.strict_mode"),ta=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),jh=Symbol.for("react.context"),oo=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),uo=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Hh=Symbol.for("react.offscreen"),uu=Symbol.iterator;function jr(n){return n===null||typeof n!="object"?null:(n=uu&&n[uu]||n["@@iterator"],typeof n=="function"?n:null)}var Ie=Object.assign,Cl;function ei(n){if(Cl===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Cl=e&&e[1]||""}return`
`+Cl+n}var El=!1;function bl(n,e){if(!n||El)return"";El=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(o){var r=o}Reflect.construct(n,[],e)}else{try{e.call()}catch(o){r=o}n.call(e.prototype)}else{try{throw Error()}catch(o){r=o}n()}}catch(o){if(o&&r&&typeof o.stack=="string"){for(var i=o.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,a=s.length-1;1<=l&&0<=a&&i[l]!==s[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==s[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==s[a]){var u=`
`+i[l].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=l&&0<=a);break}}}finally{El=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ei(n):""}function e0(n){switch(n.tag){case 5:return ei(n.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return n=bl(n.type,!1),n;case 11:return n=bl(n.type.render,!1),n;case 1:return n=bl(n.type,!0),n;default:return""}}function ia(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case or:return"Fragment";case ar:return"Portal";case ta:return"Profiler";case ao:return"StrictMode";case na:return"Suspense";case ra:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case jh:return(n.displayName||"Context")+".Consumer";case Wh:return(n._context.displayName||"Context")+".Provider";case oo:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case uo:return e=n.displayName||null,e!==null?e:ia(n.type)||"Memo";case pn:e=n._payload,n=n._init;try{return ia(n(e))}catch{}}return null}function t0(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ia(e);case 8:return e===ao?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qh(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n0(n){var e=qh(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ji(n){n._valueTracker||(n._valueTracker=n0(n))}function Gh(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=qh(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ss(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function sa(n,e){var t=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function hu(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Fn(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qh(n,e){e=e.checked,e!=null&&lo(n,"checked",e,!1)}function la(n,e){Qh(n,e);var t=Fn(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?aa(n,e.type,t):e.hasOwnProperty("defaultValue")&&aa(n,e.type,Fn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function cu(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function aa(n,e,t){(e!=="number"||Ss(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ti=Array.isArray;function Er(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Fn(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function oa(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function du(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(ti(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Fn(t)}}function Zh(n,e){var t=Fn(e.value),r=Fn(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function fu(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Kh(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ua(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Kh(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hi,$h=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hi.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function gi(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r0=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(n){r0.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),si[e]=si[n]})});function Jh(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||si.hasOwnProperty(n)&&si[n]?(""+e).trim():e+"px"}function ec(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Jh(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var i0=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(n,e){if(e){if(i0[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function ca(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=null;function ho(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fa=null,br=null,Tr=null;function mu(n){if(n=Xi(n)){if(typeof fa!="function")throw Error(z(280));var e=n.stateNode;e&&(e=al(e),fa(n.stateNode,n.type,e))}}function tc(n){br?Tr?Tr.push(n):Tr=[n]:br=n}function nc(){if(br){var n=br,e=Tr;if(Tr=br=null,mu(n),e)for(n=0;n<e.length;n++)mu(e[n])}}function rc(n,e){return n(e)}function ic(){}var Tl=!1;function sc(n,e,t){if(Tl)return n(e,t);Tl=!0;try{return rc(n,e,t)}finally{Tl=!1,(br!==null||Tr!==null)&&(ic(),nc())}}function vi(n,e){var t=n.stateNode;if(t===null)return null;var r=al(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var ma=!1;if(an)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{ma=!1}function s0(n,e,t,r,i,s,l,a,u){var o=Array.prototype.slice.call(arguments,3);try{e.apply(t,o)}catch(h){this.onError(h)}}var li=!1,ks=null,Cs=!1,pa=null,l0={onError:function(n){li=!0,ks=n}};function a0(n,e,t,r,i,s,l,a,u){li=!1,ks=null,s0.apply(l0,arguments)}function o0(n,e,t,r,i,s,l,a,u){if(a0.apply(this,arguments),li){if(li){var o=ks;li=!1,ks=null}else throw Error(z(198));Cs||(Cs=!0,pa=o)}}function tr(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function lc(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function pu(n){if(tr(n)!==n)throw Error(z(188))}function u0(n){var e=n.alternate;if(!e){if(e=tr(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return pu(i),n;if(s===r)return pu(i),e;s=s.sibling}throw Error(z(188))}if(t.return!==r.return)t=i,r=s;else{for(var l=!1,a=i.child;a;){if(a===t){l=!0,t=i,r=s;break}if(a===r){l=!0,r=i,t=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===t){l=!0,t=s,r=i;break}if(a===r){l=!0,r=s,t=i;break}a=a.sibling}if(!l)throw Error(z(189))}}if(t.alternate!==r)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function ac(n){return n=u0(n),n!==null?oc(n):null}function oc(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=oc(n);if(e!==null)return e;n=n.sibling}return null}var uc=vt.unstable_scheduleCallback,gu=vt.unstable_cancelCallback,h0=vt.unstable_shouldYield,c0=vt.unstable_requestPaint,Le=vt.unstable_now,d0=vt.unstable_getCurrentPriorityLevel,co=vt.unstable_ImmediatePriority,hc=vt.unstable_UserBlockingPriority,Es=vt.unstable_NormalPriority,f0=vt.unstable_LowPriority,cc=vt.unstable_IdlePriority,rl=null,Ht=null;function m0(n){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(rl,n,void 0,(n.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:v0,p0=Math.log,g0=Math.LN2;function v0(n){return n>>>=0,n===0?32:31-(p0(n)/g0|0)|0}var qi=64,Gi=4194304;function ni(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function bs(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,l=t&268435455;if(l!==0){var a=l&~i;a!==0?r=ni(a):(s&=l,s!==0&&(r=ni(s)))}else l=t&~i,l!==0?r=ni(l):s!==0&&(r=ni(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ot(e),i=1<<t,r|=n[t],e&=~i;return r}function y0(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function w0(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var l=31-Ot(s),a=1<<l,u=i[l];u===-1?(!(a&t)||a&r)&&(i[l]=y0(a,e)):u<=e&&(n.expiredLanes|=a),s&=~a}}function ga(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function dc(){var n=qi;return qi<<=1,!(qi&4194240)&&(qi=64),n}function Al(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Bi(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ot(e),n[e]=t}function x0(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ot(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function fo(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ot(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xe=0;function fc(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var mc,mo,pc,gc,vc,va=!1,Qi=[],Cn=null,En=null,bn=null,yi=new Map,wi=new Map,yn=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(n,e){switch(n){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":yi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(e.pointerId)}}function qr(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xi(e),e!==null&&mo(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function k0(n,e,t,r,i){switch(e){case"focusin":return Cn=qr(Cn,n,e,t,r,i),!0;case"dragenter":return En=qr(En,n,e,t,r,i),!0;case"mouseover":return bn=qr(bn,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return yi.set(s,qr(yi.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,wi.set(s,qr(wi.get(s)||null,n,e,t,r,i)),!0}return!1}function yc(n){var e=Vn(n.target);if(e!==null){var t=tr(e);if(t!==null){if(e=t.tag,e===13){if(e=lc(t),e!==null){n.blockedOn=e,vc(n.priority,function(){pc(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cs(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=ya(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);da=r,t.target.dispatchEvent(r),da=null}else return e=Xi(t),e!==null&&mo(e),n.blockedOn=t,!1;e.shift()}return!0}function yu(n,e,t){cs(n)&&t.delete(e)}function C0(){va=!1,Cn!==null&&cs(Cn)&&(Cn=null),En!==null&&cs(En)&&(En=null),bn!==null&&cs(bn)&&(bn=null),yi.forEach(yu),wi.forEach(yu)}function Gr(n,e){n.blockedOn===e&&(n.blockedOn=null,va||(va=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,C0)))}function xi(n){function e(i){return Gr(i,n)}if(0<Qi.length){Gr(Qi[0],n);for(var t=1;t<Qi.length;t++){var r=Qi[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Cn!==null&&Gr(Cn,n),En!==null&&Gr(En,n),bn!==null&&Gr(bn,n),yi.forEach(e),wi.forEach(e),t=0;t<yn.length;t++)r=yn[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<yn.length&&(t=yn[0],t.blockedOn===null);)yc(t),t.blockedOn===null&&yn.shift()}var Ar=cn.ReactCurrentBatchConfig,Ts=!0;function E0(n,e,t,r){var i=xe,s=Ar.transition;Ar.transition=null;try{xe=1,po(n,e,t,r)}finally{xe=i,Ar.transition=s}}function b0(n,e,t,r){var i=xe,s=Ar.transition;Ar.transition=null;try{xe=4,po(n,e,t,r)}finally{xe=i,Ar.transition=s}}function po(n,e,t,r){if(Ts){var i=ya(n,e,t,r);if(i===null)Ol(n,e,r,As,t),vu(n,r);else if(k0(i,n,e,t,r))r.stopPropagation();else if(vu(n,r),e&4&&-1<S0.indexOf(n)){for(;i!==null;){var s=Xi(i);if(s!==null&&mc(s),s=ya(n,e,t,r),s===null&&Ol(n,e,r,As,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ol(n,e,r,null,t)}}var As=null;function ya(n,e,t,r){if(As=null,n=ho(r),n=Vn(n),n!==null)if(e=tr(n),e===null)n=null;else if(t=e.tag,t===13){if(n=lc(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return As=n,null}function wc(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d0()){case co:return 1;case hc:return 4;case Es:case f0:return 16;case cc:return 536870912;default:return 16}default:return 16}}var Sn=null,go=null,ds=null;function xc(){if(ds)return ds;var n,e=go,t=e.length,r,i="value"in Sn?Sn.value:Sn.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var l=t-n;for(r=1;r<=l&&e[t-r]===i[s-r];r++);return ds=i.slice(n,1<r?1-r:void 0)}function fs(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Zi(){return!0}function wu(){return!1}function wt(n){function e(t,r,i,s,l){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zi:wu,this.isPropagationStopped=wu,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),e}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=wt(Ur),Oi=Ie({},Ur,{view:0,detail:0}),T0=wt(Oi),Il,Ml,Qr,il=Ie({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qr&&(Qr&&n.type==="mousemove"?(Il=n.screenX-Qr.screenX,Ml=n.screenY-Qr.screenY):Ml=Il=0,Qr=n),Il)},movementY:function(n){return"movementY"in n?n.movementY:Ml}}),xu=wt(il),A0=Ie({},il,{dataTransfer:0}),I0=wt(A0),M0=Ie({},Oi,{relatedTarget:0}),Rl=wt(M0),R0=Ie({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=wt(R0),F0=Ie({},Ur,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),P0=wt(F0),Y0=Ie({},Ur,{data:0}),Su=wt(Y0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=O0[n])?!!e[n]:!1}function yo(){return X0}var D0=Ie({},Oi,{key:function(n){if(n.key){var e=N0[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=fs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?B0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(n){return n.type==="keypress"?fs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),z0=wt(D0),V0=Ie({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=wt(V0),U0=Ie({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),_0=wt(U0),W0=Ie({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),j0=wt(W0),H0=Ie({},il,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=wt(H0),G0=[9,13,27,32],wo=an&&"CompositionEvent"in window,ai=null;an&&"documentMode"in document&&(ai=document.documentMode);var Q0=an&&"TextEvent"in window&&!ai,Sc=an&&(!wo||ai&&8<ai&&11>=ai),Cu=" ",Eu=!1;function kc(n,e){switch(n){case"keyup":return G0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ur=!1;function Z0(n,e){switch(n){case"compositionend":return Cc(e);case"keypress":return e.which!==32?null:(Eu=!0,Cu);case"textInput":return n=e.data,n===Cu&&Eu?null:n;default:return null}}function K0(n,e){if(ur)return n==="compositionend"||!wo&&kc(n,e)?(n=xc(),ds=go=Sn=null,ur=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sc&&e.locale!=="ko"?null:e.data;default:return null}}var $0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bu(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!$0[n.type]:e==="textarea"}function Ec(n,e,t,r){tc(r),e=Is(e,"onChange"),0<e.length&&(t=new vo("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var oi=null,Si=null;function J0(n){Nc(n,0)}function sl(n){var e=dr(n);if(Gh(e))return n}function em(n,e){if(n==="change")return e}var bc=!1;if(an){var Ll;if(an){var Fl="oninput"in document;if(!Fl){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),Fl=typeof Tu.oninput=="function"}Ll=Fl}else Ll=!1;bc=Ll&&(!document.documentMode||9<document.documentMode)}function Au(){oi&&(oi.detachEvent("onpropertychange",Tc),Si=oi=null)}function Tc(n){if(n.propertyName==="value"&&sl(Si)){var e=[];Ec(e,Si,n,ho(n)),sc(J0,e)}}function tm(n,e,t){n==="focusin"?(Au(),oi=e,Si=t,oi.attachEvent("onpropertychange",Tc)):n==="focusout"&&Au()}function nm(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sl(Si)}function rm(n,e){if(n==="click")return sl(e)}function im(n,e){if(n==="input"||n==="change")return sl(e)}function sm(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Dt=typeof Object.is=="function"?Object.is:sm;function ki(n,e){if(Dt(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!ea.call(e,i)||!Dt(n[i],e[i]))return!1}return!0}function Iu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mu(n,e){var t=Iu(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Iu(t)}}function Ac(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Ac(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Ic(){for(var n=window,e=Ss();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ss(n.document)}return e}function xo(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function lm(n){var e=Ic(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Ac(t.ownerDocument.documentElement,t)){if(r!==null&&xo(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=Mu(t,s);var l=Mu(t,r);i&&l&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var am=an&&"documentMode"in document&&11>=document.documentMode,hr=null,wa=null,ui=null,xa=!1;function Ru(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;xa||hr==null||hr!==Ss(r)||(r=hr,"selectionStart"in r&&xo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ui&&ki(ui,r)||(ui=r,r=Is(wa,"onSelect"),0<r.length&&(e=new vo("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=hr)))}function Ki(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var cr={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionend:Ki("Transition","TransitionEnd")},Pl={},Mc={};an&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function ll(n){if(Pl[n])return Pl[n];if(!cr[n])return n;var e=cr[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Mc)return Pl[n]=e[t];return n}var Rc=ll("animationend"),Lc=ll("animationiteration"),Fc=ll("animationstart"),Pc=ll("transitionend"),Yc=new Map,Lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(n,e){Yc.set(n,e),er(e,[n])}for(var Yl=0;Yl<Lu.length;Yl++){var Nl=Lu[Yl],om=Nl.toLowerCase(),um=Nl[0].toUpperCase()+Nl.slice(1);Nn(om,"on"+um)}Nn(Rc,"onAnimationEnd");Nn(Lc,"onAnimationIteration");Nn(Fc,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(Pc,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function Fu(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,o0(r,e,void 0,n),n.currentTarget=null}function Nc(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],u=a.instance,o=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Fu(i,a,o),s=u}else for(l=0;l<r.length;l++){if(a=r[l],u=a.instance,o=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Fu(i,a,o),s=u}}}if(Cs)throw n=pa,Cs=!1,pa=null,n}function ke(n,e){var t=e[ba];t===void 0&&(t=e[ba]=new Set);var r=n+"__bubble";t.has(r)||(Bc(e,n,2,!1),t.add(r))}function Bl(n,e,t){var r=0;e&&(r|=4),Bc(t,n,r,e)}var $i="_reactListening"+Math.random().toString(36).slice(2);function Ci(n){if(!n[$i]){n[$i]=!0,_h.forEach(function(t){t!=="selectionchange"&&(hm.has(t)||Bl(t,!1,n),Bl(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[$i]||(e[$i]=!0,Bl("selectionchange",!1,e))}}function Bc(n,e,t,r){switch(wc(e)){case 1:var i=E0;break;case 4:i=b0;break;default:i=po}t=i.bind(null,e,t,n),i=void 0,!ma||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Ol(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;a!==null;){if(l=Vn(a),l===null)return;if(u=l.tag,u===5||u===6){r=s=l;continue e}a=a.parentNode}}r=r.return}sc(function(){var o=s,h=ho(t),c=[];e:{var d=Yc.get(n);if(d!==void 0){var m=vo,y=n;switch(n){case"keypress":if(fs(t)===0)break e;case"keydown":case"keyup":m=z0;break;case"focusin":y="focus",m=Rl;break;case"focusout":y="blur",m=Rl;break;case"beforeblur":case"afterblur":m=Rl;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=I0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_0;break;case Rc:case Lc:case Fc:m=L0;break;case Pc:m=j0;break;case"scroll":m=T0;break;case"wheel":m=q0;break;case"copy":case"cut":case"paste":m=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ku}var v=(e&4)!==0,S=!v&&n==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var w=o,g;w!==null;){g=w;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,p!==null&&(x=vi(w,p),x!=null&&v.push(Ei(w,x,g)))),S)break;w=w.return}0<v.length&&(d=new m(d,y,null,t,h),c.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",d&&t!==da&&(y=t.relatedTarget||t.fromElement)&&(Vn(y)||y[on]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=o,y=y?Vn(y):null,y!==null&&(S=tr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=o),m!==y)){if(v=xu,x="onMouseLeave",p="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=ku,x="onPointerLeave",p="onPointerEnter",w="pointer"),S=m==null?d:dr(m),g=y==null?d:dr(y),d=new v(x,w+"leave",m,t,h),d.target=S,d.relatedTarget=g,x=null,Vn(h)===o&&(v=new v(p,w+"enter",y,t,h),v.target=g,v.relatedTarget=S,x=v),S=x,m&&y)t:{for(v=m,p=y,w=0,g=v;g;g=sr(g))w++;for(g=0,x=p;x;x=sr(x))g++;for(;0<w-g;)v=sr(v),w--;for(;0<g-w;)p=sr(p),g--;for(;w--;){if(v===p||p!==null&&v===p.alternate)break t;v=sr(v),p=sr(p)}v=null}else v=null;m!==null&&Pu(c,d,m,v,!1),y!==null&&S!==null&&Pu(c,S,y,v,!0)}}e:{if(d=o?dr(o):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var k=em;else if(bu(d))if(bc)k=im;else{k=nm;var C=tm}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=rm);if(k&&(k=k(n,o))){Ec(c,k,t,h);break e}C&&C(n,d,o),n==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&aa(d,"number",d.value)}switch(C=o?dr(o):window,n){case"focusin":(bu(C)||C.contentEditable==="true")&&(hr=C,wa=o,ui=null);break;case"focusout":ui=wa=hr=null;break;case"mousedown":xa=!0;break;case"contextmenu":case"mouseup":case"dragend":xa=!1,Ru(c,t,h);break;case"selectionchange":if(am)break;case"keydown":case"keyup":Ru(c,t,h)}var E;if(wo)e:{switch(n){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ur?kc(n,t)&&(b="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(b="onCompositionStart");b&&(Sc&&t.locale!=="ko"&&(ur||b!=="onCompositionStart"?b==="onCompositionEnd"&&ur&&(E=xc()):(Sn=h,go="value"in Sn?Sn.value:Sn.textContent,ur=!0)),C=Is(o,b),0<C.length&&(b=new Su(b,n,null,t,h),c.push({event:b,listeners:C}),E?b.data=E:(E=Cc(t),E!==null&&(b.data=E)))),(E=Q0?Z0(n,t):K0(n,t))&&(o=Is(o,"onBeforeInput"),0<o.length&&(h=new Su("onBeforeInput","beforeinput",null,t,h),c.push({event:h,listeners:o}),h.data=E))}Nc(c,e)})}function Ei(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Is(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vi(n,t),s!=null&&r.unshift(Ei(n,s,i)),s=vi(n,e),s!=null&&r.push(Ei(n,s,i))),n=n.return}return r}function sr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Pu(n,e,t,r,i){for(var s=e._reactName,l=[];t!==null&&t!==r;){var a=t,u=a.alternate,o=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&o!==null&&(a=o,i?(u=vi(t,s),u!=null&&l.unshift(Ei(t,u,a))):i||(u=vi(t,s),u!=null&&l.push(Ei(t,u,a)))),t=t.return}l.length!==0&&n.push({event:e,listeners:l})}var cm=/\r\n?/g,dm=/\u0000|\uFFFD/g;function Yu(n){return(typeof n=="string"?n:""+n).replace(cm,`
`).replace(dm,"")}function Ji(n,e,t){if(e=Yu(e),Yu(n)!==e&&t)throw Error(z(425))}function Ms(){}var Sa=null,ka=null;function Ca(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ea=typeof setTimeout=="function"?setTimeout:void 0,fm=typeof clearTimeout=="function"?clearTimeout:void 0,Nu=typeof Promise=="function"?Promise:void 0,mm=typeof queueMicrotask=="function"?queueMicrotask:typeof Nu<"u"?function(n){return Nu.resolve(null).then(n).catch(pm)}:Ea;function pm(n){setTimeout(function(){throw n})}function Xl(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),xi(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);xi(e)}function Tn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Bu(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var _r=Math.random().toString(36).slice(2),Wt="__reactFiber$"+_r,bi="__reactProps$"+_r,on="__reactContainer$"+_r,ba="__reactEvents$"+_r,gm="__reactListeners$"+_r,vm="__reactHandles$"+_r;function Vn(n){var e=n[Wt];if(e)return e;for(var t=n.parentNode;t;){if(e=t[on]||t[Wt]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Bu(n);n!==null;){if(t=n[Wt])return t;n=Bu(n)}return e}n=t,t=n.parentNode}return null}function Xi(n){return n=n[Wt]||n[on],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function al(n){return n[bi]||null}var Ta=[],fr=-1;function Bn(n){return{current:n}}function Ce(n){0>fr||(n.current=Ta[fr],Ta[fr]=null,fr--)}function Se(n,e){fr++,Ta[fr]=n.current,n.current=e}var Pn={},Ke=Bn(Pn),ht=Bn(!1),Gn=Pn;function Lr(n,e){var t=n.type.contextTypes;if(!t)return Pn;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ct(n){return n=n.childContextTypes,n!=null}function Rs(){Ce(ht),Ce(Ke)}function Ou(n,e,t){if(Ke.current!==Pn)throw Error(z(168));Se(Ke,e),Se(ht,t)}function Oc(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,t0(n)||"Unknown",i));return Ie({},t,r)}function Ls(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Pn,Gn=Ke.current,Se(Ke,n),Se(ht,ht.current),!0}function Xu(n,e,t){var r=n.stateNode;if(!r)throw Error(z(169));t?(n=Oc(n,e,Gn),r.__reactInternalMemoizedMergedChildContext=n,Ce(ht),Ce(Ke),Se(Ke,n)):Ce(ht),Se(ht,t)}var nn=null,ol=!1,Dl=!1;function Xc(n){nn===null?nn=[n]:nn.push(n)}function ym(n){ol=!0,Xc(n)}function On(){if(!Dl&&nn!==null){Dl=!0;var n=0,e=xe;try{var t=nn;for(xe=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}nn=null,ol=!1}catch(i){throw nn!==null&&(nn=nn.slice(n+1)),uc(co,On),i}finally{xe=e,Dl=!1}}return null}var mr=[],pr=0,Fs=null,Ps=0,Ct=[],Et=0,Qn=null,rn=1,sn="";function Dn(n,e){mr[pr++]=Ps,mr[pr++]=Fs,Fs=n,Ps=e}function Dc(n,e,t){Ct[Et++]=rn,Ct[Et++]=sn,Ct[Et++]=Qn,Qn=n;var r=rn;n=sn;var i=32-Ot(r)-1;r&=~(1<<i),t+=1;var s=32-Ot(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,rn=1<<32-Ot(e)+i|t<<i|r,sn=s+n}else rn=1<<s|t<<i|r,sn=n}function So(n){n.return!==null&&(Dn(n,1),Dc(n,1,0))}function ko(n){for(;n===Fs;)Fs=mr[--pr],mr[pr]=null,Ps=mr[--pr],mr[pr]=null;for(;n===Qn;)Qn=Ct[--Et],Ct[Et]=null,sn=Ct[--Et],Ct[Et]=null,rn=Ct[--Et],Ct[Et]=null}var gt=null,pt=null,be=!1,Nt=null;function zc(n,e){var t=bt(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Du(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,gt=n,pt=Tn(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,gt=n,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Qn!==null?{id:rn,overflow:sn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=bt(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,gt=n,pt=null,!0):!1;default:return!1}}function Aa(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ia(n){if(be){var e=pt;if(e){var t=e;if(!Du(n,e)){if(Aa(n))throw Error(z(418));e=Tn(t.nextSibling);var r=gt;e&&Du(n,e)?zc(r,t):(n.flags=n.flags&-4097|2,be=!1,gt=n)}}else{if(Aa(n))throw Error(z(418));n.flags=n.flags&-4097|2,be=!1,gt=n}}}function zu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;gt=n}function es(n){if(n!==gt)return!1;if(!be)return zu(n),be=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Ca(n.type,n.memoizedProps)),e&&(e=pt)){if(Aa(n))throw Vc(),Error(z(418));for(;e;)zc(n,e),e=Tn(e.nextSibling)}if(zu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){pt=Tn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}pt=null}}else pt=gt?Tn(n.stateNode.nextSibling):null;return!0}function Vc(){for(var n=pt;n;)n=Tn(n.nextSibling)}function Fr(){pt=gt=null,be=!1}function Co(n){Nt===null?Nt=[n]:Nt.push(n)}var wm=cn.ReactCurrentBatchConfig;function Zr(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var r=t.stateNode}if(!r)throw Error(z(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var a=i.refs;l===null?delete a[s]:a[s]=l},e._stringRef=s,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function ts(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Vu(n){var e=n._init;return e(n._payload)}function Uc(n){function e(p,w){if(n){var g=p.deletions;g===null?(p.deletions=[w],p.flags|=16):g.push(w)}}function t(p,w){if(!n)return null;for(;w!==null;)e(p,w),w=w.sibling;return null}function r(p,w){for(p=new Map;w!==null;)w.key!==null?p.set(w.key,w):p.set(w.index,w),w=w.sibling;return p}function i(p,w){return p=Rn(p,w),p.index=0,p.sibling=null,p}function s(p,w,g){return p.index=g,n?(g=p.alternate,g!==null?(g=g.index,g<w?(p.flags|=2,w):g):(p.flags|=2,w)):(p.flags|=1048576,w)}function l(p){return n&&p.alternate===null&&(p.flags|=2),p}function a(p,w,g,x){return w===null||w.tag!==6?(w=Hl(g,p.mode,x),w.return=p,w):(w=i(w,g),w.return=p,w)}function u(p,w,g,x){var k=g.type;return k===or?h(p,w,g.props.children,x,g.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pn&&Vu(k)===w.type)?(x=i(w,g.props),x.ref=Zr(p,w,g),x.return=p,x):(x=xs(g.type,g.key,g.props,null,p.mode,x),x.ref=Zr(p,w,g),x.return=p,x)}function o(p,w,g,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==g.containerInfo||w.stateNode.implementation!==g.implementation?(w=ql(g,p.mode,x),w.return=p,w):(w=i(w,g.children||[]),w.return=p,w)}function h(p,w,g,x,k){return w===null||w.tag!==7?(w=jn(g,p.mode,x,k),w.return=p,w):(w=i(w,g),w.return=p,w)}function c(p,w,g){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Hl(""+w,p.mode,g),w.return=p,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wi:return g=xs(w.type,w.key,w.props,null,p.mode,g),g.ref=Zr(p,null,w),g.return=p,g;case ar:return w=ql(w,p.mode,g),w.return=p,w;case pn:var x=w._init;return c(p,x(w._payload),g)}if(ti(w)||jr(w))return w=jn(w,p.mode,g,null),w.return=p,w;ts(p,w)}return null}function d(p,w,g,x){var k=w!==null?w.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:a(p,w,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wi:return g.key===k?u(p,w,g,x):null;case ar:return g.key===k?o(p,w,g,x):null;case pn:return k=g._init,d(p,w,k(g._payload),x)}if(ti(g)||jr(g))return k!==null?null:h(p,w,g,x,null);ts(p,g)}return null}function m(p,w,g,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(g)||null,a(w,p,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wi:return p=p.get(x.key===null?g:x.key)||null,u(w,p,x,k);case ar:return p=p.get(x.key===null?g:x.key)||null,o(w,p,x,k);case pn:var C=x._init;return m(p,w,g,C(x._payload),k)}if(ti(x)||jr(x))return p=p.get(g)||null,h(w,p,x,k,null);ts(w,x)}return null}function y(p,w,g,x){for(var k=null,C=null,E=w,b=w=0,T=null;E!==null&&b<g.length;b++){E.index>b?(T=E,E=null):T=E.sibling;var I=d(p,E,g[b],x);if(I===null){E===null&&(E=T);break}n&&E&&I.alternate===null&&e(p,E),w=s(I,w,b),C===null?k=I:C.sibling=I,C=I,E=T}if(b===g.length)return t(p,E),be&&Dn(p,b),k;if(E===null){for(;b<g.length;b++)E=c(p,g[b],x),E!==null&&(w=s(E,w,b),C===null?k=E:C.sibling=E,C=E);return be&&Dn(p,b),k}for(E=r(p,E);b<g.length;b++)T=m(E,p,b,g[b],x),T!==null&&(n&&T.alternate!==null&&E.delete(T.key===null?b:T.key),w=s(T,w,b),C===null?k=T:C.sibling=T,C=T);return n&&E.forEach(function(P){return e(p,P)}),be&&Dn(p,b),k}function v(p,w,g,x){var k=jr(g);if(typeof k!="function")throw Error(z(150));if(g=k.call(g),g==null)throw Error(z(151));for(var C=k=null,E=w,b=w=0,T=null,I=g.next();E!==null&&!I.done;b++,I=g.next()){E.index>b?(T=E,E=null):T=E.sibling;var P=d(p,E,I.value,x);if(P===null){E===null&&(E=T);break}n&&E&&P.alternate===null&&e(p,E),w=s(P,w,b),C===null?k=P:C.sibling=P,C=P,E=T}if(I.done)return t(p,E),be&&Dn(p,b),k;if(E===null){for(;!I.done;b++,I=g.next())I=c(p,I.value,x),I!==null&&(w=s(I,w,b),C===null?k=I:C.sibling=I,C=I);return be&&Dn(p,b),k}for(E=r(p,E);!I.done;b++,I=g.next())I=m(E,p,b,I.value,x),I!==null&&(n&&I.alternate!==null&&E.delete(I.key===null?b:I.key),w=s(I,w,b),C===null?k=I:C.sibling=I,C=I);return n&&E.forEach(function(O){return e(p,O)}),be&&Dn(p,b),k}function S(p,w,g,x){if(typeof g=="object"&&g!==null&&g.type===or&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Wi:e:{for(var k=g.key,C=w;C!==null;){if(C.key===k){if(k=g.type,k===or){if(C.tag===7){t(p,C.sibling),w=i(C,g.props.children),w.return=p,p=w;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===pn&&Vu(k)===C.type){t(p,C.sibling),w=i(C,g.props),w.ref=Zr(p,C,g),w.return=p,p=w;break e}t(p,C);break}else e(p,C);C=C.sibling}g.type===or?(w=jn(g.props.children,p.mode,x,g.key),w.return=p,p=w):(x=xs(g.type,g.key,g.props,null,p.mode,x),x.ref=Zr(p,w,g),x.return=p,p=x)}return l(p);case ar:e:{for(C=g.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===g.containerInfo&&w.stateNode.implementation===g.implementation){t(p,w.sibling),w=i(w,g.children||[]),w.return=p,p=w;break e}else{t(p,w);break}else e(p,w);w=w.sibling}w=ql(g,p.mode,x),w.return=p,p=w}return l(p);case pn:return C=g._init,S(p,w,C(g._payload),x)}if(ti(g))return y(p,w,g,x);if(jr(g))return v(p,w,g,x);ts(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,w!==null&&w.tag===6?(t(p,w.sibling),w=i(w,g),w.return=p,p=w):(t(p,w),w=Hl(g,p.mode,x),w.return=p,p=w),l(p)):t(p,w)}return S}var Pr=Uc(!0),_c=Uc(!1),Ys=Bn(null),Ns=null,gr=null,Eo=null;function bo(){Eo=gr=Ns=null}function To(n){var e=Ys.current;Ce(Ys),n._currentValue=e}function Ma(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ir(n,e){Ns=n,Eo=gr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ut=!0),n.firstContext=null)}function At(n){var e=n._currentValue;if(Eo!==n)if(n={context:n,memoizedValue:e,next:null},gr===null){if(Ns===null)throw Error(z(308));gr=n,Ns.dependencies={lanes:0,firstContext:n}}else gr=gr.next=n;return e}var Un=null;function Ao(n){Un===null?Un=[n]:Un.push(n)}function Wc(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,Ao(e)):(t.next=i.next,i.next=t),e.interleaved=t,un(n,r)}function un(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var gn=!1;function Io(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jc(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ln(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function An(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,un(n,t)}return i=r.interleaved,i===null?(e.next=e,Ao(r)):(e.next=i.next,i.next=e),r.interleaved=e,un(n,t)}function ms(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,fo(n,t)}}function Uu(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=l:s=s.next=l,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Bs(n,e,t,r){var i=n.updateQueue;gn=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,o=u.next;u.next=null,l===null?s=o:l.next=o,l=u;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==l&&(a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=u))}if(s!==null){var c=i.baseState;l=0,h=o=u=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(d=e,m=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){c=y.call(m,c,d);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(m,c,d):y,d==null)break e;c=Ie({},c,d);break e;case 2:gn=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(o=h=m,u=c):h=h.next=m,l|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(u=c),i.baseState=u,i.firstBaseUpdate=o,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Kn|=l,n.lanes=l,n.memoizedState=c}}function _u(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Di={},qt=Bn(Di),Ti=Bn(Di),Ai=Bn(Di);function _n(n){if(n===Di)throw Error(z(174));return n}function Mo(n,e){switch(Se(Ai,e),Se(Ti,n),Se(qt,Di),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ua(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ua(e,n)}Ce(qt),Se(qt,e)}function Yr(){Ce(qt),Ce(Ti),Ce(Ai)}function Hc(n){_n(Ai.current);var e=_n(qt.current),t=ua(e,n.type);e!==t&&(Se(Ti,n),Se(qt,t))}function Ro(n){Ti.current===n&&(Ce(qt),Ce(Ti))}var Te=Bn(0);function Os(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zl=[];function Lo(){for(var n=0;n<zl.length;n++)zl[n]._workInProgressVersionPrimary=null;zl.length=0}var ps=cn.ReactCurrentDispatcher,Vl=cn.ReactCurrentBatchConfig,Zn=0,Ae=null,Ye=null,Oe=null,Xs=!1,hi=!1,Ii=0,xm=0;function je(){throw Error(z(321))}function Fo(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Dt(n[t],e[t]))return!1;return!0}function Po(n,e,t,r,i,s){if(Zn=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ps.current=n===null||n.memoizedState===null?Em:bm,n=t(r,i),hi){s=0;do{if(hi=!1,Ii=0,25<=s)throw Error(z(301));s+=1,Oe=Ye=null,e.updateQueue=null,ps.current=Tm,n=t(r,i)}while(hi)}if(ps.current=Ds,e=Ye!==null&&Ye.next!==null,Zn=0,Oe=Ye=Ae=null,Xs=!1,e)throw Error(z(300));return n}function Yo(){var n=Ii!==0;return Ii=0,n}function _t(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Ae.memoizedState=Oe=n:Oe=Oe.next=n,Oe}function It(){if(Ye===null){var n=Ae.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var e=Oe===null?Ae.memoizedState:Oe.next;if(e!==null)Oe=e,Ye=n;else{if(n===null)throw Error(z(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Oe===null?Ae.memoizedState=Oe=n:Oe=Oe.next=n}return Oe}function Mi(n,e){return typeof e=="function"?e(n):e}function Ul(n){var e=It(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=Ye,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=l=null,u=null,o=s;do{var h=o.lane;if((Zn&h)===h)u!==null&&(u=u.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),r=o.hasEagerState?o.eagerState:n(r,o.action);else{var c={lane:h,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};u===null?(a=u=c,l=r):u=u.next=c,Ae.lanes|=h,Kn|=h}o=o.next}while(o!==null&&o!==s);u===null?l=r:u.next=a,Dt(r,e.memoizedState)||(ut=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ae.lanes|=s,Kn|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function _l(n){var e=It(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var l=i=i.next;do s=n(s,l.action),l=l.next;while(l!==i);Dt(s,e.memoizedState)||(ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function qc(){}function Gc(n,e){var t=Ae,r=It(),i=e(),s=!Dt(r.memoizedState,i);if(s&&(r.memoizedState=i,ut=!0),r=r.queue,No(Kc.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Oe!==null&&Oe.memoizedState.tag&1){if(t.flags|=2048,Ri(9,Zc.bind(null,t,r,i,e),void 0,null),Xe===null)throw Error(z(349));Zn&30||Qc(t,e,i)}return i}function Qc(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Zc(n,e,t,r){e.value=t,e.getSnapshot=r,$c(e)&&Jc(n)}function Kc(n,e,t){return t(function(){$c(e)&&Jc(n)})}function $c(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Dt(n,t)}catch{return!0}}function Jc(n){var e=un(n,1);e!==null&&Xt(e,n,1,-1)}function Wu(n){var e=_t();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:n},e.queue=n,n=n.dispatch=Cm.bind(null,Ae,n),[e.memoizedState,n]}function Ri(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function ed(){return It().memoizedState}function gs(n,e,t,r){var i=_t();Ae.flags|=n,i.memoizedState=Ri(1|e,t,void 0,r===void 0?null:r)}function ul(n,e,t,r){var i=It();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var l=Ye.memoizedState;if(s=l.destroy,r!==null&&Fo(r,l.deps)){i.memoizedState=Ri(e,t,s,r);return}}Ae.flags|=n,i.memoizedState=Ri(1|e,t,s,r)}function ju(n,e){return gs(8390656,8,n,e)}function No(n,e){return ul(2048,8,n,e)}function td(n,e){return ul(4,2,n,e)}function nd(n,e){return ul(4,4,n,e)}function rd(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function id(n,e,t){return t=t!=null?t.concat([n]):null,ul(4,4,rd.bind(null,e,n),t)}function Bo(){}function sd(n,e){var t=It();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Fo(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function ld(n,e){var t=It();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Fo(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function ad(n,e,t){return Zn&21?(Dt(t,e)||(t=dc(),Ae.lanes|=t,Kn|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ut=!0),n.memoizedState=t)}function Sm(n,e){var t=xe;xe=t!==0&&4>t?t:4,n(!0);var r=Vl.transition;Vl.transition={};try{n(!1),e()}finally{xe=t,Vl.transition=r}}function od(){return It().memoizedState}function km(n,e,t){var r=Mn(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},ud(n))hd(e,t);else if(t=Wc(n,e,t,r),t!==null){var i=et();Xt(t,n,r,i),cd(t,e,r)}}function Cm(n,e,t){var r=Mn(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(ud(n))hd(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,a=s(l,t);if(i.hasEagerState=!0,i.eagerState=a,Dt(a,l)){var u=e.interleaved;u===null?(i.next=i,Ao(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=Wc(n,e,i,r),t!==null&&(i=et(),Xt(t,n,r,i),cd(t,e,r))}}function ud(n){var e=n.alternate;return n===Ae||e!==null&&e===Ae}function hd(n,e){hi=Xs=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function cd(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,fo(n,t)}}var Ds={readContext:At,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Em={readContext:At,useCallback:function(n,e){return _t().memoizedState=[n,e===void 0?null:e],n},useContext:At,useEffect:ju,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,gs(4194308,4,rd.bind(null,e,n),t)},useLayoutEffect:function(n,e){return gs(4194308,4,n,e)},useInsertionEffect:function(n,e){return gs(4,2,n,e)},useMemo:function(n,e){var t=_t();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=_t();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=km.bind(null,Ae,n),[r.memoizedState,n]},useRef:function(n){var e=_t();return n={current:n},e.memoizedState=n},useState:Wu,useDebugValue:Bo,useDeferredValue:function(n){return _t().memoizedState=n},useTransition:function(){var n=Wu(!1),e=n[0];return n=Sm.bind(null,n[1]),_t().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ae,i=_t();if(be){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),Xe===null)throw Error(z(349));Zn&30||Qc(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,ju(Kc.bind(null,r,s,n),[n]),r.flags|=2048,Ri(9,Zc.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=_t(),e=Xe.identifierPrefix;if(be){var t=sn,r=rn;t=(r&~(1<<32-Ot(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ii++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=xm++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},bm={readContext:At,useCallback:sd,useContext:At,useEffect:No,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ld,useReducer:Ul,useRef:ed,useState:function(){return Ul(Mi)},useDebugValue:Bo,useDeferredValue:function(n){var e=It();return ad(e,Ye.memoizedState,n)},useTransition:function(){var n=Ul(Mi)[0],e=It().memoizedState;return[n,e]},useMutableSource:qc,useSyncExternalStore:Gc,useId:od,unstable_isNewReconciler:!1},Tm={readContext:At,useCallback:sd,useContext:At,useEffect:No,useImperativeHandle:id,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ld,useReducer:_l,useRef:ed,useState:function(){return _l(Mi)},useDebugValue:Bo,useDeferredValue:function(n){var e=It();return Ye===null?e.memoizedState=n:ad(e,Ye.memoizedState,n)},useTransition:function(){var n=_l(Mi)[0],e=It().memoizedState;return[n,e]},useMutableSource:qc,useSyncExternalStore:Gc,useId:od,unstable_isNewReconciler:!1};function Pt(n,e){if(n&&n.defaultProps){e=Ie({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ra(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Ie({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var hl={isMounted:function(n){return(n=n._reactInternals)?tr(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=et(),i=Mn(n),s=ln(r,i);s.payload=e,t!=null&&(s.callback=t),e=An(n,s,i),e!==null&&(Xt(e,n,i,r),ms(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=et(),i=Mn(n),s=ln(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=An(n,s,i),e!==null&&(Xt(e,n,i,r),ms(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=et(),r=Mn(n),i=ln(t,r);i.tag=2,e!=null&&(i.callback=e),e=An(n,i,r),e!==null&&(Xt(e,n,r,t),ms(e,n,r))}};function Hu(n,e,t,r,i,s,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!ki(t,r)||!ki(i,s):!0}function dd(n,e,t){var r=!1,i=Pn,s=e.contextType;return typeof s=="object"&&s!==null?s=At(s):(i=ct(e)?Gn:Ke.current,r=e.contextTypes,s=(r=r!=null)?Lr(n,i):Pn),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hl,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function qu(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&hl.enqueueReplaceState(e,e.state,null)}function La(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Io(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=At(s):(s=ct(e)?Gn:Ke.current,i.context=Lr(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ra(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hl.enqueueReplaceState(i,i.state,null),Bs(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Nr(n,e){try{var t="",r=e;do t+=e0(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Wl(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Fa(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Am=typeof WeakMap=="function"?WeakMap:Map;function fd(n,e,t){t=ln(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Vs||(Vs=!0,Ua=r),Fa(n,e)},t}function md(n,e,t){t=ln(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Fa(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Fa(n,e),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}function Gu(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new Am;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=Vm.bind(null,n,e,t),e.then(n,n))}function Qu(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Zu(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ln(-1,1),e.tag=2,An(t,e,1))),t.lanes|=1),n)}var Im=cn.ReactCurrentOwner,ut=!1;function Je(n,e,t,r){e.child=n===null?_c(e,null,t,r):Pr(e,n.child,t,r)}function Ku(n,e,t,r,i){t=t.render;var s=e.ref;return Ir(e,i),r=Po(n,e,t,r,s,i),t=Yo(),n!==null&&!ut?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,hn(n,e,i)):(be&&t&&So(e),e.flags|=1,Je(n,e,r,i),e.child)}function $u(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Wo(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,pd(n,e,s,r,i)):(n=xs(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var l=s.memoizedProps;if(t=t.compare,t=t!==null?t:ki,t(l,r)&&n.ref===e.ref)return hn(n,e,i)}return e.flags|=1,n=Rn(s,r),n.ref=e.ref,n.return=e,e.child=n}function pd(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(ki(s,r)&&n.ref===e.ref)if(ut=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ut=!0);else return e.lanes=n.lanes,hn(n,e,i)}return Pa(n,e,t,r,i)}function gd(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(yr,mt),mt|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Se(yr,mt),mt|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Se(yr,mt),mt|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Se(yr,mt),mt|=r;return Je(n,e,i,t),e.child}function vd(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Pa(n,e,t,r,i){var s=ct(t)?Gn:Ke.current;return s=Lr(e,s),Ir(e,i),t=Po(n,e,t,r,s,i),r=Yo(),n!==null&&!ut?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,hn(n,e,i)):(be&&r&&So(e),e.flags|=1,Je(n,e,t,i),e.child)}function Ju(n,e,t,r,i){if(ct(t)){var s=!0;Ls(e)}else s=!1;if(Ir(e,i),e.stateNode===null)vs(n,e),dd(e,t,r),La(e,t,r,i),r=!0;else if(n===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,o=t.contextType;typeof o=="object"&&o!==null?o=At(o):(o=ct(t)?Gn:Ke.current,o=Lr(e,o));var h=t.getDerivedStateFromProps,c=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||u!==o)&&qu(e,l,r,o),gn=!1;var d=e.memoizedState;l.state=d,Bs(e,r,l,i),u=e.memoizedState,a!==r||d!==u||ht.current||gn?(typeof h=="function"&&(Ra(e,t,h,r),u=e.memoizedState),(a=gn||Hu(e,t,a,r,d,u,o))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=o,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,jc(n,e),a=e.memoizedProps,o=e.type===e.elementType?a:Pt(e.type,a),l.props=o,c=e.pendingProps,d=l.context,u=t.contextType,typeof u=="object"&&u!==null?u=At(u):(u=ct(t)?Gn:Ke.current,u=Lr(e,u));var m=t.getDerivedStateFromProps;(h=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==c||d!==u)&&qu(e,l,r,u),gn=!1,d=e.memoizedState,l.state=d,Bs(e,r,l,i);var y=e.memoizedState;a!==c||d!==y||ht.current||gn?(typeof m=="function"&&(Ra(e,t,m,r),y=e.memoizedState),(o=gn||Hu(e,t,o,r,d,y,u)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),l.props=r,l.state=y,l.context=u,r=o):(typeof l.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return Ya(n,e,t,r,s,i)}function Ya(n,e,t,r,i,s){vd(n,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Xu(e,t,!1),hn(n,e,s);r=e.stateNode,Im.current=e;var a=l&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&l?(e.child=Pr(e,n.child,null,s),e.child=Pr(e,null,a,s)):Je(n,e,a,s),e.memoizedState=r.state,i&&Xu(e,t,!0),e.child}function yd(n){var e=n.stateNode;e.pendingContext?Ou(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ou(n,e.context,!1),Mo(n,e.containerInfo)}function eh(n,e,t,r,i){return Fr(),Co(i),e.flags|=256,Je(n,e,t,r),e.child}var Na={dehydrated:null,treeContext:null,retryLane:0};function Ba(n){return{baseLanes:n,cachePool:null,transitions:null}}function wd(n,e,t){var r=e.pendingProps,i=Te.current,s=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Se(Te,i&1),n===null)return Ia(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,n=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=fl(l,r,0,null),n=jn(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Ba(t),e.memoizedState=Na,n):Oo(e,l));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Mm(n,e,l,r,a,i,t);if(s){s=r.fallback,l=e.mode,i=n.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Rn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Rn(a,s):(s=jn(s,l,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=n.child.memoizedState,l=l===null?Ba(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=n.childLanes&~t,e.memoizedState=Na,r}return s=n.child,n=s.sibling,r=Rn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Oo(n,e){return e=fl({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ns(n,e,t,r){return r!==null&&Co(r),Pr(e,n.child,null,t),n=Oo(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Mm(n,e,t,r,i,s,l){if(t)return e.flags&256?(e.flags&=-257,r=Wl(Error(z(422))),ns(n,e,l,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=fl({mode:"visible",children:r.children},i,0,null),s=jn(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Pr(e,n.child,null,l),e.child.memoizedState=Ba(l),e.memoizedState=Na,s);if(!(e.mode&1))return ns(n,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Wl(s,r,void 0),ns(n,e,l,r)}if(a=(l&n.childLanes)!==0,ut||a){if(r=Xe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,un(n,i),Xt(r,n,i,-1))}return _o(),r=Wl(Error(z(421))),ns(n,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Um.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,pt=Tn(i.nextSibling),gt=e,be=!0,Nt=null,n!==null&&(Ct[Et++]=rn,Ct[Et++]=sn,Ct[Et++]=Qn,rn=n.id,sn=n.overflow,Qn=e),e=Oo(e,r.children),e.flags|=4096,e)}function th(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Ma(n.return,e,t)}function jl(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function xd(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Je(n,e,r.children,t),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&th(n,t,e);else if(n.tag===19)th(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Se(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Os(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),jl(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Os(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}jl(e,!0,t,null,s);break;case"together":jl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vs(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function hn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Kn|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=Rn(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Rn(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Rm(n,e,t){switch(e.tag){case 3:yd(e),Fr();break;case 5:Hc(e);break;case 1:ct(e.type)&&Ls(e);break;case 4:Mo(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(Ys,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Te,Te.current&1),e.flags|=128,null):t&e.child.childLanes?wd(n,e,t):(Se(Te,Te.current&1),n=hn(n,e,t),n!==null?n.sibling:null);Se(Te,Te.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return xd(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,gd(n,e,t)}return hn(n,e,t)}var Sd,Oa,kd,Cd;Sd=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Oa=function(){};kd=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,_n(qt.current);var s=null;switch(t){case"input":i=sa(n,i),r=sa(n,r),s=[];break;case"select":i=Ie({},i,{value:void 0}),r=Ie({},r,{value:void 0}),s=[];break;case"textarea":i=oa(n,i),r=oa(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Ms)}ha(t,r);var l;t=null;for(o in i)if(!r.hasOwnProperty(o)&&i.hasOwnProperty(o)&&i[o]!=null)if(o==="style"){var a=i[o];for(l in a)a.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pi.hasOwnProperty(o)?s||(s=[]):(s=s||[]).push(o,null));for(o in r){var u=r[o];if(a=i!=null?i[o]:void 0,r.hasOwnProperty(o)&&u!==a&&(u!=null||a!=null))if(o==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(t||(t={}),t[l]=u[l])}else t||(s||(s=[]),s.push(o,t)),t=u;else o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(o,u)):o==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(o,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(pi.hasOwnProperty(o)?(u!=null&&o==="onScroll"&&ke("scroll",n),s||a===u||(s=[])):(s=s||[]).push(o,u))}t&&(s=s||[]).push("style",t);var o=s;(e.updateQueue=o)&&(e.flags|=4)}};Cd=function(n,e,t,r){t!==r&&(e.flags|=4)};function Kr(n,e){if(!be)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function He(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function Lm(n,e,t){var r=e.pendingProps;switch(ko(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return ct(e.type)&&Rs(),He(e),null;case 3:return r=e.stateNode,Yr(),Ce(ht),Ce(Ke),Lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(es(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nt!==null&&(ja(Nt),Nt=null))),Oa(n,e),He(e),null;case 5:Ro(e);var i=_n(Ai.current);if(t=e.type,n!==null&&e.stateNode!=null)kd(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return He(e),null}if(n=_n(qt.current),es(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Wt]=e,r[bi]=s,n=(e.mode&1)!==0,t){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<ri.length;i++)ke(ri[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":hu(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":du(r,s),ke("invalid",r)}ha(t,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ji(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ji(r.textContent,a,n),i=["children",""+a]):pi.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ke("scroll",r)}switch(t){case"input":ji(r),cu(r,s,!0);break;case"textarea":ji(r),fu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ms)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Kh(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=l.createElement(t,{is:r.is}):(n=l.createElement(t),t==="select"&&(l=n,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):n=l.createElementNS(n,t),n[Wt]=e,n[bi]=r,Sd(n,e,!1,!1),e.stateNode=n;e:{switch(l=ca(t,r),t){case"dialog":ke("cancel",n),ke("close",n),i=r;break;case"iframe":case"object":case"embed":ke("load",n),i=r;break;case"video":case"audio":for(i=0;i<ri.length;i++)ke(ri[i],n);i=r;break;case"source":ke("error",n),i=r;break;case"img":case"image":case"link":ke("error",n),ke("load",n),i=r;break;case"details":ke("toggle",n),i=r;break;case"input":hu(n,r),i=sa(n,r),ke("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Ie({},r,{value:void 0}),ke("invalid",n);break;case"textarea":du(n,r),i=oa(n,r),ke("invalid",n);break;default:i=r}ha(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ec(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&$h(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&gi(n,u):typeof u=="number"&&gi(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pi.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ke("scroll",n):u!=null&&lo(n,s,u,l))}switch(t){case"input":ji(n),cu(n,r,!1);break;case"textarea":ji(n),fu(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Fn(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Er(n,!!r.multiple,s,!1):r.defaultValue!=null&&Er(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ms)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(n&&e.stateNode!=null)Cd(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=_n(Ai.current),_n(qt.current),es(e)){if(r=e.stateNode,t=e.memoizedProps,r[Wt]=e,(s=r.nodeValue!==t)&&(n=gt,n!==null))switch(n.tag){case 3:Ji(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ji(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Wt]=e,e.stateNode=r}return He(e),null;case 13:if(Ce(Te),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(be&&pt!==null&&e.mode&1&&!(e.flags&128))Vc(),Fr(),e.flags|=98560,s=!1;else if(s=es(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Wt]=e}else Fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),s=!1}else Nt!==null&&(ja(Nt),Nt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Te.current&1?Be===0&&(Be=3):_o())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Yr(),Oa(n,e),n===null&&Ci(e.stateNode.containerInfo),He(e),null;case 10:return To(e.type._context),He(e),null;case 17:return ct(e.type)&&Rs(),He(e),null;case 19:if(Ce(Te),s=e.memoizedState,s===null)return He(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Kr(s,!1);else{if(Be!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=Os(n),l!==null){for(e.flags|=128,Kr(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,n=l.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Se(Te,Te.current&1|2),e.child}n=n.sibling}s.tail!==null&&Le()>Br&&(e.flags|=128,r=!0,Kr(s,!1),e.lanes=4194304)}else{if(!r)if(n=Os(l),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Kr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!be)return He(e),null}else 2*Le()-s.renderingStartTime>Br&&t!==1073741824&&(e.flags|=128,r=!0,Kr(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(t=s.last,t!==null?t.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Le(),e.sibling=null,t=Te.current,Se(Te,r?t&1|2:t&1),e):(He(e),null);case 22:case 23:return Uo(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mt&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Fm(n,e){switch(ko(e),e.tag){case 1:return ct(e.type)&&Rs(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yr(),Ce(ht),Ce(Ke),Lo(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Ro(e),null;case 13:if(Ce(Te),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Fr()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ce(Te),null;case 4:return Yr(),null;case 10:return To(e.type._context),null;case 22:case 23:return Uo(),null;case 24:return null;default:return null}}var rs=!1,Qe=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,_=null;function vr(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Re(n,e,r)}else t.current=null}function Xa(n,e,t){try{t()}catch(r){Re(n,e,r)}}var nh=!1;function Ym(n,e){if(Sa=Ts,n=Ic(),xo(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var l=0,a=-1,u=-1,o=0,h=0,c=n,d=null;t:for(;;){for(var m;c!==t||i!==0&&c.nodeType!==3||(a=l+i),c!==s||r!==0&&c.nodeType!==3||(u=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(m=c.firstChild)!==null;)d=c,c=m;for(;;){if(c===n)break t;if(d===t&&++o===i&&(a=l),d===s&&++h===r&&(u=l),(m=c.nextSibling)!==null)break;c=d,d=c.parentNode}c=m}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(ka={focusedElem:n,selectionRange:t},Ts=!1,_=e;_!==null;)if(e=_,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,_=n;else for(;_!==null;){e=_;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,p=e.stateNode,w=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:Pt(e.type,v),S);p.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(x){Re(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,_=n;break}_=e.return}return y=nh,nh=!1,y}function ci(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xa(e,t,s)}i=i.next}while(i!==r)}}function cl(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Da(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Ed(n){var e=n.alternate;e!==null&&(n.alternate=null,Ed(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Wt],delete e[bi],delete e[ba],delete e[gm],delete e[vm])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function bd(n){return n.tag===5||n.tag===3||n.tag===4}function rh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bd(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function za(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ms));else if(r!==4&&(n=n.child,n!==null))for(za(n,e,t),n=n.sibling;n!==null;)za(n,e,t),n=n.sibling}function Va(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Va(n,e,t),n=n.sibling;n!==null;)Va(n,e,t),n=n.sibling}var ze=null,Yt=!1;function fn(n,e,t){for(t=t.child;t!==null;)Td(n,e,t),t=t.sibling}function Td(n,e,t){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(rl,t)}catch{}switch(t.tag){case 5:Qe||vr(t,e);case 6:var r=ze,i=Yt;ze=null,fn(n,e,t),ze=r,Yt=i,ze!==null&&(Yt?(n=ze,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ze.removeChild(t.stateNode));break;case 18:ze!==null&&(Yt?(n=ze,t=t.stateNode,n.nodeType===8?Xl(n.parentNode,t):n.nodeType===1&&Xl(n,t),xi(n)):Xl(ze,t.stateNode));break;case 4:r=ze,i=Yt,ze=t.stateNode.containerInfo,Yt=!0,fn(n,e,t),ze=r,Yt=i;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Xa(t,e,l),i=i.next}while(i!==r)}fn(n,e,t);break;case 1:if(!Qe&&(vr(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Re(t,e,a)}fn(n,e,t);break;case 21:fn(n,e,t);break;case 22:t.mode&1?(Qe=(r=Qe)||t.memoizedState!==null,fn(n,e,t),Qe=r):fn(n,e,t);break;default:fn(n,e,t)}}function ih(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new Pm),e.forEach(function(r){var i=_m.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Mt(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Yt=!1;break e;case 3:ze=a.stateNode.containerInfo,Yt=!0;break e;case 4:ze=a.stateNode.containerInfo,Yt=!0;break e}a=a.return}if(ze===null)throw Error(z(160));Td(s,l,i),ze=null,Yt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(o){Re(i,e,o)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ad(e,n),e=e.sibling}function Ad(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mt(e,n),Vt(n),r&4){try{ci(3,n,n.return),cl(3,n)}catch(v){Re(n,n.return,v)}try{ci(5,n,n.return)}catch(v){Re(n,n.return,v)}}break;case 1:Mt(e,n),Vt(n),r&512&&t!==null&&vr(t,t.return);break;case 5:if(Mt(e,n),Vt(n),r&512&&t!==null&&vr(t,t.return),n.flags&32){var i=n.stateNode;try{gi(i,"")}catch(v){Re(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,l=t!==null?t.memoizedProps:s,a=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Qh(i,s),ca(a,l);var o=ca(a,s);for(l=0;l<u.length;l+=2){var h=u[l],c=u[l+1];h==="style"?ec(i,c):h==="dangerouslySetInnerHTML"?$h(i,c):h==="children"?gi(i,c):lo(i,h,c,o)}switch(a){case"input":la(i,s);break;case"textarea":Zh(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Er(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Er(i,!!s.multiple,s.defaultValue,!0):Er(i,!!s.multiple,s.multiple?[]:"",!1))}i[bi]=s}catch(v){Re(n,n.return,v)}}break;case 6:if(Mt(e,n),Vt(n),r&4){if(n.stateNode===null)throw Error(z(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){Re(n,n.return,v)}}break;case 3:if(Mt(e,n),Vt(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{xi(e.containerInfo)}catch(v){Re(n,n.return,v)}break;case 4:Mt(e,n),Vt(n);break;case 13:Mt(e,n),Vt(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zo=Le())),r&4&&ih(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Qe=(o=Qe)||h,Mt(e,n),Qe=o):Mt(e,n),Vt(n),r&8192){if(o=n.memoizedState!==null,(n.stateNode.isHidden=o)&&!h&&n.mode&1)for(_=n,h=n.child;h!==null;){for(c=_=h;_!==null;){switch(d=_,m=d.child,d.tag){case 0:case 11:case 14:case 15:ci(4,d,d.return);break;case 1:vr(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Re(r,t,v)}}break;case 5:vr(d,d.return);break;case 22:if(d.memoizedState!==null){lh(c);continue}}m!==null?(m.return=d,_=m):lh(c)}h=h.sibling}e:for(h=null,c=n;;){if(c.tag===5){if(h===null){h=c;try{i=c.stateNode,o?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=c.stateNode,u=c.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Jh("display",l))}catch(v){Re(n,n.return,v)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(v){Re(n,n.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===n)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Mt(e,n),Vt(n),r&4&&ih(n);break;case 21:break;default:Mt(e,n),Vt(n)}}function Vt(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(bd(t)){var r=t;break e}t=t.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gi(i,""),r.flags&=-33);var s=rh(n);Va(n,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,a=rh(n);za(n,a,l);break;default:throw Error(z(161))}}catch(u){Re(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Nm(n,e,t){_=n,Id(n)}function Id(n,e,t){for(var r=(n.mode&1)!==0;_!==null;){var i=_,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||rs;if(!l){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Qe;a=rs;var o=Qe;if(rs=l,(Qe=u)&&!o)for(_=i;_!==null;)l=_,u=l.child,l.tag===22&&l.memoizedState!==null?ah(i):u!==null?(u.return=l,_=u):ah(i);for(;s!==null;)_=s,Id(s),s=s.sibling;_=i,rs=a,Qe=o}sh(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_=s):sh(n)}}function sh(n){for(;_!==null;){var e=_;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qe||cl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qe)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Pt(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_u(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}_u(e,l,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var o=e.alternate;if(o!==null){var h=o.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&xi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Qe||e.flags&512&&Da(e)}catch(d){Re(e,e.return,d)}}if(e===n){_=null;break}if(t=e.sibling,t!==null){t.return=e.return,_=t;break}_=e.return}}function lh(n){for(;_!==null;){var e=_;if(e===n){_=null;break}var t=e.sibling;if(t!==null){t.return=e.return,_=t;break}_=e.return}}function ah(n){for(;_!==null;){var e=_;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{cl(4,e)}catch(u){Re(e,t,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Re(e,i,u)}}var s=e.return;try{Da(e)}catch(u){Re(e,s,u)}break;case 5:var l=e.return;try{Da(e)}catch(u){Re(e,l,u)}}}catch(u){Re(e,e.return,u)}if(e===n){_=null;break}var a=e.sibling;if(a!==null){a.return=e.return,_=a;break}_=e.return}}var Bm=Math.ceil,zs=cn.ReactCurrentDispatcher,Xo=cn.ReactCurrentOwner,Tt=cn.ReactCurrentBatchConfig,ye=0,Xe=null,Pe=null,Ue=0,mt=0,yr=Bn(0),Be=0,Li=null,Kn=0,dl=0,Do=0,di=null,at=null,zo=0,Br=1/0,en=null,Vs=!1,Ua=null,In=null,is=!1,kn=null,Us=0,fi=0,_a=null,ys=-1,ws=0;function et(){return ye&6?Le():ys!==-1?ys:ys=Le()}function Mn(n){return n.mode&1?ye&2&&Ue!==0?Ue&-Ue:wm.transition!==null?(ws===0&&(ws=dc()),ws):(n=xe,n!==0||(n=window.event,n=n===void 0?16:wc(n.type)),n):1}function Xt(n,e,t,r){if(50<fi)throw fi=0,_a=null,Error(z(185));Bi(n,t,r),(!(ye&2)||n!==Xe)&&(n===Xe&&(!(ye&2)&&(dl|=t),Be===4&&wn(n,Ue)),dt(n,r),t===1&&ye===0&&!(e.mode&1)&&(Br=Le()+500,ol&&On()))}function dt(n,e){var t=n.callbackNode;w0(n,e);var r=bs(n,n===Xe?Ue:0);if(r===0)t!==null&&gu(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&gu(t),e===1)n.tag===0?ym(oh.bind(null,n)):Xc(oh.bind(null,n)),mm(function(){!(ye&6)&&On()}),t=null;else{switch(fc(r)){case 1:t=co;break;case 4:t=hc;break;case 16:t=Es;break;case 536870912:t=cc;break;default:t=Es}t=Bd(t,Md.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Md(n,e){if(ys=-1,ws=0,ye&6)throw Error(z(327));var t=n.callbackNode;if(Mr()&&n.callbackNode!==t)return null;var r=bs(n,n===Xe?Ue:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=_s(n,r);else{e=r;var i=ye;ye|=2;var s=Ld();(Xe!==n||Ue!==e)&&(en=null,Br=Le()+500,Wn(n,e));do try{Dm();break}catch(a){Rd(n,a)}while(!0);bo(),zs.current=s,ye=i,Pe!==null?e=0:(Xe=null,Ue=0,e=Be)}if(e!==0){if(e===2&&(i=ga(n),i!==0&&(r=i,e=Wa(n,i))),e===1)throw t=Li,Wn(n,0),wn(n,r),dt(n,Le()),t;if(e===6)wn(n,r);else{if(i=n.current.alternate,!(r&30)&&!Om(i)&&(e=_s(n,r),e===2&&(s=ga(n),s!==0&&(r=s,e=Wa(n,s))),e===1))throw t=Li,Wn(n,0),wn(n,r),dt(n,Le()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:zn(n,at,en);break;case 3:if(wn(n,r),(r&130023424)===r&&(e=zo+500-Le(),10<e)){if(bs(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){et(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Ea(zn.bind(null,n,at,en),e);break}zn(n,at,en);break;case 4:if(wn(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var l=31-Ot(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bm(r/1960))-r,10<r){n.timeoutHandle=Ea(zn.bind(null,n,at,en),r);break}zn(n,at,en);break;case 5:zn(n,at,en);break;default:throw Error(z(329))}}}return dt(n,Le()),n.callbackNode===t?Md.bind(null,n):null}function Wa(n,e){var t=di;return n.current.memoizedState.isDehydrated&&(Wn(n,e).flags|=256),n=_s(n,e),n!==2&&(e=at,at=t,e!==null&&ja(e)),n}function ja(n){at===null?at=n:at.push.apply(at,n)}function Om(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Dt(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wn(n,e){for(e&=~Do,e&=~dl,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ot(e),r=1<<t;n[t]=-1,e&=~r}}function oh(n){if(ye&6)throw Error(z(327));Mr();var e=bs(n,0);if(!(e&1))return dt(n,Le()),null;var t=_s(n,e);if(n.tag!==0&&t===2){var r=ga(n);r!==0&&(e=r,t=Wa(n,r))}if(t===1)throw t=Li,Wn(n,0),wn(n,e),dt(n,Le()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,zn(n,at,en),dt(n,Le()),null}function Vo(n,e){var t=ye;ye|=1;try{return n(e)}finally{ye=t,ye===0&&(Br=Le()+500,ol&&On())}}function $n(n){kn!==null&&kn.tag===0&&!(ye&6)&&Mr();var e=ye;ye|=1;var t=Tt.transition,r=xe;try{if(Tt.transition=null,xe=1,n)return n()}finally{xe=r,Tt.transition=t,ye=e,!(ye&6)&&On()}}function Uo(){mt=yr.current,Ce(yr)}function Wn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,fm(t)),Pe!==null)for(t=Pe.return;t!==null;){var r=t;switch(ko(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rs();break;case 3:Yr(),Ce(ht),Ce(Ke),Lo();break;case 5:Ro(r);break;case 4:Yr();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:To(r.type._context);break;case 22:case 23:Uo()}t=t.return}if(Xe=n,Pe=n=Rn(n.current,null),Ue=mt=e,Be=0,Li=null,Do=dl=Kn=0,at=di=null,Un!==null){for(e=0;e<Un.length;e++)if(t=Un[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}t.pending=r}Un=null}return n}function Rd(n,e){do{var t=Pe;try{if(bo(),ps.current=Ds,Xs){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xs=!1}if(Zn=0,Oe=Ye=Ae=null,hi=!1,Ii=0,Xo.current=null,t===null||t.return===null){Be=1,Li=e,Pe=null;break}e:{var s=n,l=t.return,a=t,u=e;if(e=Ue,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var o=u,h=a,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Qu(l);if(m!==null){m.flags&=-257,Zu(m,l,a,s,e),m.mode&1&&Gu(s,o,e),e=m,u=o;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){Gu(s,o,e),_o();break e}u=Error(z(426))}}else if(be&&a.mode&1){var S=Qu(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Zu(S,l,a,s,e),Co(Nr(u,a));break e}}s=u=Nr(u,a),Be!==4&&(Be=2),di===null?di=[s]:di.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=fd(s,u,e);Uu(s,p);break e;case 1:a=u;var w=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(In===null||!In.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=md(s,a,e);Uu(s,x);break e}}s=s.return}while(s!==null)}Pd(t)}catch(k){e=k,Pe===t&&t!==null&&(Pe=t=t.return);continue}break}while(!0)}function Ld(){var n=zs.current;return zs.current=Ds,n===null?Ds:n}function _o(){(Be===0||Be===3||Be===2)&&(Be=4),Xe===null||!(Kn&268435455)&&!(dl&268435455)||wn(Xe,Ue)}function _s(n,e){var t=ye;ye|=2;var r=Ld();(Xe!==n||Ue!==e)&&(en=null,Wn(n,e));do try{Xm();break}catch(i){Rd(n,i)}while(!0);if(bo(),ye=t,zs.current=r,Pe!==null)throw Error(z(261));return Xe=null,Ue=0,Be}function Xm(){for(;Pe!==null;)Fd(Pe)}function Dm(){for(;Pe!==null&&!h0();)Fd(Pe)}function Fd(n){var e=Nd(n.alternate,n,mt);n.memoizedProps=n.pendingProps,e===null?Pd(n):Pe=e,Xo.current=null}function Pd(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Fm(t,e),t!==null){t.flags&=32767,Pe=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Be=6,Pe=null;return}}else if(t=Lm(t,e,mt),t!==null){Pe=t;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=n}while(e!==null);Be===0&&(Be=5)}function zn(n,e,t){var r=xe,i=Tt.transition;try{Tt.transition=null,xe=1,zm(n,e,t,r)}finally{Tt.transition=i,xe=r}return null}function zm(n,e,t,r){do Mr();while(kn!==null);if(ye&6)throw Error(z(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(x0(n,s),n===Xe&&(Pe=Xe=null,Ue=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||is||(is=!0,Bd(Es,function(){return Mr(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Tt.transition,Tt.transition=null;var l=xe;xe=1;var a=ye;ye|=4,Xo.current=null,Ym(n,t),Ad(t,n),lm(ka),Ts=!!Sa,ka=Sa=null,n.current=t,Nm(t),c0(),ye=a,xe=l,Tt.transition=s}else n.current=t;if(is&&(is=!1,kn=n,Us=i),s=n.pendingLanes,s===0&&(In=null),m0(t.stateNode),dt(n,Le()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vs)throw Vs=!1,n=Ua,Ua=null,n;return Us&1&&n.tag!==0&&Mr(),s=n.pendingLanes,s&1?n===_a?fi++:(fi=0,_a=n):fi=0,On(),null}function Mr(){if(kn!==null){var n=fc(Us),e=Tt.transition,t=xe;try{if(Tt.transition=null,xe=16>n?16:n,kn===null)var r=!1;else{if(n=kn,kn=null,Us=0,ye&6)throw Error(z(331));var i=ye;for(ye|=4,_=n.current;_!==null;){var s=_,l=s.child;if(_.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var o=a[u];for(_=o;_!==null;){var h=_;switch(h.tag){case 0:case 11:case 15:ci(8,h,s)}var c=h.child;if(c!==null)c.return=h,_=c;else for(;_!==null;){h=_;var d=h.sibling,m=h.return;if(Ed(h),h===o){_=null;break}if(d!==null){d.return=m,_=d;break}_=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}_=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,_=l;else e:for(;_!==null;){if(s=_,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ci(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,_=p;break e}_=s.return}}var w=n.current;for(_=w;_!==null;){l=_;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,_=g;else e:for(l=w;_!==null;){if(a=_,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cl(9,a)}}catch(k){Re(a,a.return,k)}if(a===l){_=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,_=x;break e}_=a.return}}if(ye=i,On(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(rl,n)}catch{}r=!0}return r}finally{xe=t,Tt.transition=e}}return!1}function uh(n,e,t){e=Nr(t,e),e=fd(n,e,1),n=An(n,e,1),e=et(),n!==null&&(Bi(n,1,e),dt(n,e))}function Re(n,e,t){if(n.tag===3)uh(n,n,t);else for(;e!==null;){if(e.tag===3){uh(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){n=Nr(t,n),n=md(e,n,1),e=An(e,n,1),n=et(),e!==null&&(Bi(e,1,n),dt(e,n));break}}e=e.return}}function Vm(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=et(),n.pingedLanes|=n.suspendedLanes&t,Xe===n&&(Ue&t)===t&&(Be===4||Be===3&&(Ue&130023424)===Ue&&500>Le()-zo?Wn(n,0):Do|=t),dt(n,e)}function Yd(n,e){e===0&&(n.mode&1?(e=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):e=1);var t=et();n=un(n,e),n!==null&&(Bi(n,e,t),dt(n,t))}function Um(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Yd(n,t)}function _m(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Yd(n,t)}var Nd;Nd=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ht.current)ut=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ut=!1,Rm(n,e,t);ut=!!(n.flags&131072)}else ut=!1,be&&e.flags&1048576&&Dc(e,Ps,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vs(n,e),n=e.pendingProps;var i=Lr(e,Ke.current);Ir(e,t),i=Po(null,e,r,n,i,t);var s=Yo();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ct(r)?(s=!0,Ls(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Io(e),i.updater=hl,e.stateNode=i,i._reactInternals=e,La(e,r,n,t),e=Ya(null,e,r,!0,s,t)):(e.tag=0,be&&s&&So(e),Je(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(vs(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jm(r),n=Pt(r,n),i){case 0:e=Pa(null,e,r,n,t);break e;case 1:e=Ju(null,e,r,n,t);break e;case 11:e=Ku(null,e,r,n,t);break e;case 14:e=$u(null,e,r,Pt(r.type,n),t);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Pa(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Ju(n,e,r,i,t);case 3:e:{if(yd(e),n===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jc(n,e),Bs(e,r,null,t);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nr(Error(z(423)),e),e=eh(n,e,r,t,i);break e}else if(r!==i){i=Nr(Error(z(424)),e),e=eh(n,e,r,t,i);break e}else for(pt=Tn(e.stateNode.containerInfo.firstChild),gt=e,be=!0,Nt=null,t=_c(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Fr(),r===i){e=hn(n,e,t);break e}Je(n,e,r,t)}e=e.child}return e;case 5:return Hc(e),n===null&&Ia(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,l=i.children,Ca(r,i)?l=null:s!==null&&Ca(r,s)&&(e.flags|=32),vd(n,e),Je(n,e,l,t),e.child;case 6:return n===null&&Ia(e),null;case 13:return wd(n,e,t);case 4:return Mo(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Pr(e,null,r,t):Je(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),Ku(n,e,r,i,t);case 7:return Je(n,e,e.pendingProps,t),e.child;case 8:return Je(n,e,e.pendingProps.children,t),e.child;case 12:return Je(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,Se(Ys,r._currentValue),r._currentValue=l,s!==null)if(Dt(s.value,l)){if(s.children===i.children&&!ht.current){e=hn(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){l=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ln(-1,t&-t),u.tag=2;var o=s.updateQueue;if(o!==null){o=o.shared;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Ma(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(z(341));l.lanes|=t,a=l.alternate,a!==null&&(a.lanes|=t),Ma(l,t,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Je(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ir(e,t),i=At(i),r=r(i),e.flags|=1,Je(n,e,r,t),e.child;case 14:return r=e.type,i=Pt(r,e.pendingProps),i=Pt(r.type,i),$u(n,e,r,i,t);case 15:return pd(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Pt(r,i),vs(n,e),e.tag=1,ct(r)?(n=!0,Ls(e)):n=!1,Ir(e,t),dd(e,r,i),La(e,r,i,t),Ya(null,e,r,!0,n,t);case 19:return xd(n,e,t);case 22:return gd(n,e,t)}throw Error(z(156,e.tag))};function Bd(n,e){return uc(n,e)}function Wm(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(n,e,t,r){return new Wm(n,e,t,r)}function Wo(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jm(n){if(typeof n=="function")return Wo(n)?1:0;if(n!=null){if(n=n.$$typeof,n===oo)return 11;if(n===uo)return 14}return 2}function Rn(n,e){var t=n.alternate;return t===null?(t=bt(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function xs(n,e,t,r,i,s){var l=2;if(r=n,typeof n=="function")Wo(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case or:return jn(t.children,i,s,e);case ao:l=8,i|=8;break;case ta:return n=bt(12,t,e,i|2),n.elementType=ta,n.lanes=s,n;case na:return n=bt(13,t,e,i),n.elementType=na,n.lanes=s,n;case ra:return n=bt(19,t,e,i),n.elementType=ra,n.lanes=s,n;case Hh:return fl(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Wh:l=10;break e;case jh:l=9;break e;case oo:l=11;break e;case uo:l=14;break e;case pn:l=16,r=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=bt(l,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function jn(n,e,t,r){return n=bt(7,n,r,e),n.lanes=t,n}function fl(n,e,t,r){return n=bt(22,n,r,e),n.elementType=Hh,n.lanes=t,n.stateNode={isHidden:!1},n}function Hl(n,e,t){return n=bt(6,n,null,e),n.lanes=t,n}function ql(n,e,t){return e=bt(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Hm(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jo(n,e,t,r,i,s,l,a,u){return n=new Hm(n,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bt(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(s),n}function qm(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ar,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Od(n){if(!n)return Pn;n=n._reactInternals;e:{if(tr(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(ct(t))return Oc(n,t,e)}return e}function Xd(n,e,t,r,i,s,l,a,u){return n=jo(t,r,!0,n,i,s,l,a,u),n.context=Od(null),t=n.current,r=et(),i=Mn(t),s=ln(r,i),s.callback=e??null,An(t,s,i),n.current.lanes=i,Bi(n,i,r),dt(n,r),n}function ml(n,e,t,r){var i=e.current,s=et(),l=Mn(i);return t=Od(t),e.context===null?e.context=t:e.pendingContext=t,e=ln(s,l),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=An(i,e,l),n!==null&&(Xt(n,i,l,s),ms(n,i,l)),l}function Ws(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function hh(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Ho(n,e){hh(n,e),(n=n.alternate)&&hh(n,e)}function Gm(){return null}var Dd=typeof reportError=="function"?reportError:function(n){console.error(n)};function qo(n){this._internalRoot=n}pl.prototype.render=qo.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));ml(n,e,null,null)};pl.prototype.unmount=qo.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;$n(function(){ml(null,n,null,null)}),e[on]=null}};function pl(n){this._internalRoot=n}pl.prototype.unstable_scheduleHydration=function(n){if(n){var e=gc();n={blockedOn:null,target:n,priority:e};for(var t=0;t<yn.length&&e!==0&&e<yn[t].priority;t++);yn.splice(t,0,n),t===0&&yc(n)}};function Go(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function gl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ch(){}function Qm(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var o=Ws(l);s.call(o)}}var l=Xd(e,r,n,0,null,!1,!1,"",ch);return n._reactRootContainer=l,n[on]=l.current,Ci(n.nodeType===8?n.parentNode:n),$n(),l}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var o=Ws(u);a.call(o)}}var u=jo(n,0,!1,null,null,!1,!1,"",ch);return n._reactRootContainer=u,n[on]=u.current,Ci(n.nodeType===8?n.parentNode:n),$n(function(){ml(e,u,t,r)}),u}function vl(n,e,t,r,i){var s=t._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var a=i;i=function(){var u=Ws(l);a.call(u)}}ml(e,l,n,i)}else l=Qm(t,e,n,i,r);return Ws(l)}mc=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=ni(e.pendingLanes);t!==0&&(fo(e,t|1),dt(e,Le()),!(ye&6)&&(Br=Le()+500,On()))}break;case 13:$n(function(){var r=un(n,1);if(r!==null){var i=et();Xt(r,n,1,i)}}),Ho(n,1)}};mo=function(n){if(n.tag===13){var e=un(n,134217728);if(e!==null){var t=et();Xt(e,n,134217728,t)}Ho(n,134217728)}};pc=function(n){if(n.tag===13){var e=Mn(n),t=un(n,e);if(t!==null){var r=et();Xt(t,n,e,r)}Ho(n,e)}};gc=function(){return xe};vc=function(n,e){var t=xe;try{return xe=n,e()}finally{xe=t}};fa=function(n,e,t){switch(e){case"input":if(la(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=al(r);if(!i)throw Error(z(90));Gh(r),la(r,i)}}}break;case"textarea":Zh(n,t);break;case"select":e=t.value,e!=null&&Er(n,!!t.multiple,e,!1)}};rc=Vo;ic=$n;var Zm={usingClientEntryPoint:!1,Events:[Xi,dr,al,tc,nc,Vo]},$r={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Km={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ac(n),n===null?null:n.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ss.isDisabled&&ss.supportsFiber)try{rl=ss.inject(Km),Ht=ss}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zm;yt.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Go(e))throw Error(z(200));return qm(n,e,null,t)};yt.createRoot=function(n,e){if(!Go(n))throw Error(z(299));var t=!1,r="",i=Dd;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jo(n,1,!1,null,null,t,!1,r,i),n[on]=e.current,Ci(n.nodeType===8?n.parentNode:n),new qo(e)};yt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=ac(e),n=n===null?null:n.stateNode,n};yt.flushSync=function(n){return $n(n)};yt.hydrate=function(n,e,t){if(!gl(e))throw Error(z(200));return vl(null,n,e,!0,t)};yt.hydrateRoot=function(n,e,t){if(!Go(n))throw Error(z(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",l=Dd;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),e=Xd(e,null,n,1,t??null,i,!1,s,l),n[on]=e.current,Ci(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new pl(e)};yt.render=function(n,e,t){if(!gl(e))throw Error(z(200));return vl(null,n,e,!1,t)};yt.unmountComponentAtNode=function(n){if(!gl(n))throw Error(z(40));return n._reactRootContainer?($n(function(){vl(null,null,n,!1,function(){n._reactRootContainer=null,n[on]=null})}),!0):!1};yt.unstable_batchedUpdates=Vo;yt.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!gl(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return vl(n,e,t,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function zd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zd)}catch(n){console.error(n)}}zd(),zh.exports=yt;var $m=zh.exports,Vd,dh=$m;Vd=dh.createRoot,dh.hydrateRoot;class Ud{constructor(){f(this,"entries",{});f(this,"size",0)}add(e){let t=this.entries[e];return this.entries[e]=!0,t?!1:(this.size++,!0)}addAll(e){let t=this.size;for(var r=0,i=e.length;r<i;r++)this.add(e[r]);return t!=this.size}contains(e){return this.entries[e]}clear(){this.entries={},this.size=0}}const ft=class ft{constructor(e=0,t=0,r=0,i=0){f(this,"r");f(this,"g");f(this,"b");f(this,"a");this.r=e,this.g=t,this.b=r,this.a=i}set(e,t,r,i){return this.r=e,this.g=t,this.b=r,this.a=i,this.clamp()}setFromColor(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}setFromString(e){return e=e.charAt(0)=="#"?e.substr(1):e,this.r=parseInt(e.substr(0,2),16)/255,this.g=parseInt(e.substr(2,2),16)/255,this.b=parseInt(e.substr(4,2),16)/255,this.a=e.length!=8?1:parseInt(e.substr(6,2),16)/255,this}add(e,t,r,i){return this.r+=e,this.g+=t,this.b+=r,this.a+=i,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(e,t){e.r=((t&4278190080)>>>24)/255,e.g=((t&16711680)>>>16)/255,e.b=((t&65280)>>>8)/255,e.a=(t&255)/255}static rgb888ToColor(e,t){e.r=((t&16711680)>>>16)/255,e.g=((t&65280)>>>8)/255,e.b=(t&255)/255}static fromString(e){return new ft().setFromString(e)}};f(ft,"WHITE",new ft(1,1,1,1)),f(ft,"RED",new ft(1,0,0,1)),f(ft,"GREEN",new ft(0,1,0,1)),f(ft,"BLUE",new ft(0,0,1,1)),f(ft,"MAGENTA",new ft(1,0,1,1));let W=ft;const qe=class qe{static clamp(e,t,r){return e<t?t:e>r?r:e}static cosDeg(e){return Math.cos(e*qe.degRad)}static sinDeg(e){return Math.sin(e*qe.degRad)}static signum(e){return e>0?1:e<0?-1:0}static toInt(e){return e>0?Math.floor(e):Math.ceil(e)}static cbrt(e){let t=Math.pow(Math.abs(e),.3333333333333333);return e<0?-t:t}static randomTriangular(e,t){return qe.randomTriangularWith(e,t,(e+t)*.5)}static randomTriangularWith(e,t,r){let i=Math.random(),s=t-e;return i<=(r-e)/s?e+Math.sqrt(i*s*(r-e)):t-Math.sqrt((1-i)*s*(t-r))}static isPowerOfTwo(e){return e&&(e&e-1)===0}};f(qe,"PI",3.1415927),f(qe,"PI2",qe.PI*2),f(qe,"radiansToDegrees",180/qe.PI),f(qe,"radDeg",qe.radiansToDegrees),f(qe,"degreesToRadians",qe.PI/180),f(qe,"degRad",qe.degreesToRadians);let N=qe;const vn=class vn{static arrayCopy(e,t,r,i,s){for(let l=t,a=i;l<t+s;l++,a++)r[a]=e[l]}static arrayFill(e,t,r,i){for(let s=t;s<r;s++)e[s]=i}static setArraySize(e,t,r=0){let i=e.length;if(i==t)return e;if(e.length=t,i<t)for(let s=i;s<t;s++)e[s]=r;return e}static ensureArrayCapacity(e,t,r=0){return e.length>=t?e:vn.setArraySize(e,t,r)}static newArray(e,t){let r=new Array(e);for(let i=0;i<e;i++)r[i]=t;return r}static newFloatArray(e){if(vn.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);{let t=new Array(e);for(let r=0;r<t.length;r++)t[r]=0;return t}}static newShortArray(e){if(vn.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);{let t=new Array(e);for(let r=0;r<t.length;r++)t[r]=0;return t}}static toFloatArray(e){return vn.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e}static toSinglePrecision(e){return vn.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e}static webkit602BugfixHelper(e,t){}static contains(e,t,r=!0){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1}static enumValue(e,t){return e[t[0].toUpperCase()+t.slice(1)]}};f(vn,"SUPPORTS_TYPED_ARRAYS",typeof Float32Array<"u");let V=vn;class js{constructor(e){f(this,"items",new Array);f(this,"instantiator");this.instantiator=e}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(e){e.reset&&e.reset(),this.items.push(e)}freeAll(e){for(let t=0;t<e.length;t++)this.free(e[t])}clear(){this.items.length=0}}class jt{constructor(e=0,t=0){f(this,"x");f(this,"y");this.x=e,this.y=t}set(e,t){return this.x=e,this.y=t,this}length(){let e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}normalize(){let e=this.length();return e!=0&&(this.x/=e,this.y/=e),this}}class _d{constructor(){f(this,"maxDelta",.064);f(this,"framesPerSecond",0);f(this,"delta",0);f(this,"totalTime",0);f(this,"lastTime",Date.now()/1e3);f(this,"frameCount",0);f(this,"frameTime",0)}update(){let e=Date.now()/1e3;this.delta=e-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=e,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}class Wd{constructor(e){f(this,"name");if(!e)throw new Error("name cannot be null.");this.name=e}}const Ks=class Ks extends Wd{constructor(t){super(t);f(this,"id",Ks.nextID++);f(this,"bones",null);f(this,"vertices",[]);f(this,"worldVerticesLength",0);f(this,"timelineAttachment",this)}computeWorldVertices(t,r,i,s,l,a){i=l+(i>>1)*a;let u=t.bone.skeleton,o=t.deform,h=this.vertices,c=this.bones;if(!c){o.length>0&&(h=o);let v=t.bone,S=v.worldX,p=v.worldY,w=v.a,g=v.b,x=v.c,k=v.d;for(let C=r,E=l;E<i;C+=2,E+=a){let b=h[C],T=h[C+1];s[E]=b*w+T*g+S,s[E+1]=b*x+T*k+p}return}let d=0,m=0;for(let v=0;v<r;v+=2){let S=c[d];d+=S+1,m+=S}let y=u.bones;if(o.length==0)for(let v=l,S=m*3;v<i;v+=a){let p=0,w=0,g=c[d++];for(g+=d;d<g;d++,S+=3){let x=y[c[d]],k=h[S],C=h[S+1],E=h[S+2];p+=(k*x.a+C*x.b+x.worldX)*E,w+=(k*x.c+C*x.d+x.worldY)*E}s[v]=p,s[v+1]=w}else{let v=o;for(let S=l,p=m*3,w=m<<1;S<i;S+=a){let g=0,x=0,k=c[d++];for(k+=d;d<k;d++,p+=3,w+=2){let C=y[c[d]],E=h[p]+v[w],b=h[p+1]+v[w+1],T=h[p+2];g+=(E*C.a+b*C.b+C.worldX)*T,x+=(E*C.c+b*C.d+C.worldY)*T}s[S]=g,s[S+1]=x}}}copyTo(t){this.bones?(t.bones=new Array(this.bones.length),V.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,this.vertices&&(t.vertices=V.newFloatArray(this.vertices.length),V.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)),t.worldVerticesLength=this.worldVerticesLength,t.timelineAttachment=this.timelineAttachment}};f(Ks,"nextID",0);let zt=Ks;const Sr=class Sr{constructor(e){f(this,"id",Sr.nextID());f(this,"regions");f(this,"start",0);f(this,"digits",0);f(this,"setupIndex",0);this.regions=new Array(e)}copy(){let e=new Sr(this.regions.length);return V.arrayCopy(this.regions,0,e.regions,0,this.regions.length),e.start=this.start,e.digits=this.digits,e.setupIndex=this.setupIndex,e}apply(e,t){let r=e.sequenceIndex;r==-1&&(r=this.setupIndex),r>=this.regions.length&&(r=this.regions.length-1);let i=this.regions[r];t.region!=i&&(t.region=i,t.updateRegion())}getPath(e,t){let r=e,i=(this.start+t).toString();for(let s=this.digits-i.length;s>0;s--)r+="0";return r+=i,r}static nextID(){return Sr._nextID++}};f(Sr,"_nextID",0);let Hs=Sr;var Ve;(function(n){n[n.hold=0]="hold",n[n.once=1]="once",n[n.loop=2]="loop",n[n.pingpong=3]="pingpong",n[n.onceReverse=4]="onceReverse",n[n.loopReverse=5]="loopReverse",n[n.pingpongReverse=6]="pingpongReverse"})(Ve||(Ve={}));const jd=[Ve.hold,Ve.once,Ve.loop,Ve.pingpong,Ve.onceReverse,Ve.loopReverse,Ve.pingpongReverse];class Qo{constructor(e,t,r){f(this,"name");f(this,"timelines",[]);f(this,"timelineIds",new Ud);f(this,"duration");if(!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(t),this.duration=r}setTimelines(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(var t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())}hasTimeline(e){for(let t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}apply(e,t,r,i,s,l,a,u){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(r%=this.duration,t>0&&(t%=this.duration));let o=this.timelines;for(let h=0,c=o.length;h<c;h++)o[h].apply(e,t,r,s,l,a,u)}}var F;(function(n){n[n.setup=0]="setup",n[n.first=1]="first",n[n.replace=2]="replace",n[n.add=3]="add"})(F||(F={}));var Ze;(function(n){n[n.mixIn=0]="mixIn",n[n.mixOut=1]="mixOut"})(Ze||(Ze={}));const we={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19};class Fe{constructor(e,t){f(this,"propertyIds");f(this,"frames");this.propertyIds=t,this.frames=V.newFloatArray(e*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(e,t){let r=e.length;for(let i=1;i<r;i++)if(e[i]>t)return i-1;return r-1}static search(e,t,r){let i=e.length;for(let s=r;s<i;s+=r)if(e[s]>t)return s-r;return i-r}}class Qt extends Fe{constructor(t,r,i){super(t,i);f(this,"curves");this.curves=V.newFloatArray(t+r*18),this.curves[t-1]=1}setLinear(t){this.curves[t]=0}setStepped(t){this.curves[t]=1}shrink(t){let r=this.getFrameCount()+t*18;if(this.curves.length>r){let i=V.newFloatArray(r);V.arrayCopy(this.curves,0,i,0,r),this.curves=i}}setBezier(t,r,i,s,l,a,u,o,h,c,d){let m=this.curves,y=this.getFrameCount()+t*18;i==0&&(m[r]=2+y);let v=(s-a*2+o)*.03,S=(l-u*2+h)*.03,p=((a-o)*3-s+c)*.006,w=((u-h)*3-l+d)*.006,g=v*2+p,x=S*2+w,k=(a-s)*.3+v+p*.16666667,C=(u-l)*.3+S+w*.16666667,E=s+k,b=l+C;for(let T=y+18;y<T;y+=2)m[y]=E,m[y+1]=b,k+=g,C+=x,g+=p,x+=w,E+=k,b+=C}getBezierValue(t,r,i,s){let l=this.curves;if(l[s]>t){let h=this.frames[r],c=this.frames[r+i];return c+(t-h)/(l[s]-h)*(l[s+1]-c)}let a=s+18;for(s+=2;s<a;s+=2)if(l[s]>=t){let h=l[s-2],c=l[s-1];return c+(t-h)/(l[s]-h)*(l[s+1]-c)}r+=this.getFrameEntries();let u=l[a-2],o=l[a-1];return o+(t-u)/(this.frames[r]-u)*(this.frames[r+i]-o)}}class Zt extends Qt{constructor(e,t,r){super(e,t,[r])}getFrameEntries(){return 2}setFrame(e,t,r){e<<=1,this.frames[e]=t,this.frames[e+1]=r}getCurveValue(e){let t=this.frames,r=t.length-2;for(let s=2;s<=r;s+=2)if(t[s]>e){r=s-2;break}let i=this.curves[r>>1];switch(i){case 0:let s=t[r],l=t[r+1];return l+(e-s)/(t[r+2]-s)*(t[r+2+1]-l);case 1:return t[r+1]}return this.getBezierValue(e,r,1,i-2)}}class Zo extends Qt{constructor(e,t,r,i){super(e,t,[r,i])}getFrameEntries(){return 3}setFrame(e,t,r,i){e*=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i}}class qs extends Zt{constructor(t,r,i){super(t,r,we.rotate+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.rotation=o.data.rotation;return;case F.first:o.rotation+=(o.data.rotation-o.rotation)*l}return}let c=this.getCurveValue(i);switch(a){case F.setup:o.rotation=o.data.rotation+c*l;break;case F.first:case F.replace:c+=o.data.rotation-o.rotation;case F.add:o.rotation+=c*l}}}class Hd extends Zo{constructor(t,r,i){super(t,r,we.x+"|"+i,we.y+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.x=o.data.x,o.y=o.data.y;return;case F.first:o.x+=(o.data.x-o.x)*l,o.y+=(o.data.y-o.y)*l}return}let c=0,d=0,m=Fe.search(h,i,3),y=this.curves[m/3];switch(y){case 0:let v=h[m];c=h[m+1],d=h[m+2];let S=(i-v)/(h[m+3]-v);c+=(h[m+3+1]-c)*S,d+=(h[m+3+2]-d)*S;break;case 1:c=h[m+1],d=h[m+2];break;default:c=this.getBezierValue(i,m,1,y-2),d=this.getBezierValue(i,m,2,y+18-2)}switch(a){case F.setup:o.x=o.data.x+c*l,o.y=o.data.y+d*l;break;case F.first:case F.replace:o.x+=(o.data.x+c-o.x)*l,o.y+=(o.data.y+d-o.y)*l;break;case F.add:o.x+=c*l,o.y+=d*l}}}class qd extends Zt{constructor(t,r,i){super(t,r,we.x+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.x=o.data.x;return;case F.first:o.x+=(o.data.x-o.x)*l}return}let c=this.getCurveValue(i);switch(a){case F.setup:o.x=o.data.x+c*l;break;case F.first:case F.replace:o.x+=(o.data.x+c-o.x)*l;break;case F.add:o.x+=c*l}}}class Gd extends Zt{constructor(t,r,i){super(t,r,we.y+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.y=o.data.y;return;case F.first:o.y+=(o.data.y-o.y)*l}return}let c=this.getCurveValue(i);switch(a){case F.setup:o.y=o.data.y+c*l;break;case F.first:case F.replace:o.y+=(o.data.y+c-o.y)*l;break;case F.add:o.y+=c*l}}}class Qd extends Zo{constructor(t,r,i){super(t,r,we.scaleX+"|"+i,we.scaleY+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.scaleX=o.data.scaleX,o.scaleY=o.data.scaleY;return;case F.first:o.scaleX+=(o.data.scaleX-o.scaleX)*l,o.scaleY+=(o.data.scaleY-o.scaleY)*l}return}let c,d,m=Fe.search(h,i,3),y=this.curves[m/3];switch(y){case 0:let v=h[m];c=h[m+1],d=h[m+2];let S=(i-v)/(h[m+3]-v);c+=(h[m+3+1]-c)*S,d+=(h[m+3+2]-d)*S;break;case 1:c=h[m+1],d=h[m+2];break;default:c=this.getBezierValue(i,m,1,y-2),d=this.getBezierValue(i,m,2,y+18-2)}if(c*=o.data.scaleX,d*=o.data.scaleY,l==1)a==F.add?(o.scaleX+=c-o.data.scaleX,o.scaleY+=d-o.data.scaleY):(o.scaleX=c,o.scaleY=d);else{let v=0,S=0;if(u==Ze.mixOut)switch(a){case F.setup:v=o.data.scaleX,S=o.data.scaleY,o.scaleX=v+(Math.abs(c)*N.signum(v)-v)*l,o.scaleY=S+(Math.abs(d)*N.signum(S)-S)*l;break;case F.first:case F.replace:v=o.scaleX,S=o.scaleY,o.scaleX=v+(Math.abs(c)*N.signum(v)-v)*l,o.scaleY=S+(Math.abs(d)*N.signum(S)-S)*l;break;case F.add:o.scaleX+=(c-o.data.scaleX)*l,o.scaleY+=(d-o.data.scaleY)*l}else switch(a){case F.setup:v=Math.abs(o.data.scaleX)*N.signum(c),S=Math.abs(o.data.scaleY)*N.signum(d),o.scaleX=v+(c-v)*l,o.scaleY=S+(d-S)*l;break;case F.first:case F.replace:v=Math.abs(o.scaleX)*N.signum(c),S=Math.abs(o.scaleY)*N.signum(d),o.scaleX=v+(c-v)*l,o.scaleY=S+(d-S)*l;break;case F.add:o.scaleX+=(c-o.data.scaleX)*l,o.scaleY+=(d-o.data.scaleY)*l}}}}class Zd extends Zt{constructor(t,r,i){super(t,r,we.scaleX+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.scaleX=o.data.scaleX;return;case F.first:o.scaleX+=(o.data.scaleX-o.scaleX)*l}return}let c=this.getCurveValue(i)*o.data.scaleX;if(l==1)a==F.add?o.scaleX+=c-o.data.scaleX:o.scaleX=c;else{let d=0;if(u==Ze.mixOut)switch(a){case F.setup:d=o.data.scaleX,o.scaleX=d+(Math.abs(c)*N.signum(d)-d)*l;break;case F.first:case F.replace:d=o.scaleX,o.scaleX=d+(Math.abs(c)*N.signum(d)-d)*l;break;case F.add:o.scaleX+=(c-o.data.scaleX)*l}else switch(a){case F.setup:d=Math.abs(o.data.scaleX)*N.signum(c),o.scaleX=d+(c-d)*l;break;case F.first:case F.replace:d=Math.abs(o.scaleX)*N.signum(c),o.scaleX=d+(c-d)*l;break;case F.add:o.scaleX+=(c-o.data.scaleX)*l}}}}class Kd extends Zt{constructor(t,r,i){super(t,r,we.scaleY+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.scaleY=o.data.scaleY;return;case F.first:o.scaleY+=(o.data.scaleY-o.scaleY)*l}return}let c=this.getCurveValue(i)*o.data.scaleY;if(l==1)a==F.add?o.scaleY+=c-o.data.scaleY:o.scaleY=c;else{let d=0;if(u==Ze.mixOut)switch(a){case F.setup:d=o.data.scaleY,o.scaleY=d+(Math.abs(c)*N.signum(d)-d)*l;break;case F.first:case F.replace:d=o.scaleY,o.scaleY=d+(Math.abs(c)*N.signum(d)-d)*l;break;case F.add:o.scaleY+=(c-o.data.scaleY)*l}else switch(a){case F.setup:d=Math.abs(o.data.scaleY)*N.signum(c),o.scaleY=d+(c-d)*l;break;case F.first:case F.replace:d=Math.abs(o.scaleY)*N.signum(c),o.scaleY=d+(c-d)*l;break;case F.add:o.scaleY+=(c-o.data.scaleY)*l}}}}class $d extends Zo{constructor(t,r,i){super(t,r,we.shearX+"|"+i,we.shearY+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.shearX=o.data.shearX,o.shearY=o.data.shearY;return;case F.first:o.shearX+=(o.data.shearX-o.shearX)*l,o.shearY+=(o.data.shearY-o.shearY)*l}return}let c=0,d=0,m=Fe.search(h,i,3),y=this.curves[m/3];switch(y){case 0:let v=h[m];c=h[m+1],d=h[m+2];let S=(i-v)/(h[m+3]-v);c+=(h[m+3+1]-c)*S,d+=(h[m+3+2]-d)*S;break;case 1:c=h[m+1],d=h[m+2];break;default:c=this.getBezierValue(i,m,1,y-2),d=this.getBezierValue(i,m,2,y+18-2)}switch(a){case F.setup:o.shearX=o.data.shearX+c*l,o.shearY=o.data.shearY+d*l;break;case F.first:case F.replace:o.shearX+=(o.data.shearX+c-o.shearX)*l,o.shearY+=(o.data.shearY+d-o.shearY)*l;break;case F.add:o.shearX+=c*l,o.shearY+=d*l}}}class Jd extends Zt{constructor(t,r,i){super(t,r,we.shearX+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.shearX=o.data.shearX;return;case F.first:o.shearX+=(o.data.shearX-o.shearX)*l}return}let c=this.getCurveValue(i);switch(a){case F.setup:o.shearX=o.data.shearX+c*l;break;case F.first:case F.replace:o.shearX+=(o.data.shearX+c-o.shearX)*l;break;case F.add:o.shearX+=c*l}}}class ef extends Zt{constructor(t,r,i){super(t,r,we.shearY+"|"+i);f(this,"boneIndex",0);this.boneIndex=i}apply(t,r,i,s,l,a,u){let o=t.bones[this.boneIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.shearY=o.data.shearY;return;case F.first:o.shearY+=(o.data.shearY-o.shearY)*l}return}let c=this.getCurveValue(i);switch(a){case F.setup:o.shearY=o.data.shearY+c*l;break;case F.first:case F.replace:o.shearY+=(o.data.shearY+c-o.shearY)*l;break;case F.add:o.shearY+=c*l}}}class tf extends Qt{constructor(t,r,i){super(t,r,[we.rgb+"|"+i,we.alpha+"|"+i]);f(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 5}setFrame(t,r,i,s,l,a){t*=5,this.frames[t]=r,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=l,this.frames[t+4]=a}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,c=o.color;if(i<h[0]){let w=o.data.color;switch(a){case F.setup:c.setFromColor(w);return;case F.first:c.add((w.r-c.r)*l,(w.g-c.g)*l,(w.b-c.b)*l,(w.a-c.a)*l)}return}let d=0,m=0,y=0,v=0,S=Fe.search(h,i,5),p=this.curves[S/5];switch(p){case 0:let w=h[S];d=h[S+1],m=h[S+2],y=h[S+3],v=h[S+4];let g=(i-w)/(h[S+5]-w);d+=(h[S+5+1]-d)*g,m+=(h[S+5+2]-m)*g,y+=(h[S+5+3]-y)*g,v+=(h[S+5+4]-v)*g;break;case 1:d=h[S+1],m=h[S+2],y=h[S+3],v=h[S+4];break;default:d=this.getBezierValue(i,S,1,p-2),m=this.getBezierValue(i,S,2,p+18-2),y=this.getBezierValue(i,S,3,p+18*2-2),v=this.getBezierValue(i,S,4,p+18*3-2)}l==1?c.set(d,m,y,v):(a==F.setup&&c.setFromColor(o.data.color),c.add((d-c.r)*l,(m-c.g)*l,(y-c.b)*l,(v-c.a)*l))}}class nf extends Qt{constructor(t,r,i){super(t,r,[we.rgb+"|"+i]);f(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 4}setFrame(t,r,i,s,l){t<<=2,this.frames[t]=r,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=l}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,c=o.color;if(i<h[0]){let p=o.data.color;switch(a){case F.setup:c.r=p.r,c.g=p.g,c.b=p.b;return;case F.first:c.r+=(p.r-c.r)*l,c.g+=(p.g-c.g)*l,c.b+=(p.b-c.b)*l}return}let d=0,m=0,y=0,v=Fe.search(h,i,4),S=this.curves[v>>2];switch(S){case 0:let p=h[v];d=h[v+1],m=h[v+2],y=h[v+3];let w=(i-p)/(h[v+4]-p);d+=(h[v+4+1]-d)*w,m+=(h[v+4+2]-m)*w,y+=(h[v+4+3]-y)*w;break;case 1:d=h[v+1],m=h[v+2],y=h[v+3];break;default:d=this.getBezierValue(i,v,1,S-2),m=this.getBezierValue(i,v,2,S+18-2),y=this.getBezierValue(i,v,3,S+18*2-2)}if(l==1)c.r=d,c.g=m,c.b=y;else{if(a==F.setup){let p=o.data.color;c.r=p.r,c.g=p.g,c.b=p.b}c.r+=(d-c.r)*l,c.g+=(m-c.g)*l,c.b+=(y-c.b)*l}}}class rf extends Zt{constructor(t,r,i){super(t,r,we.alpha+"|"+i);f(this,"slotIndex",0);this.slotIndex=i}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=o.color;if(i<this.frames[0]){let d=o.data.color;switch(a){case F.setup:h.a=d.a;return;case F.first:h.a+=(d.a-h.a)*l}return}let c=this.getCurveValue(i);l==1?h.a=c:(a==F.setup&&(h.a=o.data.color.a),h.a+=(c-h.a)*l)}}class sf extends Qt{constructor(t,r,i){super(t,r,[we.rgb+"|"+i,we.alpha+"|"+i,we.rgb2+"|"+i]);f(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 8}setFrame(t,r,i,s,l,a,u,o,h){t<<=3,this.frames[t]=r,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=l,this.frames[t+4]=a,this.frames[t+5]=u,this.frames[t+6]=o,this.frames[t+7]=h}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,c=o.color,d=o.darkColor;if(i<h[0]){let C=o.data.color,E=o.data.darkColor;switch(a){case F.setup:c.setFromColor(C),d.r=E.r,d.g=E.g,d.b=E.b;return;case F.first:c.add((C.r-c.r)*l,(C.g-c.g)*l,(C.b-c.b)*l,(C.a-c.a)*l),d.r+=(E.r-d.r)*l,d.g+=(E.g-d.g)*l,d.b+=(E.b-d.b)*l}return}let m=0,y=0,v=0,S=0,p=0,w=0,g=0,x=Fe.search(h,i,8),k=this.curves[x>>3];switch(k){case 0:let C=h[x];m=h[x+1],y=h[x+2],v=h[x+3],S=h[x+4],p=h[x+5],w=h[x+6],g=h[x+7];let E=(i-C)/(h[x+8]-C);m+=(h[x+8+1]-m)*E,y+=(h[x+8+2]-y)*E,v+=(h[x+8+3]-v)*E,S+=(h[x+8+4]-S)*E,p+=(h[x+8+5]-p)*E,w+=(h[x+8+6]-w)*E,g+=(h[x+8+7]-g)*E;break;case 1:m=h[x+1],y=h[x+2],v=h[x+3],S=h[x+4],p=h[x+5],w=h[x+6],g=h[x+7];break;default:m=this.getBezierValue(i,x,1,k-2),y=this.getBezierValue(i,x,2,k+18-2),v=this.getBezierValue(i,x,3,k+18*2-2),S=this.getBezierValue(i,x,4,k+18*3-2),p=this.getBezierValue(i,x,5,k+18*4-2),w=this.getBezierValue(i,x,6,k+18*5-2),g=this.getBezierValue(i,x,7,k+18*6-2)}if(l==1)c.set(m,y,v,S),d.r=p,d.g=w,d.b=g;else{if(a==F.setup){c.setFromColor(o.data.color);let C=o.data.darkColor;d.r=C.r,d.g=C.g,d.b=C.b}c.add((m-c.r)*l,(y-c.g)*l,(v-c.b)*l,(S-c.a)*l),d.r+=(p-d.r)*l,d.g+=(w-d.g)*l,d.b+=(g-d.b)*l}}}class lf extends Qt{constructor(t,r,i){super(t,r,[we.rgb+"|"+i,we.rgb2+"|"+i]);f(this,"slotIndex",0);this.slotIndex=i}getFrameEntries(){return 7}setFrame(t,r,i,s,l,a,u,o){t*=7,this.frames[t]=r,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=l,this.frames[t+4]=a,this.frames[t+5]=u,this.frames[t+6]=o}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=this.frames,c=o.color,d=o.darkColor;if(i<h[0]){let k=o.data.color,C=o.data.darkColor;switch(a){case F.setup:c.r=k.r,c.g=k.g,c.b=k.b,d.r=C.r,d.g=C.g,d.b=C.b;return;case F.first:c.r+=(k.r-c.r)*l,c.g+=(k.g-c.g)*l,c.b+=(k.b-c.b)*l,d.r+=(C.r-d.r)*l,d.g+=(C.g-d.g)*l,d.b+=(C.b-d.b)*l}return}let m=0,y=0,v=0,S=0,p=0,w=0,g=Fe.search(h,i,7),x=this.curves[g/7];switch(x){case 0:let k=h[g];m=h[g+1],y=h[g+2],v=h[g+3],S=h[g+4],p=h[g+5],w=h[g+6];let C=(i-k)/(h[g+7]-k);m+=(h[g+7+1]-m)*C,y+=(h[g+7+2]-y)*C,v+=(h[g+7+3]-v)*C,S+=(h[g+7+4]-S)*C,p+=(h[g+7+5]-p)*C,w+=(h[g+7+6]-w)*C;break;case 1:m=h[g+1],y=h[g+2],v=h[g+3],S=h[g+4],p=h[g+5],w=h[g+6];break;default:m=this.getBezierValue(i,g,1,x-2),y=this.getBezierValue(i,g,2,x+18-2),v=this.getBezierValue(i,g,3,x+18*2-2),S=this.getBezierValue(i,g,4,x+18*3-2),p=this.getBezierValue(i,g,5,x+18*4-2),w=this.getBezierValue(i,g,6,x+18*5-2)}if(l==1)c.r=m,c.g=y,c.b=v,d.r=S,d.g=p,d.b=w;else{if(a==F.setup){let k=o.data.color,C=o.data.darkColor;c.r=k.r,c.g=k.g,c.b=k.b,d.r=C.r,d.g=C.g,d.b=C.b}c.r+=(m-c.r)*l,c.g+=(y-c.g)*l,c.b+=(v-c.b)*l,d.r+=(S-d.r)*l,d.g+=(p-d.g)*l,d.b+=(w-d.b)*l}}}class wr extends Fe{constructor(t,r){super(t,[we.attachment+"|"+r]);f(this,"slotIndex",0);f(this,"attachmentNames");this.slotIndex=r,this.attachmentNames=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,r,i){this.frames[t]=r,this.attachmentNames[t]=i}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(o.bone.active){if(u==Ze.mixOut){a==F.setup&&this.setAttachment(t,o,o.data.attachmentName);return}if(i<this.frames[0]){(a==F.setup||a==F.first)&&this.setAttachment(t,o,o.data.attachmentName);return}this.setAttachment(t,o,this.attachmentNames[Fe.search1(this.frames,i)])}}setAttachment(t,r,i){r.setAttachment(i?t.getAttachment(this.slotIndex,i):null)}}class af extends Qt{constructor(t,r,i,s){super(t,r,[we.deform+"|"+i+"|"+s.id]);f(this,"slotIndex",0);f(this,"attachment");f(this,"vertices");this.slotIndex=i,this.attachment=s,this.vertices=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,r,i){this.frames[t]=r,this.vertices[t]=i}setBezier(t,r,i,s,l,a,u,o,h,c,d){let m=this.curves,y=this.getFrameCount()+t*18;i==0&&(m[r]=2+y);let v=(s-a*2+o)*.03,S=h*.03-u*.06,p=((a-o)*3-s+c)*.006,w=(u-h+.33333333)*.018,g=v*2+p,x=S*2+w,k=(a-s)*.3+v+p*.16666667,C=u*.3+S+w*.16666667,E=s+k,b=C;for(let T=y+18;y<T;y+=2)m[y]=E,m[y+1]=b,k+=g,C+=x,g+=p,x+=w,E+=k,b+=C}getCurvePercent(t,r){let i=this.curves,s=i[r];switch(s){case 0:let o=this.frames[r];return(t-o)/(this.frames[r+this.getFrameEntries()]-o);case 1:return 0}if(s-=2,i[s]>t){let o=this.frames[r];return i[s+1]*(t-o)/(i[s]-o)}let l=s+18;for(s+=2;s<l;s+=2)if(i[s]>=t){let o=i[s-2],h=i[s-1];return h+(t-o)/(i[s]-o)*(i[s+1]-h)}let a=i[l-2],u=i[l-1];return u+(1-u)*(t-a)/(this.frames[r+this.getFrameEntries()]-a)}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=o.getAttachment();if(!h||!(h instanceof zt)||h.timelineAttachment!=this.attachment)return;let c=o.deform;c.length==0&&(a=F.setup);let d=this.vertices,m=d[0].length,y=this.frames;if(i<y[0]){switch(a){case F.setup:c.length=0;return;case F.first:if(l==1){c.length=0;return}c.length=m;let x=h;if(x.bones){l=1-l;for(var v=0;v<m;v++)c[v]*=l}else{let k=x.vertices;for(var v=0;v<m;v++)c[v]+=(k[v]-c[v])*l}}return}if(c.length=m,i>=y[y.length-1]){let x=d[y.length-1];if(l==1)if(a==F.add){let k=h;if(k.bones)for(let C=0;C<m;C++)c[C]+=x[C];else{let C=k.vertices;for(let E=0;E<m;E++)c[E]+=x[E]-C[E]}}else V.arrayCopy(x,0,c,0,m);else switch(a){case F.setup:{let C=h;if(C.bones)for(let E=0;E<m;E++)c[E]=x[E]*l;else{let E=C.vertices;for(let b=0;b<m;b++){let T=E[b];c[b]=T+(x[b]-T)*l}}break}case F.first:case F.replace:for(let C=0;C<m;C++)c[C]+=(x[C]-c[C])*l;break;case F.add:let k=h;if(k.bones)for(let C=0;C<m;C++)c[C]+=x[C]*l;else{let C=k.vertices;for(let E=0;E<m;E++)c[E]+=(x[E]-C[E])*l}}return}let S=Fe.search1(y,i),p=this.getCurvePercent(i,S),w=d[S],g=d[S+1];if(l==1)if(a==F.add){let x=h;if(x.bones)for(let k=0;k<m;k++){let C=w[k];c[k]+=C+(g[k]-C)*p}else{let k=x.vertices;for(let C=0;C<m;C++){let E=w[C];c[C]+=E+(g[C]-E)*p-k[C]}}}else for(let x=0;x<m;x++){let k=w[x];c[x]=k+(g[x]-k)*p}else switch(a){case F.setup:{let k=h;if(k.bones)for(let C=0;C<m;C++){let E=w[C];c[C]=(E+(g[C]-E)*p)*l}else{let C=k.vertices;for(let E=0;E<m;E++){let b=w[E],T=C[E];c[E]=T+(b+(g[E]-b)*p-T)*l}}break}case F.first:case F.replace:for(let k=0;k<m;k++){let C=w[k];c[k]+=(C+(g[k]-C)*p-c[k])*l}break;case F.add:let x=h;if(x.bones)for(let k=0;k<m;k++){let C=w[k];c[k]+=(C+(g[k]-C)*p)*l}else{let k=x.vertices;for(let C=0;C<m;C++){let E=w[C];c[C]+=(E+(g[C]-E)*p-k[C])*l}}}}}const $s=class $s extends Fe{constructor(t){super(t,$s.propertyIds);f(this,"events");this.events=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,r){this.frames[t]=r.time,this.events[t]=r}apply(t,r,i,s,l,a,u){if(!s)return;let o=this.frames,h=this.frames.length;if(r>i)this.apply(t,r,Number.MAX_VALUE,s,l,a,u),r=-1;else if(r>=o[h-1])return;if(i<o[0])return;let c=0;if(r<o[0])c=0;else{c=Fe.search1(o,r)+1;let d=o[c];for(;c>0&&o[c-1]==d;)c--}for(;c<h&&i>=o[c];c++)s.push(this.events[c])}};f($s,"propertyIds",[""+we.event]);let Fi=$s;const Js=class Js extends Fe{constructor(t){super(t,Js.propertyIds);f(this,"drawOrders");this.drawOrders=new Array(t)}getFrameCount(){return this.frames.length}setFrame(t,r,i){this.frames[t]=r,this.drawOrders[t]=i}apply(t,r,i,s,l,a,u){if(u==Ze.mixOut){a==F.setup&&V.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}if(i<this.frames[0]){(a==F.setup||a==F.first)&&V.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);return}let o=Fe.search1(this.frames,i),h=this.drawOrders[o];if(!h)V.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{let c=t.drawOrder,d=t.slots;for(let m=0,y=h.length;m<y;m++)c[m]=d[h[m]]}}};f(Js,"propertyIds",[""+we.drawOrder]);let Hn=Js;class of extends Qt{constructor(t,r,i){super(t,r,[we.ikConstraint+"|"+i]);f(this,"ikConstraintIndex",0);this.ikConstraintIndex=i}getFrameEntries(){return 6}setFrame(t,r,i,s,l,a,u){t*=6,this.frames[t]=r,this.frames[t+1]=i,this.frames[t+2]=s,this.frames[t+3]=l,this.frames[t+4]=a?1:0,this.frames[t+5]=u?1:0}apply(t,r,i,s,l,a,u){let o=t.ikConstraints[this.ikConstraintIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;return;case F.first:o.mix+=(o.data.mix-o.mix)*l,o.softness+=(o.data.softness-o.softness)*l,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}return}let c=0,d=0,m=Fe.search(h,i,6),y=this.curves[m/6];switch(y){case 0:let v=h[m];c=h[m+1],d=h[m+2];let S=(i-v)/(h[m+6]-v);c+=(h[m+6+1]-c)*S,d+=(h[m+6+2]-d)*S;break;case 1:c=h[m+1],d=h[m+2];break;default:c=this.getBezierValue(i,m,1,y-2),d=this.getBezierValue(i,m,2,y+18-2)}a==F.setup?(o.mix=o.data.mix+(c-o.data.mix)*l,o.softness=o.data.softness+(d-o.data.softness)*l,u==Ze.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=h[m+3],o.compress=h[m+4]!=0,o.stretch=h[m+5]!=0)):(o.mix+=(c-o.mix)*l,o.softness+=(d-o.softness)*l,u==Ze.mixIn&&(o.bendDirection=h[m+3],o.compress=h[m+4]!=0,o.stretch=h[m+5]!=0))}}class uf extends Qt{constructor(t,r,i){super(t,r,[we.transformConstraint+"|"+i]);f(this,"transformConstraintIndex",0);this.transformConstraintIndex=i}getFrameEntries(){return 7}setFrame(t,r,i,s,l,a,u,o){let h=this.frames;t*=7,h[t]=r,h[t+1]=i,h[t+2]=s,h[t+3]=l,h[t+4]=a,h[t+5]=u,h[t+6]=o}apply(t,r,i,s,l,a,u){let o=t.transformConstraints[this.transformConstraintIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){let g=o.data;switch(a){case F.setup:o.mixRotate=g.mixRotate,o.mixX=g.mixX,o.mixY=g.mixY,o.mixScaleX=g.mixScaleX,o.mixScaleY=g.mixScaleY,o.mixShearY=g.mixShearY;return;case F.first:o.mixRotate+=(g.mixRotate-o.mixRotate)*l,o.mixX+=(g.mixX-o.mixX)*l,o.mixY+=(g.mixY-o.mixY)*l,o.mixScaleX+=(g.mixScaleX-o.mixScaleX)*l,o.mixScaleY+=(g.mixScaleY-o.mixScaleY)*l,o.mixShearY+=(g.mixShearY-o.mixShearY)*l}return}let c,d,m,y,v,S,p=Fe.search(h,i,7),w=this.curves[p/7];switch(w){case 0:let g=h[p];c=h[p+1],d=h[p+2],m=h[p+3],y=h[p+4],v=h[p+5],S=h[p+6];let x=(i-g)/(h[p+7]-g);c+=(h[p+7+1]-c)*x,d+=(h[p+7+2]-d)*x,m+=(h[p+7+3]-m)*x,y+=(h[p+7+4]-y)*x,v+=(h[p+7+5]-v)*x,S+=(h[p+7+6]-S)*x;break;case 1:c=h[p+1],d=h[p+2],m=h[p+3],y=h[p+4],v=h[p+5],S=h[p+6];break;default:c=this.getBezierValue(i,p,1,w-2),d=this.getBezierValue(i,p,2,w+18-2),m=this.getBezierValue(i,p,3,w+18*2-2),y=this.getBezierValue(i,p,4,w+18*3-2),v=this.getBezierValue(i,p,5,w+18*4-2),S=this.getBezierValue(i,p,6,w+18*5-2)}if(a==F.setup){let g=o.data;o.mixRotate=g.mixRotate+(c-g.mixRotate)*l,o.mixX=g.mixX+(d-g.mixX)*l,o.mixY=g.mixY+(m-g.mixY)*l,o.mixScaleX=g.mixScaleX+(y-g.mixScaleX)*l,o.mixScaleY=g.mixScaleY+(v-g.mixScaleY)*l,o.mixShearY=g.mixShearY+(S-g.mixShearY)*l}else o.mixRotate+=(c-o.mixRotate)*l,o.mixX+=(d-o.mixX)*l,o.mixY+=(m-o.mixY)*l,o.mixScaleX+=(y-o.mixScaleX)*l,o.mixScaleY+=(v-o.mixScaleY)*l,o.mixShearY+=(S-o.mixShearY)*l}}class hf extends Zt{constructor(t,r,i){super(t,r,we.pathConstraintPosition+"|"+i);f(this,"pathConstraintIndex",0);this.pathConstraintIndex=i}apply(t,r,i,s,l,a,u){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.position=o.data.position;return;case F.first:o.position+=(o.data.position-o.position)*l}return}let c=this.getCurveValue(i);a==F.setup?o.position=o.data.position+(c-o.data.position)*l:o.position+=(c-o.position)*l}}class cf extends Zt{constructor(t,r,i){super(t,r,we.pathConstraintSpacing+"|"+i);f(this,"pathConstraintIndex",0);this.pathConstraintIndex=i}apply(t,r,i,s,l,a,u){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.spacing=o.data.spacing;return;case F.first:o.spacing+=(o.data.spacing-o.spacing)*l}return}let c=this.getCurveValue(i);a==F.setup?o.spacing=o.data.spacing+(c-o.data.spacing)*l:o.spacing+=(c-o.spacing)*l}}class df extends Qt{constructor(t,r,i){super(t,r,[we.pathConstraintMix+"|"+i]);f(this,"pathConstraintIndex",0);this.pathConstraintIndex=i}getFrameEntries(){return 4}setFrame(t,r,i,s,l){let a=this.frames;t<<=2,a[t]=r,a[t+1]=i,a[t+2]=s,a[t+3]=l}apply(t,r,i,s,l,a,u){let o=t.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let h=this.frames;if(i<h[0]){switch(a){case F.setup:o.mixRotate=o.data.mixRotate,o.mixX=o.data.mixX,o.mixY=o.data.mixY;return;case F.first:o.mixRotate+=(o.data.mixRotate-o.mixRotate)*l,o.mixX+=(o.data.mixX-o.mixX)*l,o.mixY+=(o.data.mixY-o.mixY)*l}return}let c,d,m,y=Fe.search(h,i,4),v=this.curves[y>>2];switch(v){case 0:let S=h[y];c=h[y+1],d=h[y+2],m=h[y+3];let p=(i-S)/(h[y+4]-S);c+=(h[y+4+1]-c)*p,d+=(h[y+4+2]-d)*p,m+=(h[y+4+3]-m)*p;break;case 1:c=h[y+1],d=h[y+2],m=h[y+3];break;default:c=this.getBezierValue(i,y,1,v-2),d=this.getBezierValue(i,y,2,v+18-2),m=this.getBezierValue(i,y,3,v+18*2-2)}if(a==F.setup){let S=o.data;o.mixRotate=S.mixRotate+(c-S.mixRotate)*l,o.mixX=S.mixX+(d-S.mixX)*l,o.mixY=S.mixY+(m-S.mixY)*l}else o.mixRotate+=(c-o.mixRotate)*l,o.mixX+=(d-o.mixX)*l,o.mixY+=(m-o.mixY)*l}}const kt=class kt extends Fe{constructor(t,r,i){super(t,[we.sequence+"|"+r+"|"+i.sequence.id]);f(this,"slotIndex");f(this,"attachment");this.slotIndex=r,this.attachment=i}getFrameEntries(){return kt.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(t,r,i,s,l){let a=this.frames;t*=kt.ENTRIES,a[t]=r,a[t+kt.MODE]=i|s<<4,a[t+kt.DELAY]=l}apply(t,r,i,s,l,a,u){let o=t.slots[this.slotIndex];if(!o.bone.active)return;let h=o.attachment,c=this.attachment;if(h!=c&&(!(h instanceof zt)||h.timelineAttachment!=c))return;let d=this.frames;if(i<d[0]){(a==F.setup||a==F.first)&&(o.sequenceIndex=-1);return}let m=Fe.search(d,i,kt.ENTRIES),y=d[m],v=d[m+kt.MODE],S=d[m+kt.DELAY];if(!this.attachment.sequence)return;let p=v>>4,w=this.attachment.sequence.regions.length,g=jd[v&15];if(g!=Ve.hold)switch(p+=(i-y)/S+1e-5|0,g){case Ve.once:p=Math.min(w-1,p);break;case Ve.loop:p%=w;break;case Ve.pingpong:{let x=(w<<1)-2;p=x==0?0:p%x,p>=w&&(p=x-p);break}case Ve.onceReverse:p=Math.max(w-1-p,0);break;case Ve.loopReverse:p=w-1-p%w;break;case Ve.pingpongReverse:{let x=(w<<1)-2;p=x==0?0:(p+w-1)%x,p>=w&&(p=x-p)}}o.sequenceIndex=p}};f(kt,"ENTRIES",3),f(kt,"MODE",1),f(kt,"DELAY",2);let Gs=kt;const kr=class kr{constructor(e){f(this,"data");f(this,"tracks",new Array);f(this,"timeScale",1);f(this,"unkeyedState",0);f(this,"events",new Array);f(this,"listeners",new Array);f(this,"queue",new ep(this));f(this,"propertyIDs",new Ud);f(this,"animationsChanged",!1);f(this,"trackEntryPool",new js(()=>new Jm));this.data=e}static emptyAnimation(){return kr._emptyAnimation}update(e){e*=this.timeScale;let t=this.tracks;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(!s)continue;s.animationLast=s.nextAnimationLast,s.trackLast=s.nextTrackLast;let l=e*s.timeScale;if(s.delay>0){if(s.delay-=l,s.delay>0)continue;l=-s.delay,s.delay=0}let a=s.next;if(a){let u=s.trackLast-a.delay;if(u>=0){for(a.delay=0,a.trackTime+=s.timeScale==0?0:(u/s.timeScale+e)*a.timeScale,s.trackTime+=l,this.setCurrent(r,a,!0);a.mixingFrom;)a.mixTime+=e,a=a.mixingFrom;continue}}else if(s.trackLast>=s.trackEnd&&!s.mixingFrom){t[r]=null,this.queue.end(s),this.clearNext(s);continue}if(s.mixingFrom&&this.updateMixingFrom(s,e)){let u=s.mixingFrom;for(s.mixingFrom=null,u&&(u.mixingTo=null);u;)this.queue.end(u),u=u.mixingFrom}s.trackTime+=l}this.queue.drain()}updateMixingFrom(e,t){let r=e.mixingFrom;if(!r)return!0;let i=this.updateMixingFrom(r,t);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,e.mixTime>0&&e.mixTime>=e.mixDuration?((r.totalAlpha==0||e.mixDuration==0)&&(e.mixingFrom=r.mixingFrom,r.mixingFrom&&(r.mixingFrom.mixingTo=e),e.interruptAlpha=r.interruptAlpha,this.queue.end(r)),i):(r.trackTime+=t*r.timeScale,e.mixTime+=t,!1)}apply(e){if(!e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let t=this.events,r=this.tracks,i=!1;for(let d=0,m=r.length;d<m;d++){let y=r[d];if(!y||y.delay>0)continue;i=!0;let v=d==0?F.first:y.mixBlend,S=y.alpha;y.mixingFrom?S*=this.applyMixingFrom(y,e,v):y.trackTime>=y.trackEnd&&!y.next&&(S=0);let p=y.animationLast,w=y.getAnimationTime(),g=w,x=t;y.reverse&&(g=y.animation.duration-g,x=null);let k=y.animation.timelines,C=k.length;if(d==0&&S==1||v==F.add)for(let E=0;E<C;E++){var s=k[E];s instanceof wr?this.applyAttachmentTimeline(s,e,g,v,!0):s.apply(e,p,g,x,S,v,Ze.mixIn)}else{let E=y.timelineMode,b=y.shortestRotation,T=!b&&y.timelinesRotation.length!=C<<1;T&&(y.timelinesRotation.length=C<<1);for(let I=0;I<C;I++){let P=k[I],O=E[I]==Gl?v:F.setup;!b&&P instanceof qs?this.applyRotateTimeline(P,e,g,S,O,y.timelinesRotation,I<<1,T):P instanceof wr?this.applyAttachmentTimeline(P,e,g,v,!0):P.apply(e,p,g,x,S,O,Ze.mixIn)}}this.queueEvents(y,w),t.length=0,y.nextAnimationLast=w,y.nextTrackLast=y.trackTime}for(var l=this.unkeyedState+ph,a=e.slots,u=0,o=e.slots.length;u<o;u++){var h=a[u];if(h.attachmentState==l){var c=h.data.attachmentName;h.setAttachment(c?e.getAttachment(h.data.index,c):null)}}return this.unkeyedState+=2,this.queue.drain(),i}applyMixingFrom(e,t,r){let i=e.mixingFrom;i.mixingFrom&&this.applyMixingFrom(i,t,r);let s=0;e.mixDuration==0?(s=1,r==F.first&&(r=F.setup)):(s=e.mixTime/e.mixDuration,s>1&&(s=1),r!=F.first&&(r=i.mixBlend));let l=s<i.attachmentThreshold,a=s<i.drawOrderThreshold,u=i.animation.timelines,o=u.length,h=i.alpha*e.interruptAlpha,c=h*(1-s),d=i.animationLast,m=i.getAnimationTime(),y=m,v=null;if(i.reverse?y=i.animation.duration-y:s<i.eventThreshold&&(v=this.events),r==F.add)for(let S=0;S<o;S++)u[S].apply(t,d,y,v,c,r,Ze.mixOut);else{let S=i.timelineMode,p=i.timelineHoldMix,w=i.shortestRotation,g=!w&&i.timelinesRotation.length!=o<<1;g&&(i.timelinesRotation.length=o<<1),i.totalAlpha=0;for(let x=0;x<o;x++){let k=u[x],C=Ze.mixOut,E,b=0;switch(S[x]){case Gl:if(!a&&k instanceof Hn)continue;E=r,b=c;break;case fh:E=F.setup,b=c;break;case mh:E=r,b=h;break;case Ql:E=F.setup,b=h;break;default:E=F.setup;let T=p[x];b=h*Math.max(0,1-T.mixTime/T.mixDuration);break}i.totalAlpha+=b,!w&&k instanceof qs?this.applyRotateTimeline(k,t,y,b,E,i.timelinesRotation,x<<1,g):k instanceof wr?this.applyAttachmentTimeline(k,t,y,E,l):(a&&k instanceof Hn&&E==F.setup&&(C=Ze.mixIn),k.apply(t,d,y,v,b,E,C))}}return e.mixDuration>0&&this.queueEvents(i,m),this.events.length=0,i.nextAnimationLast=m,i.nextTrackLast=i.trackTime,s}applyAttachmentTimeline(e,t,r,i,s){var l=t.slots[e.slotIndex];l.bone.active&&(r<e.frames[0]?(i==F.setup||i==F.first)&&this.setAttachment(t,l,l.data.attachmentName,s):this.setAttachment(t,l,e.attachmentNames[Fe.search1(e.frames,r)],s),l.attachmentState<=this.unkeyedState&&(l.attachmentState=this.unkeyedState+ph))}setAttachment(e,t,r,i){t.setAttachment(r?e.getAttachment(t.data.index,r):null),i&&(t.attachmentState=this.unkeyedState+np)}applyRotateTimeline(e,t,r,i,s,l,a,u){if(u&&(l[a]=0),i==1){e.apply(t,0,r,null,1,s,Ze.mixIn);return}let o=t.bones[e.boneIndex];if(!o.active)return;let h=e.frames,c=0,d=0;if(r<h[0])switch(s){case F.setup:o.rotation=o.data.rotation;default:return;case F.first:c=o.rotation,d=o.data.rotation}else c=s==F.setup?o.data.rotation:o.rotation,d=o.data.rotation+e.getCurveValue(r);let m=0,y=d-c;if(y-=(16384-(16384.499999999996-y/360|0))*360,y==0)m=l[a];else{let v=0,S=0;u?(v=0,S=y):(v=l[a],S=l[a+1]);let p=y>0,w=v>=0;N.signum(S)!=N.signum(y)&&Math.abs(S)<=90&&(Math.abs(v)>180&&(v+=360*N.signum(v)),w=p),m=y+v-v%360,w!=p&&(m+=360*N.signum(v)),l[a]=m}l[a+1]=y,o.rotation=c+m*i}queueEvents(e,t){let r=e.animationStart,i=e.animationEnd,s=i-r,l=e.trackLast%s,a=this.events,u=0,o=a.length;for(;u<o;u++){let c=a[u];if(c.time<l)break;c.time>i||this.queue.event(e,c)}let h=!1;for(e.loop?h=s==0||l>e.trackTime%s:h=t>=i&&e.animationLast<i,h&&this.queue.complete(e);u<o;u++){let c=a[u];c.time<r||this.queue.event(e,c)}}clearTracks(){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,r=this.tracks.length;t<r;t++)this.clearTrack(t);this.tracks.length=0,this.queue.drainDisabled=e,this.queue.drain()}clearTrack(e){if(e>=this.tracks.length)return;let t=this.tracks[e];if(!t)return;this.queue.end(t),this.clearNext(t);let r=t;for(;;){let i=r.mixingFrom;if(!i)break;this.queue.end(i),r.mixingFrom=null,r.mixingTo=null,r=i}this.tracks[t.trackIndex]=null,this.queue.drain()}setCurrent(e,t,r){let i=this.expandToIndex(e);this.tracks[e]=t,t.previous=null,i&&(r&&this.queue.interrupt(i),t.mixingFrom=i,i.mixingTo=t,t.mixTime=0,i.mixingFrom&&i.mixDuration>0&&(t.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(t)}setAnimation(e,t,r=!1){let i=this.data.skeletonData.findAnimation(t);if(!i)throw new Error("Animation not found: "+t);return this.setAnimationWith(e,i,r)}setAnimationWith(e,t,r=!1){if(!t)throw new Error("animation cannot be null.");let i=!0,s=this.expandToIndex(e);s&&(s.nextTrackLast==-1?(this.tracks[e]=s.mixingFrom,this.queue.interrupt(s),this.queue.end(s),this.clearNext(s),s=s.mixingFrom,i=!1):this.clearNext(s));let l=this.trackEntry(e,t,r,s);return this.setCurrent(e,l,i),this.queue.drain(),l}addAnimation(e,t,r=!1,i=0){let s=this.data.skeletonData.findAnimation(t);if(!s)throw new Error("Animation not found: "+t);return this.addAnimationWith(e,s,r,i)}addAnimationWith(e,t,r=!1,i=0){if(!t)throw new Error("animation cannot be null.");let s=this.expandToIndex(e);if(s)for(;s.next;)s=s.next;let l=this.trackEntry(e,t,r,s);return s?(s.next=l,l.previous=s,i<=0&&(i+=s.getTrackComplete()-l.mixDuration)):(this.setCurrent(e,l,!0),this.queue.drain()),l.delay=i,l}setEmptyAnimation(e,t=0){let r=this.setAnimationWith(e,kr.emptyAnimation(),!1);return r.mixDuration=t,r.trackEnd=t,r}addEmptyAnimation(e,t=0,r=0){let i=this.addAnimationWith(e,kr.emptyAnimation(),!1,r);return r<=0&&(i.delay+=i.mixDuration-t),i.mixDuration=t,i.trackEnd=t,i}setEmptyAnimations(e=0){let t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let r=0,i=this.tracks.length;r<i;r++){let s=this.tracks[r];s&&this.setEmptyAnimation(s.trackIndex,e)}this.queue.drainDisabled=t,this.queue.drain()}expandToIndex(e){return e<this.tracks.length?this.tracks[e]:(V.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)}trackEntry(e,t,r,i){let s=this.trackEntryPool.obtain();return s.reset(),s.trackIndex=e,s.animation=t,s.loop=r,s.holdPrevious=!1,s.reverse=!1,s.shortestRotation=!1,s.eventThreshold=0,s.attachmentThreshold=0,s.drawOrderThreshold=0,s.animationStart=0,s.animationEnd=t.duration,s.animationLast=-1,s.nextAnimationLast=-1,s.delay=0,s.trackTime=0,s.trackLast=-1,s.nextTrackLast=-1,s.trackEnd=Number.MAX_VALUE,s.timeScale=1,s.alpha=1,s.mixTime=0,s.mixDuration=i?this.data.getMix(i.animation,t):0,s.interruptAlpha=1,s.totalAlpha=0,s.mixBlend=F.replace,s}clearNext(e){let t=e.next;for(;t;)this.queue.dispose(t),t=t.next;e.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let e=this.tracks;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i){for(;i.mixingFrom;)i=i.mixingFrom;do(!i.mixingTo||i.mixBlend!=F.add)&&this.computeHold(i),i=i.mixingTo;while(i)}}}computeHold(e){let t=e.mixingTo,r=e.animation.timelines,i=e.animation.timelines.length,s=e.timelineMode;s.length=i;let l=e.timelineHoldMix;l.length=0;let a=this.propertyIDs;if(t&&t.holdPrevious){for(let u=0;u<i;u++)s[u]=a.addAll(r[u].getPropertyIds())?Ql:mh;return}e:for(let u=0;u<i;u++){let o=r[u],h=o.getPropertyIds();if(!a.addAll(h))s[u]=Gl;else if(!t||o instanceof wr||o instanceof Hn||o instanceof Fi||!t.animation.hasTimeline(h))s[u]=fh;else{for(let c=t.mixingTo;c;c=c.mixingTo)if(!c.animation.hasTimeline(h)){if(e.mixDuration>0){s[u]=tp,l[u]=c;continue e}break}s[u]=Ql}}}getCurrent(e){return e>=this.tracks.length?null:this.tracks[e]}addListener(e){if(!e)throw new Error("listener cannot be null.");this.listeners.push(e)}removeListener(e){let t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}};f(kr,"_emptyAnimation",new Qo("<empty>",[],0));let Ha=kr;class Jm{constructor(){f(this,"animation",null);f(this,"previous",null);f(this,"next",null);f(this,"mixingFrom",null);f(this,"mixingTo",null);f(this,"listener",null);f(this,"trackIndex",0);f(this,"loop",!1);f(this,"holdPrevious",!1);f(this,"reverse",!1);f(this,"shortestRotation",!1);f(this,"eventThreshold",0);f(this,"attachmentThreshold",0);f(this,"drawOrderThreshold",0);f(this,"animationStart",0);f(this,"animationEnd",0);f(this,"animationLast",0);f(this,"nextAnimationLast",0);f(this,"delay",0);f(this,"trackTime",0);f(this,"trackLast",0);f(this,"nextTrackLast",0);f(this,"trackEnd",0);f(this,"timeScale",0);f(this,"alpha",0);f(this,"mixTime",0);f(this,"mixDuration",0);f(this,"interruptAlpha",0);f(this,"totalAlpha",0);f(this,"mixBlend",F.replace);f(this,"timelineMode",new Array);f(this,"timelineHoldMix",new Array);f(this,"timelinesRotation",new Array)}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let e=this.animationEnd-this.animationStart;return e==0?this.animationStart:this.trackTime%e+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(e){this.animationLast=e,this.nextAnimationLast=e}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let e=this.animationEnd-this.animationStart;if(e!=0){if(this.loop)return e*(1+(this.trackTime/e|0));if(this.trackTime<e)return e}return this.trackTime}}class ep{constructor(e){f(this,"objects",[]);f(this,"drainDisabled",!1);f(this,"animState");this.animState=e}start(e){this.objects.push(it.start),this.objects.push(e),this.animState.animationsChanged=!0}interrupt(e){this.objects.push(it.interrupt),this.objects.push(e)}end(e){this.objects.push(it.end),this.objects.push(e),this.animState.animationsChanged=!0}dispose(e){this.objects.push(it.dispose),this.objects.push(e)}complete(e){this.objects.push(it.complete),this.objects.push(e)}event(e,t){this.objects.push(it.event),this.objects.push(e),this.objects.push(t)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let e=this.objects,t=this.animState.listeners;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];switch(i){case it.start:s.listener&&s.listener.start&&s.listener.start(s);for(let a=0;a<t.length;a++){let u=t[a];u.start&&u.start(s)}break;case it.interrupt:s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(let a=0;a<t.length;a++){let u=t[a];u.interrupt&&u.interrupt(s)}break;case it.end:s.listener&&s.listener.end&&s.listener.end(s);for(let a=0;a<t.length;a++){let u=t[a];u.end&&u.end(s)}case it.dispose:s.listener&&s.listener.dispose&&s.listener.dispose(s);for(let a=0;a<t.length;a++){let u=t[a];u.dispose&&u.dispose(s)}this.animState.trackEntryPool.free(s);break;case it.complete:s.listener&&s.listener.complete&&s.listener.complete(s);for(let a=0;a<t.length;a++){let u=t[a];u.complete&&u.complete(s)}break;case it.event:let l=e[r+++2];s.listener&&s.listener.event&&s.listener.event(s,l);for(let a=0;a<t.length;a++){let u=t[a];u.event&&u.event(s,l)}break}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}}var it;(function(n){n[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event"})(it||(it={}));const Gl=0,fh=1,mh=2,Ql=3,tp=4,ph=1,np=2;class rp{constructor(e){f(this,"skeletonData");f(this,"animationToMixTime",{});f(this,"defaultMix",0);if(!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}setMix(e,t,r){let i=this.skeletonData.findAnimation(e);if(!i)throw new Error("Animation not found: "+e);let s=this.skeletonData.findAnimation(t);if(!s)throw new Error("Animation not found: "+t);this.setMixWith(i,s,r)}setMixWith(e,t,r){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");let i=e.name+"."+t.name;this.animationToMixTime[i]=r}getMix(e,t){let r=e.name+"."+t.name,i=this.animationToMixTime[r];return i===void 0?this.defaultMix:i}}class yl extends zt{constructor(t){super(t);f(this,"color",new W(1,1,1,1))}copy(){let t=new yl(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}class zi extends zt{constructor(t){super(t);f(this,"endSlot",null);f(this,"color",new W(.2275,.2275,.8078,1))}copy(){let t=new zi(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}class ip{constructor(e){f(this,"_image");this._image=e}getImage(){return this._image}}var Me;(function(n){n[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear"})(Me||(Me={}));var Or;(function(n){n[n.MirroredRepeat=33648]="MirroredRepeat",n[n.ClampToEdge=33071]="ClampToEdge",n[n.Repeat=10497]="Repeat"})(Or||(Or={}));class sp{constructor(){f(this,"texture");f(this,"u",0);f(this,"v",0);f(this,"u2",0);f(this,"v2",0);f(this,"width",0);f(this,"height",0);f(this,"degrees",0);f(this,"offsetX",0);f(this,"offsetY",0);f(this,"originalWidth",0);f(this,"originalHeight",0)}}class lp{constructor(e){f(this,"pages",new Array);f(this,"regions",new Array);let t=new ap(e),r=new Array(4),i={};i.size=h=>{h.width=parseInt(r[1]),h.height=parseInt(r[2])},i.format=()=>{},i.filter=h=>{h.minFilter=V.enumValue(Me,r[1]),h.magFilter=V.enumValue(Me,r[2])},i.repeat=h=>{r[1].indexOf("x")!=-1&&(h.uWrap=Or.Repeat),r[1].indexOf("y")!=-1&&(h.vWrap=Or.Repeat)},i.pma=h=>{h.pma=r[1]=="true"};var s={};s.xy=h=>{h.x=parseInt(r[1]),h.y=parseInt(r[2])},s.size=h=>{h.width=parseInt(r[1]),h.height=parseInt(r[2])},s.bounds=h=>{h.x=parseInt(r[1]),h.y=parseInt(r[2]),h.width=parseInt(r[3]),h.height=parseInt(r[4])},s.offset=h=>{h.offsetX=parseInt(r[1]),h.offsetY=parseInt(r[2])},s.orig=h=>{h.originalWidth=parseInt(r[1]),h.originalHeight=parseInt(r[2])},s.offsets=h=>{h.offsetX=parseInt(r[1]),h.offsetY=parseInt(r[2]),h.originalWidth=parseInt(r[3]),h.originalHeight=parseInt(r[4])},s.rotate=h=>{let c=r[1];c=="true"?h.degrees=90:c!="false"&&(h.degrees=parseInt(c))},s.index=h=>{h.index=parseInt(r[1])};let l=t.readLine();for(;l&&l.trim().length==0;)l=t.readLine();for(;!(!l||l.trim().length==0||t.readEntry(r,l)==0);)l=t.readLine();let a=null,u=null,o=null;for(;l!==null;)if(l.trim().length==0)a=null,l=t.readLine();else if(a){let h=new ff(a,l);for(;;){let c=t.readEntry(r,l=t.readLine());if(c==0)break;let d=s[r[0]];if(d)d(h);else{u||(u=[]),o||(o=[]),u.push(r[0]);let m=[];for(let y=0;y<c;y++)m.push(parseInt(r[y+1]));o.push(m)}}h.originalWidth==0&&h.originalHeight==0&&(h.originalWidth=h.width,h.originalHeight=h.height),u&&u.length>0&&o&&o.length>0&&(h.names=u,h.values=o,u=null,o=null),h.u=h.x/a.width,h.v=h.y/a.height,h.degrees==90?(h.u2=(h.x+h.height)/a.width,h.v2=(h.y+h.width)/a.height):(h.u2=(h.x+h.width)/a.width,h.v2=(h.y+h.height)/a.height),this.regions.push(h)}else{for(a=new op(l.trim());t.readEntry(r,l=t.readLine())!=0;){let h=i[r[0]];h&&h(a)}this.pages.push(a)}}findRegion(e){for(let t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null}setTextures(e,t=""){for(let r of this.pages)r.setTexture(e.get(t+r.name))}dispose(){var e;for(let t=0;t<this.pages.length;t++)(e=this.pages[t].texture)==null||e.dispose()}}class ap{constructor(e){f(this,"lines");f(this,"index",0);this.lines=e.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(e,t){if(!t||(t=t.trim(),t.length==0))return 0;let r=t.indexOf(":");if(r==-1)return 0;e[0]=t.substr(0,r).trim();for(let i=1,s=r+1;;i++){let l=t.indexOf(",",s);if(l==-1)return e[i]=t.substr(s).trim(),i;if(e[i]=t.substr(s,l-s).trim(),s=l+1,i==4)return 4}}}class op{constructor(e){f(this,"name");f(this,"minFilter",Me.Nearest);f(this,"magFilter",Me.Nearest);f(this,"uWrap",Or.ClampToEdge);f(this,"vWrap",Or.ClampToEdge);f(this,"texture",null);f(this,"width",0);f(this,"height",0);f(this,"pma",!1);f(this,"regions",new Array);this.name=e}setTexture(e){this.texture=e,e.setFilters(this.minFilter,this.magFilter),e.setWraps(this.uWrap,this.vWrap);for(let t of this.regions)t.texture=e}}class ff extends sp{constructor(t,r){super();f(this,"page");f(this,"name");f(this,"x",0);f(this,"y",0);f(this,"offsetX",0);f(this,"offsetY",0);f(this,"originalWidth",0);f(this,"originalHeight",0);f(this,"index",0);f(this,"degrees",0);f(this,"names",null);f(this,"values",null);this.page=t,this.name=r,t.regions.push(this)}}class Yn extends zt{constructor(t,r){super(t);f(this,"region",null);f(this,"path");f(this,"regionUVs",[]);f(this,"uvs",[]);f(this,"triangles",[]);f(this,"color",new W(1,1,1,1));f(this,"width",0);f(this,"height",0);f(this,"hullLength",0);f(this,"edges",[]);f(this,"parentMesh",null);f(this,"sequence",null);f(this,"tempColor",new W(0,0,0,0));this.path=r}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.regionUVs;(!this.uvs||this.uvs.length!=t.length)&&(this.uvs=V.newFloatArray(t.length));let r=this.uvs,i=this.uvs.length,s=this.region.u,l=this.region.v,a=0,u=0;if(this.region instanceof ff){let o=this.region,h=o.page.texture.getImage(),c=h.width,d=h.height;switch(o.degrees){case 90:s-=(o.originalHeight-o.offsetY-o.height)/c,l-=(o.originalWidth-o.offsetX-o.width)/d,a=o.originalHeight/c,u=o.originalWidth/d;for(let m=0;m<i;m+=2)r[m]=s+t[m+1]*a,r[m+1]=l+(1-t[m])*u;return;case 180:s-=(o.originalWidth-o.offsetX-o.width)/c,l-=o.offsetY/d,a=o.originalWidth/c,u=o.originalHeight/d;for(let m=0;m<i;m+=2)r[m]=s+(1-t[m])*a,r[m+1]=l+(1-t[m+1])*u;return;case 270:s-=o.offsetY/c,l-=o.offsetX/d,a=o.originalHeight/c,u=o.originalWidth/d;for(let m=0;m<i;m+=2)r[m]=s+(1-t[m+1])*a,r[m+1]=l+t[m]*u;return}s-=o.offsetX/c,l-=(o.originalHeight-o.offsetY-o.height)/d,a=o.originalWidth/c,u=o.originalHeight/d}else this.region?(a=this.region.u2-s,u=this.region.v2-l):(s=l=0,a=u=1);for(let o=0;o<i;o+=2)r[o]=s+t[o]*a,r[o+1]=l+t[o+1]*u}getParentMesh(){return this.parentMesh}setParentMesh(t){this.parentMesh=t,t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let t=new Yn(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),V.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),V.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),V.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,t.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(t.edges=new Array(this.edges.length),V.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}computeWorldVertices(t,r,i,s,l,a){this.sequence!=null&&this.sequence.apply(t,this),super.computeWorldVertices(t,r,i,s,l,a)}newLinkedMesh(){let t=new Yn(this.name,this.path);return t.region=this.region,t.color.setFromColor(this.color),t.timelineAttachment=this.timelineAttachment,t.setParentMesh(this.parentMesh?this.parentMesh:this),t.region!=null&&t.updateRegion(),t}}class Jn extends zt{constructor(t){super(t);f(this,"lengths",[]);f(this,"closed",!1);f(this,"constantSpeed",!1);f(this,"color",new W(1,1,1,1))}copy(){let t=new Jn(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),V.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}class Ko extends zt{constructor(t){super(t);f(this,"x",0);f(this,"y",0);f(this,"rotation",0);f(this,"color",new W(.38,.94,0,1))}computeWorldPosition(t,r){return r.x=this.x*t.a+this.y*t.b+t.worldX,r.y=this.x*t.c+this.y*t.d+t.worldY,r}computeWorldRotation(t){let r=N.cosDeg(this.rotation),i=N.sinDeg(this.rotation),s=r*t.a+i*t.b,l=r*t.c+i*t.d;return Math.atan2(l,s)*N.radDeg}copy(){let t=new Ko(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}const pe=class pe extends Wd{constructor(t,r){super(t);f(this,"x",0);f(this,"y",0);f(this,"scaleX",1);f(this,"scaleY",1);f(this,"rotation",0);f(this,"width",0);f(this,"height",0);f(this,"color",new W(1,1,1,1));f(this,"path");f(this,"region",null);f(this,"sequence",null);f(this,"offset",V.newFloatArray(8));f(this,"uvs",V.newFloatArray(8));f(this,"tempColor",new W(1,1,1,1));this.path=r}updateRegion(){if(!this.region)throw new Error("Region not set.");let t=this.region,r=this.uvs;if(t==null){r[0]=0,r[1]=0,r[2]=0,r[3]=1,r[4]=1,r[5]=1,r[6]=1,r[7]=0;return}let i=this.width/this.region.originalWidth*this.scaleX,s=this.height/this.region.originalHeight*this.scaleY,l=-this.width/2*this.scaleX+this.region.offsetX*i,a=-this.height/2*this.scaleY+this.region.offsetY*s,u=l+this.region.width*i,o=a+this.region.height*s,h=this.rotation*Math.PI/180,c=Math.cos(h),d=Math.sin(h),m=this.x,y=this.y,v=l*c+m,S=l*d,p=a*c+y,w=a*d,g=u*c+m,x=u*d,k=o*c+y,C=o*d,E=this.offset;E[0]=v-w,E[1]=p+S,E[2]=v-C,E[3]=k+S,E[4]=g-C,E[5]=k+x,E[6]=g-w,E[7]=p+x,t.degrees==90?(r[0]=t.u2,r[1]=t.v2,r[2]=t.u,r[3]=t.v2,r[4]=t.u,r[5]=t.v,r[6]=t.u2,r[7]=t.v):(r[0]=t.u,r[1]=t.v2,r[2]=t.u,r[3]=t.v,r[4]=t.u2,r[5]=t.v,r[6]=t.u2,r[7]=t.v2)}computeWorldVertices(t,r,i,s){this.sequence!=null&&this.sequence.apply(t,this);let l=t.bone,a=this.offset,u=l.worldX,o=l.worldY,h=l.a,c=l.b,d=l.c,m=l.d,y=0,v=0;y=a[0],v=a[1],r[i]=y*h+v*c+u,r[i+1]=y*d+v*m+o,i+=s,y=a[2],v=a[3],r[i]=y*h+v*c+u,r[i+1]=y*d+v*m+o,i+=s,y=a[4],v=a[5],r[i]=y*h+v*c+u,r[i+1]=y*d+v*m+o,i+=s,y=a[6],v=a[7],r[i]=y*h+v*c+u,r[i+1]=y*d+v*m+o}copy(){let t=new pe(this.name,this.path);return t.region=this.region,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,V.arrayCopy(this.uvs,0,t.uvs,0,8),V.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t.sequence=this.sequence!=null?this.sequence.copy():null,t}};f(pe,"X1",0),f(pe,"Y1",1),f(pe,"C1R",2),f(pe,"C1G",3),f(pe,"C1B",4),f(pe,"C1A",5),f(pe,"U1",6),f(pe,"V1",7),f(pe,"X2",8),f(pe,"Y2",9),f(pe,"C2R",10),f(pe,"C2G",11),f(pe,"C2B",12),f(pe,"C2A",13),f(pe,"U2",14),f(pe,"V2",15),f(pe,"X3",16),f(pe,"Y3",17),f(pe,"C3R",18),f(pe,"C3G",19),f(pe,"C3B",20),f(pe,"C3A",21),f(pe,"U3",22),f(pe,"V3",23),f(pe,"X4",24),f(pe,"Y4",25),f(pe,"C4R",26),f(pe,"C4G",27),f(pe,"C4B",28),f(pe,"C4A",29),f(pe,"U4",30),f(pe,"V4",31);let Xr=pe;class gh{constructor(e){f(this,"atlas");this.atlas=e}loadSequence(e,t,r){let i=r.regions;for(let s=0,l=i.length;s<l;s++){let a=r.getPath(t,s),u=this.atlas.findRegion(a);if(u==null)throw new Error("Region not found in atlas: "+a+" (sequence: "+e+")");i[s]=u}}newRegionAttachment(e,t,r,i){let s=new Xr(t,r);if(i!=null)this.loadSequence(t,r,i);else{let l=this.atlas.findRegion(r);if(!l)throw new Error("Region not found in atlas: "+r+" (region attachment: "+t+")");s.region=l}return s}newMeshAttachment(e,t,r,i){let s=new Yn(t,r);if(i!=null)this.loadSequence(t,r,i);else{let l=this.atlas.findRegion(r);if(!l)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+t+")");s.region=l}return s}newBoundingBoxAttachment(e,t){return new yl(t)}newPathAttachment(e,t){return new Jn(t)}newPointAttachment(e,t){return new Ko(t)}newClippingAttachment(e,t){return new zi(t)}}class mf{constructor(e,t,r){f(this,"index",0);f(this,"name");f(this,"parent",null);f(this,"length",0);f(this,"x",0);f(this,"y",0);f(this,"rotation",0);f(this,"scaleX",1);f(this,"scaleY",1);f(this,"shearX",0);f(this,"shearY",0);f(this,"transformMode",ot.Normal);f(this,"skinRequired",!1);f(this,"color",new W);if(e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");this.index=e,this.name=t,this.parent=r}}var ot;(function(n){n[n.Normal=0]="Normal",n[n.OnlyTranslation=1]="OnlyTranslation",n[n.NoRotationOrReflection=2]="NoRotationOrReflection",n[n.NoScale=3]="NoScale",n[n.NoScaleOrReflection=4]="NoScaleOrReflection"})(ot||(ot={}));class vh{constructor(e,t,r){f(this,"data");f(this,"skeleton");f(this,"parent",null);f(this,"children",new Array);f(this,"x",0);f(this,"y",0);f(this,"rotation",0);f(this,"scaleX",0);f(this,"scaleY",0);f(this,"shearX",0);f(this,"shearY",0);f(this,"ax",0);f(this,"ay",0);f(this,"arotation",0);f(this,"ascaleX",0);f(this,"ascaleY",0);f(this,"ashearX",0);f(this,"ashearY",0);f(this,"a",0);f(this,"b",0);f(this,"c",0);f(this,"d",0);f(this,"worldY",0);f(this,"worldX",0);f(this,"sorted",!1);f(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=r,this.setToSetupPose()}isActive(){return this.active}update(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,t,r,i,s,l,a){this.ax=e,this.ay=t,this.arotation=r,this.ascaleX=i,this.ascaleY=s,this.ashearX=l,this.ashearY=a;let u=this.parent;if(!u){let m=this.skeleton,y=r+90+a,v=m.scaleX,S=m.scaleY;this.a=N.cosDeg(r+l)*i*v,this.b=N.cosDeg(y)*s*v,this.c=N.sinDeg(r+l)*i*S,this.d=N.sinDeg(y)*s*S,this.worldX=e*v+m.x,this.worldY=t*S+m.y;return}let o=u.a,h=u.b,c=u.c,d=u.d;switch(this.worldX=o*e+h*t+u.worldX,this.worldY=c*e+d*t+u.worldY,this.data.transformMode){case ot.Normal:{let m=r+90+a,y=N.cosDeg(r+l)*i,v=N.cosDeg(m)*s,S=N.sinDeg(r+l)*i,p=N.sinDeg(m)*s;this.a=o*y+h*S,this.b=o*v+h*p,this.c=c*y+d*S,this.d=c*v+d*p;return}case ot.OnlyTranslation:{let m=r+90+a;this.a=N.cosDeg(r+l)*i,this.b=N.cosDeg(m)*s,this.c=N.sinDeg(r+l)*i,this.d=N.sinDeg(m)*s;break}case ot.NoRotationOrReflection:{let m=o*o+c*c,y=0;m>1e-4?(m=Math.abs(o*d-h*c)/m,o/=this.skeleton.scaleX,c/=this.skeleton.scaleY,h=c*m,d=o*m,y=Math.atan2(c,o)*N.radDeg):(o=0,c=0,y=90-Math.atan2(d,h)*N.radDeg);let v=r+l-y,S=r+a-y+90,p=N.cosDeg(v)*i,w=N.cosDeg(S)*s,g=N.sinDeg(v)*i,x=N.sinDeg(S)*s;this.a=o*p-h*g,this.b=o*w-h*x,this.c=c*p+d*g,this.d=c*w+d*x;break}case ot.NoScale:case ot.NoScaleOrReflection:{let m=N.cosDeg(r),y=N.sinDeg(r),v=(o*m+h*y)/this.skeleton.scaleX,S=(c*m+d*y)/this.skeleton.scaleY,p=Math.sqrt(v*v+S*S);p>1e-5&&(p=1/p),v*=p,S*=p,p=Math.sqrt(v*v+S*S),this.data.transformMode==ot.NoScale&&o*d-h*c<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(p=-p);let w=Math.PI/2+Math.atan2(S,v),g=Math.cos(w)*p,x=Math.sin(w)*p,k=N.cosDeg(l)*i,C=N.cosDeg(90+a)*s,E=N.sinDeg(l)*i,b=N.sinDeg(90+a)*s;this.a=v*k+g*E,this.b=v*C+g*b,this.c=S*k+x*E,this.d=S*C+x*b;break}}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY}setToSetupPose(){let e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}getWorldRotationX(){return Math.atan2(this.c,this.a)*N.radDeg}getWorldRotationY(){return Math.atan2(this.d,this.b)*N.radDeg}getWorldScaleX(){return Math.sqrt(this.a*this.a+this.c*this.c)}getWorldScaleY(){return Math.sqrt(this.b*this.b+this.d*this.d)}updateAppliedTransform(){let e=this.parent;if(!e){this.ax=this.worldX-this.skeleton.x,this.ay=this.worldY-this.skeleton.y,this.arotation=Math.atan2(this.c,this.a)*N.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*N.radDeg;return}let t=e.a,r=e.b,i=e.c,s=e.d,l=1/(t*s-r*i),a=this.worldX-e.worldX,u=this.worldY-e.worldY;this.ax=a*s*l-u*r*l,this.ay=u*t*l-a*i*l;let o=l*s,h=l*t,c=l*r,d=l*i,m=o*this.a-c*this.c,y=o*this.b-c*this.d,v=h*this.c-d*this.a,S=h*this.d-d*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(m*m+v*v),this.ascaleX>1e-4){let p=m*S-y*v;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(m*y+v*S,p)*N.radDeg,this.arotation=Math.atan2(v,m)*N.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(y*y+S*S),this.ashearY=0,this.arotation=90-Math.atan2(S,y)*N.radDeg}worldToLocal(e){let t=1/(this.a*this.d-this.b*this.c),r=e.x-this.worldX,i=e.y-this.worldY;return e.x=r*this.d*t-i*this.b*t,e.y=i*this.a*t-r*this.c*t,e}localToWorld(e){let t=e.x,r=e.y;return e.x=t*this.a+r*this.b+this.worldX,e.y=t*this.c+r*this.d+this.worldY,e}worldToLocalRotation(e){let t=N.sinDeg(e),r=N.cosDeg(e);return Math.atan2(this.a*t-this.c*r,this.d*r-this.b*t)*N.radDeg+this.rotation-this.shearX}localToWorldRotation(e){e-=this.rotation-this.shearX;let t=N.sinDeg(e),r=N.cosDeg(e);return Math.atan2(r*this.c+t*this.d,r*this.a+t*this.b)*N.radDeg}rotateWorld(e){let t=this.a,r=this.b,i=this.c,s=this.d,l=N.cosDeg(e),a=N.sinDeg(e);this.a=l*t-a*i,this.b=l*r-a*s,this.c=a*t+l*i,this.d=a*r+l*s}}class $o{constructor(e,t,r){f(this,"name");f(this,"order");f(this,"skinRequired");this.name=e,this.order=t,this.skinRequired=r}}class up{constructor(e,t="",r=new pf){f(this,"pathPrefix","");f(this,"textureLoader");f(this,"downloader");f(this,"assets",{});f(this,"errors",{});f(this,"toLoad",0);f(this,"loaded",0);this.textureLoader=e,this.pathPrefix=t,this.downloader=r}start(e){return this.toLoad++,this.pathPrefix+e}success(e,t,r){this.toLoad--,this.loaded++,this.assets[t]=r,e&&e(t,r)}error(e,t,r){this.toLoad--,this.loaded++,this.errors[t]=r,e&&e(t,r)}loadAll(){return new Promise((t,r)=>{let i=()=>{if(this.isLoadingComplete()){this.hasErrors()?r(this.errors):t(this);return}requestAnimationFrame(i)};requestAnimationFrame(i)})}setRawDataURI(e,t){this.downloader.rawDataUris[this.pathPrefix+e]=t}loadBinary(e,t=()=>{},r=()=>{}){e=this.start(e),this.downloader.downloadBinary(e,i=>{this.success(t,e,i)},(i,s)=>{this.error(r,e,`Couldn't load binary ${e}: status ${i}, ${s}`)})}loadText(e,t=()=>{},r=()=>{}){e=this.start(e),this.downloader.downloadText(e,i=>{this.success(t,e,i)},(i,s)=>{this.error(r,e,`Couldn't load text ${e}: status ${i}, ${s}`)})}loadJson(e,t=()=>{},r=()=>{}){e=this.start(e),this.downloader.downloadJson(e,i=>{this.success(t,e,i)},(i,s)=>{this.error(r,e,`Couldn't load JSON ${e}: status ${i}, ${s}`)})}loadTexture(e,t=()=>{},r=()=>{}){if(e=this.start(e),!!!(typeof window<"u"&&typeof navigator<"u"&&window.document))fetch(e,{mode:"cors"}).then(l=>l.ok?l.blob():(this.error(r,e,`Couldn't load image: ${e}`),null)).then(l=>l?createImageBitmap(l,{premultiplyAlpha:"none",colorSpaceConversion:"none"}):null).then(l=>{l&&this.success(t,e,this.textureLoader(l))});else{let l=new Image;l.crossOrigin="anonymous",l.onload=()=>{this.success(t,e,this.textureLoader(l))},l.onerror=()=>{this.error(r,e,`Couldn't load image: ${e}`)},this.downloader.rawDataUris[e]&&(e=this.downloader.rawDataUris[e]),l.src=e}}loadTextureAtlas(e,t=()=>{},r=()=>{},i){let s=e.lastIndexOf("/"),l=s>=0?e.substring(0,s+1):"";e=this.start(e),this.downloader.downloadText(e,a=>{try{let u=new lp(a),o=u.pages.length,h=!1;for(let c of u.pages)this.loadTexture(i?i[c.name]:l+c.name,(d,m)=>{h||(c.setTexture(m),--o==0&&this.success(t,e,u))},(d,m)=>{h||this.error(r,e,`Couldn't load texture atlas ${e} page image: ${d}`),h=!0})}catch(u){this.error(r,e,`Couldn't parse texture atlas ${e}: ${u.message}`)}},(a,u)=>{this.error(r,e,`Couldn't load texture atlas ${e}: status ${a}, ${u}`)})}get(e){return this.assets[this.pathPrefix+e]}require(e){e=this.pathPrefix+e;let t=this.assets[e];if(t)return t;let r=this.errors[e];throw Error("Asset not found: "+e+(r?`
`+r:""))}remove(e){e=this.pathPrefix+e;let t=this.assets[e];return t.dispose&&t.dispose(),delete this.assets[e],t}removeAll(){for(let e in this.assets){let t=this.assets[e];t.dispose&&t.dispose()}this.assets={}}isLoadingComplete(){return this.toLoad==0}getToLoad(){return this.toLoad}getLoaded(){return this.loaded}dispose(){this.removeAll()}hasErrors(){return Object.keys(this.errors).length>0}getErrors(){return this.errors}}class pf{constructor(){f(this,"callbacks",{});f(this,"rawDataUris",{})}dataUriToString(e){if(!e.startsWith("data:"))throw new Error("Not a data URI.");let t=e.indexOf("base64,");return t!=-1?(t+=7,atob(e.substr(t))):e.substr(e.indexOf(",")+1)}base64ToUint8Array(e){for(var t=window.atob(e),r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i}dataUriToUint8Array(e){if(!e.startsWith("data:"))throw new Error("Not a data URI.");let t=e.indexOf("base64,");if(t==-1)throw new Error("Not a binary data URI.");return t+=7,this.base64ToUint8Array(e.substr(t))}downloadText(e,t,r){if(this.start(e,t,r))return;if(this.rawDataUris[e]){try{let l=this.rawDataUris[e];this.finish(e,200,this.dataUriToString(l))}catch(l){this.finish(e,400,JSON.stringify(l))}return}let i=new XMLHttpRequest;i.overrideMimeType("text/html"),i.open("GET",e,!0);let s=()=>{this.finish(e,i.status,i.responseText)};i.onload=s,i.onerror=s,i.send()}downloadJson(e,t,r){this.downloadText(e,i=>{t(JSON.parse(i))},r)}downloadBinary(e,t,r){if(this.start(e,t,r))return;if(this.rawDataUris[e]){try{let l=this.rawDataUris[e];this.finish(e,200,this.dataUriToUint8Array(l))}catch(l){this.finish(e,400,JSON.stringify(l))}return}let i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer";let s=()=>{this.finish(e,i.status,i.response)};i.onload=()=>{i.status==200||i.status==0?this.finish(e,200,new Uint8Array(i.response)):s()},i.onerror=s,i.send()}start(e,t,r){let i=this.callbacks[e];try{if(i)return!0;this.callbacks[e]=i=[]}finally{i.push(t,r)}}finish(e,t,r){let i=this.callbacks[e];delete this.callbacks[e];let s=t==200||t==0?[r]:[t,r];for(let l=s.length-1,a=i.length;l<a;l+=2)i[l].apply(null,s)}}class gf{constructor(e,t){f(this,"data");f(this,"intValue",0);f(this,"floatValue",0);f(this,"stringValue",null);f(this,"time",0);f(this,"volume",0);f(this,"balance",0);if(!t)throw new Error("data cannot be null.");this.time=e,this.data=t}}class vf{constructor(e){f(this,"name");f(this,"intValue",0);f(this,"floatValue",0);f(this,"stringValue",null);f(this,"audioPath",null);f(this,"volume",0);f(this,"balance",0);this.name=e}}class hp{constructor(e,t){f(this,"data");f(this,"bones");f(this,"target");f(this,"bendDirection",0);f(this,"compress",!1);f(this,"stretch",!1);f(this,"mix",1);f(this,"softness",0);f(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let s=t.findBone(e.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${e.bones[i].name}`);this.bones.push(s)}let r=t.findBone(e.target.name);if(!r)throw new Error(`Couldn't find bone ${e.target.name}`);this.target=r}isActive(){return this.active}update(){if(this.mix==0)return;let e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}apply1(e,t,r,i,s,l,a){let u=e.parent;if(!u)throw new Error("IK bone must have parent.");let o=u.a,h=u.b,c=u.c,d=u.d,m=-e.ashearX-e.arotation,y=0,v=0;switch(e.data.transformMode){case ot.OnlyTranslation:y=(t-e.worldX)*N.signum(e.skeleton.scaleX),v=(r-e.worldY)*N.signum(e.skeleton.scaleY);break;case ot.NoRotationOrReflection:let w=Math.abs(o*d-h*c)/Math.max(1e-4,o*o+c*c),g=o/e.skeleton.scaleX,x=c/e.skeleton.scaleY;h=-x*w*e.skeleton.scaleX,d=g*w*e.skeleton.scaleY,m+=Math.atan2(x,g)*N.radDeg;default:let k=t-u.worldX,C=r-u.worldY,E=o*d-h*c;Math.abs(E)<=1e-4?(y=0,v=0):(y=(k*d-C*h)/E-e.ax,v=(C*o-k*c)/E-e.ay)}m+=Math.atan2(v,y)*N.radDeg,e.ascaleX<0&&(m+=180),m>180?m-=360:m<-180&&(m+=360);let S=e.ascaleX,p=e.ascaleY;if(i||s){switch(e.data.transformMode){case ot.NoScale:case ot.NoScaleOrReflection:y=t-e.worldX,v=r-e.worldY}let w=e.data.length*S,g=Math.sqrt(y*y+v*v);if(i&&g<w||s&&g>w&&w>1e-4){let x=(g/w-1)*a+1;S*=x,l&&(p*=x)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+m*a,S,p,e.ashearX,e.ashearY)}apply2(e,t,r,i,s,l,a,u,o){let h=e.ax,c=e.ay,d=e.ascaleX,m=e.ascaleY,y=d,v=m,S=t.ascaleX,p=0,w=0,g=0;d<0?(d=-d,p=180,g=-1):(p=0,g=1),m<0&&(m=-m,g=-g),S<0?(S=-S,w=180):w=0;let x=t.ax,k=0,C=0,E=0,b=e.a,T=e.b,I=e.c,P=e.d,O=Math.abs(d-m)<=1e-4;!O||l?(k=0,C=b*x+e.worldX,E=I*x+e.worldY):(k=t.ay,C=b*x+T*k+e.worldX,E=I*x+P*k+e.worldY);let X=e.parent;if(!X)throw new Error("IK parent must itself have a parent.");b=X.a,T=X.b,I=X.c,P=X.d;let Y=b*P-T*I,L=C-X.worldX,M=E-X.worldY;Y=Math.abs(Y)<=1e-4?0:1/Y;let j=(L*P-M*T)*Y-h,B=(M*b-L*I)*Y-c,D=Math.sqrt(j*j+B*B),U=t.data.length*S,ue,he;if(D<1e-4){this.apply1(e,r,i,!1,l,!1,o),t.updateWorldTransformWith(x,k,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);return}L=r-X.worldX,M=i-X.worldY;let ce=(L*P-M*T)*Y-h,oe=(M*b-L*I)*Y-c,me=ce*ce+oe*oe;if(u!=0){u*=d*(S+1)*.5;let De=Math.sqrt(me),xt=De-D-U*d+u;if(xt>0){let St=Math.min(1,xt/(u*2))-1;St=(xt-u*(1-St*St))/De,ce-=St*ce,oe-=St*oe,me=ce*ce+oe*oe}}e:if(O){U*=d;let De=(me-D*D-U*U)/(2*D*U);De<-1?(De=-1,he=Math.PI*s):De>1?(De=1,he=0,l&&(b=(Math.sqrt(me)/(D+U)-1)*o+1,y*=b,a&&(v*=b))):he=Math.acos(De)*s,b=D+U*De,T=U*Math.sin(he),ue=Math.atan2(oe*b-ce*T,ce*b+oe*T)}else{b=d*U,T=m*U;let De=b*b,xt=T*T,St=Math.atan2(oe,ce);I=xt*D*D+De*me-De*xt;let dn=-2*xt*D,nr=xt-De;if(P=dn*dn-4*nr*I,P>=0){let rr=Math.sqrt(P);dn<0&&(rr=-rr),rr=-(dn+rr)*.5;let nu=rr/nr,ru=I/rr,ir=Math.abs(nu)<Math.abs(ru)?nu:ru;if(ir*ir<=me){M=Math.sqrt(me-ir*ir)*s,ue=St-Math.atan2(M,ir),he=Math.atan2(M/m,(ir-D)/d);break e}}let Wr=N.PI,Vi=D-b,xl=Vi*Vi,Jo=0,eu=0,Ui=D+b,Sl=Ui*Ui,tu=0;I=-b*D/(De-xt),I>=-1&&I<=1&&(I=Math.acos(I),L=b*Math.cos(I)+D,M=T*Math.sin(I),P=L*L+M*M,P<xl&&(Wr=I,xl=P,Vi=L,Jo=M),P>Sl&&(eu=I,Sl=P,Ui=L,tu=M)),me<=(xl+Sl)*.5?(ue=St-Math.atan2(Jo*s,Vi),he=Wr*s):(ue=St-Math.atan2(tu*s,Ui),he=eu*s)}let Ee=Math.atan2(k,x)*g,We=e.arotation;ue=(ue-Ee)*N.radDeg+p-We,ue>180?ue-=360:ue<-180&&(ue+=360),e.updateWorldTransformWith(h,c,We+ue*o,y,v,0,0),We=t.arotation,he=((he+Ee)*N.radDeg-t.ashearX)*g+w-We,he>180?he-=360:he<-180&&(he+=360),t.updateWorldTransformWith(x,k,We+he*o,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}}class yf extends $o{constructor(t){super(t,0,!1);f(this,"bones",new Array);f(this,"_target",null);f(this,"bendDirection",1);f(this,"compress",!1);f(this,"stretch",!1);f(this,"uniform",!1);f(this,"mix",1);f(this,"softness",0)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class wf extends $o{constructor(t){super(t,0,!1);f(this,"bones",new Array);f(this,"_target",null);f(this,"positionMode",Gt.Fixed);f(this,"spacingMode",Ne.Fixed);f(this,"rotateMode",qn.Chain);f(this,"offsetRotation",0);f(this,"position",0);f(this,"spacing",0);f(this,"mixRotate",0);f(this,"mixX",0);f(this,"mixY",0)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}}var Gt;(function(n){n[n.Fixed=0]="Fixed",n[n.Percent=1]="Percent"})(Gt||(Gt={}));var Ne;(function(n){n[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",n[n.Proportional=3]="Proportional"})(Ne||(Ne={}));var qn;(function(n){n[n.Tangent=0]="Tangent",n[n.Chain=1]="Chain",n[n.ChainScale=2]="ChainScale"})(qn||(qn={}));const lt=class lt{constructor(e,t){f(this,"data");f(this,"bones");f(this,"target");f(this,"position",0);f(this,"spacing",0);f(this,"mixRotate",0);f(this,"mixX",0);f(this,"mixY",0);f(this,"spaces",new Array);f(this,"positions",new Array);f(this,"world",new Array);f(this,"curves",new Array);f(this,"lengths",new Array);f(this,"segments",new Array);f(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(let i=0,s=e.bones.length;i<s;i++){let l=t.findBone(e.bones[i].name);if(!l)throw new Error(`Couldn't find bone ${e.bones[i].name}.`);this.bones.push(l)}let r=t.findSlot(e.target.name);if(!r)throw new Error(`Couldn't find target bone ${e.target.name}`);this.target=r,this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}isActive(){return this.active}update(){let e=this.target.getAttachment();if(!(e instanceof Jn))return;let t=this.mixRotate,r=this.mixX,i=this.mixY;if(t==0&&r==0&&i==0)return;let s=this.data,l=s.rotateMode==qn.Tangent,a=s.rotateMode==qn.ChainScale,u=this.bones,o=u.length,h=l?o:o+1,c=V.setArraySize(this.spaces,h),d=a?this.lengths=V.setArraySize(this.lengths,o):[],m=this.spacing;switch(s.spacingMode){case Ne.Percent:if(a)for(let k=0,C=h-1;k<C;k++){let E=u[k],b=E.data.length;if(b<lt.epsilon)d[k]=0;else{let T=b*E.a,I=b*E.c;d[k]=Math.sqrt(T*T+I*I)}}V.arrayFill(c,1,h,m);break;case Ne.Proportional:let g=0;for(let k=0,C=h-1;k<C;){let E=u[k],b=E.data.length;if(b<lt.epsilon)a&&(d[k]=0),c[++k]=m;else{let T=b*E.a,I=b*E.c,P=Math.sqrt(T*T+I*I);a&&(d[k]=P),c[++k]=P,g+=P}}if(g>0){g=h/g*m;for(let k=1;k<h;k++)c[k]*=g}break;default:let x=s.spacingMode==Ne.Length;for(let k=0,C=h-1;k<C;){let E=u[k],b=E.data.length;if(b<lt.epsilon)a&&(d[k]=0),c[++k]=m;else{let T=b*E.a,I=b*E.c,P=Math.sqrt(T*T+I*I);a&&(d[k]=P),c[++k]=(x?b+m:m)*P/b}}}let y=this.computeWorldPositions(e,h,l),v=y[0],S=y[1],p=s.offsetRotation,w=!1;if(p==0)w=s.rotateMode==qn.Chain;else{w=!1;let g=this.target.bone;p*=g.a*g.d-g.b*g.c>0?N.degRad:-N.degRad}for(let g=0,x=3;g<o;g++,x+=3){let k=u[g];k.worldX+=(v-k.worldX)*r,k.worldY+=(S-k.worldY)*i;let C=y[x],E=y[x+1],b=C-v,T=E-S;if(a){let I=d[g];if(I!=0){let P=(Math.sqrt(b*b+T*T)/I-1)*t+1;k.a*=P,k.c*=P}}if(v=C,S=E,t>0){let I=k.a,P=k.b,O=k.c,X=k.d,Y=0,L=0,M=0;if(l?Y=y[x-1]:c[g+1]==0?Y=y[x+2]:Y=Math.atan2(T,b),Y-=Math.atan2(O,I),w){L=Math.cos(Y),M=Math.sin(Y);let j=k.data.length;v+=(j*(L*I-M*O)-b)*t,S+=(j*(M*I+L*O)-T)*t}else Y+=p;Y>N.PI?Y-=N.PI2:Y<-N.PI&&(Y+=N.PI2),Y*=t,L=Math.cos(Y),M=Math.sin(Y),k.a=L*I-M*O,k.b=L*P-M*X,k.c=M*I+L*O,k.d=M*P+L*X}k.updateAppliedTransform()}}computeWorldPositions(e,t,r){let i=this.target,s=this.position,l=this.spaces,a=V.setArraySize(this.positions,t*3+2),u=this.world,o=e.closed,h=e.worldVerticesLength,c=h/6,d=lt.NONE;if(!e.constantSpeed){let B=e.lengths;c-=o?1:2;let D=B[c];this.data.positionMode==Gt.Percent&&(s*=D);let U;switch(this.data.spacingMode){case Ne.Percent:U=D;break;case Ne.Proportional:U=D/t;break;default:U=1}u=V.setArraySize(this.world,8);for(let ue=0,he=0,ce=0;ue<t;ue++,he+=3){let oe=l[ue]*U;s+=oe;let me=s;if(o)me%=D,me<0&&(me+=D),ce=0;else if(me<0){d!=lt.BEFORE&&(d=lt.BEFORE,e.computeWorldVertices(i,2,4,u,0,2)),this.addBeforePosition(me,u,0,a,he);continue}else if(me>D){d!=lt.AFTER&&(d=lt.AFTER,e.computeWorldVertices(i,h-6,4,u,0,2)),this.addAfterPosition(me-D,u,0,a,he);continue}for(;;ce++){let Ee=B[ce];if(!(me>Ee)){if(ce==0)me/=Ee;else{let We=B[ce-1];me=(me-We)/(Ee-We)}break}}ce!=d&&(d=ce,o&&ce==c?(e.computeWorldVertices(i,h-4,4,u,0,2),e.computeWorldVertices(i,0,4,u,4,2)):e.computeWorldVertices(i,ce*6+2,8,u,0,2)),this.addCurvePosition(me,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],a,he,r||ue>0&&oe==0)}return a}o?(h+=2,u=V.setArraySize(this.world,h),e.computeWorldVertices(i,2,h-4,u,0,2),e.computeWorldVertices(i,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(c--,h-=4,u=V.setArraySize(this.world,h),e.computeWorldVertices(i,2,h,u,0,2));let m=V.setArraySize(this.curves,c),y=0,v=u[0],S=u[1],p=0,w=0,g=0,x=0,k=0,C=0,E=0,b=0,T=0,I=0,P=0,O=0,X=0,Y=0;for(let B=0,D=2;B<c;B++,D+=6)p=u[D],w=u[D+1],g=u[D+2],x=u[D+3],k=u[D+4],C=u[D+5],E=(v-p*2+g)*.1875,b=(S-w*2+x)*.1875,T=((p-g)*3-v+k)*.09375,I=((w-x)*3-S+C)*.09375,P=E*2+T,O=b*2+I,X=(p-v)*.75+E+T*.16666667,Y=(w-S)*.75+b+I*.16666667,y+=Math.sqrt(X*X+Y*Y),X+=P,Y+=O,P+=T,O+=I,y+=Math.sqrt(X*X+Y*Y),X+=P,Y+=O,y+=Math.sqrt(X*X+Y*Y),X+=P+T,Y+=O+I,y+=Math.sqrt(X*X+Y*Y),m[B]=y,v=k,S=C;this.data.positionMode==Gt.Percent&&(s*=y);let L;switch(this.data.spacingMode){case Ne.Percent:L=y;break;case Ne.Proportional:L=y/t;break;default:L=1}let M=this.segments,j=0;for(let B=0,D=0,U=0,ue=0;B<t;B++,D+=3){let he=l[B]*L;s+=he;let ce=s;if(o)ce%=y,ce<0&&(ce+=y),U=0;else if(ce<0){this.addBeforePosition(ce,u,0,a,D);continue}else if(ce>y){this.addAfterPosition(ce-y,u,h-4,a,D);continue}for(;;U++){let oe=m[U];if(!(ce>oe)){if(U==0)ce/=oe;else{let me=m[U-1];ce=(ce-me)/(oe-me)}break}}if(U!=d){d=U;let oe=U*6;for(v=u[oe],S=u[oe+1],p=u[oe+2],w=u[oe+3],g=u[oe+4],x=u[oe+5],k=u[oe+6],C=u[oe+7],E=(v-p*2+g)*.03,b=(S-w*2+x)*.03,T=((p-g)*3-v+k)*.006,I=((w-x)*3-S+C)*.006,P=E*2+T,O=b*2+I,X=(p-v)*.3+E+T*.16666667,Y=(w-S)*.3+b+I*.16666667,j=Math.sqrt(X*X+Y*Y),M[0]=j,oe=1;oe<8;oe++)X+=P,Y+=O,P+=T,O+=I,j+=Math.sqrt(X*X+Y*Y),M[oe]=j;X+=P,Y+=O,j+=Math.sqrt(X*X+Y*Y),M[8]=j,X+=P+T,Y+=O+I,j+=Math.sqrt(X*X+Y*Y),M[9]=j,ue=0}for(ce*=j;;ue++){let oe=M[ue];if(!(ce>oe)){if(ue==0)ce/=oe;else{let me=M[ue-1];ce=ue+(ce-me)/(oe-me)}break}}this.addCurvePosition(ce*.1,v,S,p,w,g,x,k,C,a,D,r||B>0&&he==0)}return a}addBeforePosition(e,t,r,i,s){let l=t[r],a=t[r+1],u=t[r+2]-l,o=t[r+3]-a,h=Math.atan2(o,u);i[s]=l+e*Math.cos(h),i[s+1]=a+e*Math.sin(h),i[s+2]=h}addAfterPosition(e,t,r,i,s){let l=t[r+2],a=t[r+3],u=l-t[r],o=a-t[r+1],h=Math.atan2(o,u);i[s]=l+e*Math.cos(h),i[s+1]=a+e*Math.sin(h),i[s+2]=h}addCurvePosition(e,t,r,i,s,l,a,u,o,h,c,d){if(e==0||isNaN(e)){h[c]=t,h[c+1]=r,h[c+2]=Math.atan2(s-r,i-t);return}let m=e*e,y=m*e,v=1-e,S=v*v,p=S*v,w=v*e,g=w*3,x=v*g,k=g*e,C=t*p+i*x+l*k+u*y,E=r*p+s*x+a*k+o*y;h[c]=C,h[c+1]=E,d&&(e<.001?h[c+2]=Math.atan2(s-r,i-t):h[c+2]=Math.atan2(E-(r*S+s*w*2+a*m),C-(t*S+i*w*2+l*m)))}};f(lt,"NONE",-1),f(lt,"BEFORE",-2),f(lt,"AFTER",-3),f(lt,"epsilon",1e-5);let qa=lt;class cp{constructor(e,t){f(this,"data");f(this,"bone");f(this,"color");f(this,"darkColor",null);f(this,"attachment",null);f(this,"attachmentState",0);f(this,"sequenceIndex",-1);f(this,"deform",new Array);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("bone cannot be null.");this.data=e,this.bone=t,this.color=new W,this.darkColor=e.darkColor?new W:null,this.setToSetupPose()}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&((!(e instanceof zt)||!(this.attachment instanceof zt)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}}class dp{constructor(e,t){f(this,"data");f(this,"bones");f(this,"target");f(this,"mixRotate",0);f(this,"mixX",0);f(this,"mixY",0);f(this,"mixScaleX",0);f(this,"mixScaleY",0);f(this,"mixShearY",0);f(this,"temp",new jt);f(this,"active",!1);if(!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let s=t.findBone(e.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${e.bones[i].name}.`);this.bones.push(s)}let r=t.findBone(e.target.name);if(!r)throw new Error(`Couldn't find target bone ${e.target.name}.`);this.target=r}isActive(){return this.active}update(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleY==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,l=this.mixShearY,a=t!=0||r!=0,u=this.target,o=u.a,h=u.b,c=u.c,d=u.d,m=o*d-h*c>0?N.degRad:-N.degRad,y=this.data.offsetRotation*m,v=this.data.offsetShearY*m,S=this.bones;for(let p=0,w=S.length;p<w;p++){let g=S[p];if(e!=0){let x=g.a,k=g.b,C=g.c,E=g.d,b=Math.atan2(c,o)-Math.atan2(C,x)+y;b>N.PI?b-=N.PI2:b<-N.PI&&(b+=N.PI2),b*=e;let T=Math.cos(b),I=Math.sin(b);g.a=T*x-I*C,g.b=T*k-I*E,g.c=I*x+T*C,g.d=I*k+T*E}if(a){let x=this.temp;u.localToWorld(x.set(this.data.offsetX,this.data.offsetY)),g.worldX+=(x.x-g.worldX)*t,g.worldY+=(x.y-g.worldY)*r}if(i!=0){let x=Math.sqrt(g.a*g.a+g.c*g.c);x!=0&&(x=(x+(Math.sqrt(o*o+c*c)-x+this.data.offsetScaleX)*i)/x),g.a*=x,g.c*=x}if(s!=0){let x=Math.sqrt(g.b*g.b+g.d*g.d);x!=0&&(x=(x+(Math.sqrt(h*h+d*d)-x+this.data.offsetScaleY)*s)/x),g.b*=x,g.d*=x}if(l>0){let x=g.b,k=g.d,C=Math.atan2(k,x),E=Math.atan2(d,h)-Math.atan2(c,o)-(C-Math.atan2(g.c,g.a));E>N.PI?E-=N.PI2:E<-N.PI&&(E+=N.PI2),E=C+(E+v)*l;let b=Math.sqrt(x*x+k*k);g.b=Math.cos(E)*b,g.d=Math.sin(E)*b}g.updateAppliedTransform()}}applyRelativeWorld(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,l=this.mixShearY,a=t!=0||r!=0,u=this.target,o=u.a,h=u.b,c=u.c,d=u.d,m=o*d-h*c>0?N.degRad:-N.degRad,y=this.data.offsetRotation*m,v=this.data.offsetShearY*m,S=this.bones;for(let p=0,w=S.length;p<w;p++){let g=S[p];if(e!=0){let x=g.a,k=g.b,C=g.c,E=g.d,b=Math.atan2(c,o)+y;b>N.PI?b-=N.PI2:b<-N.PI&&(b+=N.PI2),b*=e;let T=Math.cos(b),I=Math.sin(b);g.a=T*x-I*C,g.b=T*k-I*E,g.c=I*x+T*C,g.d=I*k+T*E}if(a){let x=this.temp;u.localToWorld(x.set(this.data.offsetX,this.data.offsetY)),g.worldX+=x.x*t,g.worldY+=x.y*r}if(i!=0){let x=(Math.sqrt(o*o+c*c)-1+this.data.offsetScaleX)*i+1;g.a*=x,g.c*=x}if(s!=0){let x=(Math.sqrt(h*h+d*d)-1+this.data.offsetScaleY)*s+1;g.b*=x,g.d*=x}if(l>0){let x=Math.atan2(d,h)-Math.atan2(c,o);x>N.PI?x-=N.PI2:x<-N.PI&&(x+=N.PI2);let k=g.b,C=g.d;x=Math.atan2(C,k)+(x-N.PI/2+v)*l;let E=Math.sqrt(k*k+C*C);g.b=Math.cos(x)*E,g.d=Math.sin(x)*E}g.updateAppliedTransform()}}applyAbsoluteLocal(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,l=this.mixShearY,a=this.target,u=this.bones;for(let o=0,h=u.length;o<h;o++){let c=u[o],d=c.arotation;if(e!=0){let w=a.arotation-d+this.data.offsetRotation;w-=(16384-(16384.499999999996-w/360|0))*360,d+=w*e}let m=c.ax,y=c.ay;m+=(a.ax-m+this.data.offsetX)*t,y+=(a.ay-y+this.data.offsetY)*r;let v=c.ascaleX,S=c.ascaleY;i!=0&&v!=0&&(v=(v+(a.ascaleX-v+this.data.offsetScaleX)*i)/v),s!=0&&S!=0&&(S=(S+(a.ascaleY-S+this.data.offsetScaleY)*s)/S);let p=c.ashearY;if(l!=0){let w=a.ashearY-p+this.data.offsetShearY;w-=(16384-(16384.499999999996-w/360|0))*360,p+=w*l}c.updateWorldTransformWith(m,y,d,v,S,c.ashearX,p)}}applyRelativeLocal(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,l=this.mixShearY,a=this.target,u=this.bones;for(let o=0,h=u.length;o<h;o++){let c=u[o],d=c.arotation+(a.arotation+this.data.offsetRotation)*e,m=c.ax+(a.ax+this.data.offsetX)*t,y=c.ay+(a.ay+this.data.offsetY)*r,v=c.ascaleX*((a.ascaleX-1+this.data.offsetScaleX)*i+1),S=c.ascaleY*((a.ascaleY-1+this.data.offsetScaleY)*s+1),p=c.ashearY+(a.ashearY+this.data.offsetShearY)*l;c.updateWorldTransformWith(m,y,d,v,S,c.ashearX,p)}}}const el=class el{constructor(e){f(this,"data");f(this,"bones");f(this,"slots");f(this,"drawOrder");f(this,"ikConstraints");f(this,"transformConstraints");f(this,"pathConstraints");f(this,"_updateCache",new Array);f(this,"skin",null);f(this,"color");f(this,"scaleX",1);f(this,"_scaleY",1);f(this,"x",0);f(this,"y",0);if(!e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(let t=0;t<e.bones.length;t++){let r=e.bones[t],i;if(!r.parent)i=new vh(r,this,null);else{let s=this.bones[r.parent.index];i=new vh(r,this,s),s.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(let t=0;t<e.slots.length;t++){let r=e.slots[t],i=this.bones[r.boneData.index],s=new cp(r,i);this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(let t=0;t<e.ikConstraints.length;t++){let r=e.ikConstraints[t];this.ikConstraints.push(new hp(r,this))}this.transformConstraints=new Array;for(let t=0;t<e.transformConstraints.length;t++){let r=e.transformConstraints[t];this.transformConstraints.push(new dp(r,this))}this.pathConstraints=new Array;for(let t=0;t<e.pathConstraints.length;t++){let r=e.pathConstraints[t];this.pathConstraints.push(new qa(r,this))}this.color=new W(1,1,1,1),this.updateCache()}get scaleY(){return el.yDown?-this._scaleY:this._scaleY}set scaleY(e){this._scaleY=e}updateCache(){let e=this._updateCache;e.length=0;let t=this.bones;for(let h=0,c=t.length;h<c;h++){let d=t[h];d.sorted=d.data.skinRequired,d.active=!d.sorted}if(this.skin){let h=this.skin.bones;for(let c=0,d=this.skin.bones.length;c<d;c++){let m=this.bones[h[c].index];do m.sorted=!1,m.active=!0,m=m.parent;while(m)}}let r=this.ikConstraints,i=this.transformConstraints,s=this.pathConstraints,l=r.length,a=i.length,u=s.length,o=l+a+u;e:for(let h=0;h<o;h++){for(let c=0;c<l;c++){let d=r[c];if(d.data.order==h){this.sortIkConstraint(d);continue e}}for(let c=0;c<a;c++){let d=i[c];if(d.data.order==h){this.sortTransformConstraint(d);continue e}}for(let c=0;c<u;c++){let d=s[c];if(d.data.order==h){this.sortPathConstraint(d);continue e}}}for(let h=0,c=t.length;h<c;h++)this.sortBone(t[h])}sortIkConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&V.contains(this.skin.constraints,e.data,!0)),!e.active)return;let t=e.target;this.sortBone(t);let r=e.bones,i=r[0];if(this.sortBone(i),r.length==1)this._updateCache.push(e),this.sortReset(i.children);else{let s=r[r.length-1];this.sortBone(s),this._updateCache.push(e),this.sortReset(i.children),s.sorted=!0}}sortPathConstraint(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||this.skin&&V.contains(this.skin.constraints,e.data,!0)),!e.active)return;let t=e.target,r=t.data.index,i=t.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,r,i),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,i);for(let u=0,o=this.data.skins.length;u<o;u++)this.sortPathConstraintAttachment(this.data.skins[u],r,i);let s=t.getAttachment();s instanceof Jn&&this.sortPathConstraintAttachmentWith(s,i);let l=e.bones,a=l.length;for(let u=0;u<a;u++)this.sortBone(l[u]);this._updateCache.push(e);for(let u=0;u<a;u++)this.sortReset(l[u].children);for(let u=0;u<a;u++)l[u].sorted=!0}sortTransformConstraint(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||this.skin&&V.contains(this.skin.constraints,e.data,!0)),!e.active)return;this.sortBone(e.target);let t=e.bones,r=t.length;if(e.data.local)for(let i=0;i<r;i++){let s=t[i];this.sortBone(s.parent),this.sortBone(s)}else for(let i=0;i<r;i++)this.sortBone(t[i]);this._updateCache.push(e);for(let i=0;i<r;i++)this.sortReset(t[i].children);for(let i=0;i<r;i++)t[i].sorted=!0}sortPathConstraintAttachment(e,t,r){let i=e.attachments[t];if(i)for(let s in i)this.sortPathConstraintAttachmentWith(i[s],r)}sortPathConstraintAttachmentWith(e,t){if(!(e instanceof Jn))return;let r=e.bones;if(!r)this.sortBone(t);else{let i=this.bones;for(let s=0,l=r.length;s<l;){let a=r[s++];for(a+=s;s<a;)this.sortBone(i[r[s++]])}}}sortBone(e){if(!e||e.sorted)return;let t=e.parent;t&&this.sortBone(t),e.sorted=!0,this._updateCache.push(e)}sortReset(e){for(let t=0,r=e.length;t<r;t++){let i=e[t];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}updateWorldTransform(){let e=this.bones;for(let r=0,i=e.length;r<i;r++){let s=e[r];s.ax=s.x,s.ay=s.y,s.arotation=s.rotation,s.ascaleX=s.scaleX,s.ascaleY=s.scaleY,s.ashearX=s.shearX,s.ashearY=s.shearY}let t=this._updateCache;for(let r=0,i=t.length;r<i;r++)t[r].update()}updateWorldTransformWith(e){let t=this.getRootBone();if(!t)throw new Error("Root bone must not be null.");let r=e.a,i=e.b,s=e.c,l=e.d;t.worldX=r*this.x+i*this.y+e.worldX,t.worldY=s*this.x+l*this.y+e.worldY;let a=t.rotation+90+t.shearY,u=N.cosDeg(t.rotation+t.shearX)*t.scaleX,o=N.cosDeg(a)*t.scaleY,h=N.sinDeg(t.rotation+t.shearX)*t.scaleX,c=N.sinDeg(a)*t.scaleY;t.a=(r*u+i*h)*this.scaleX,t.b=(r*o+i*c)*this.scaleX,t.c=(s*u+l*h)*this.scaleY,t.d=(s*o+l*c)*this.scaleY;let d=this._updateCache;for(let m=0,y=d.length;m<y;m++){let v=d[m];v!=t&&v.update()}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){let e=this.bones;for(let s=0,l=e.length;s<l;s++)e[s].setToSetupPose();let t=this.ikConstraints;for(let s=0,l=t.length;s<l;s++){let a=t[s];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}let r=this.transformConstraints;for(let s=0,l=r.length;s<l;s++){let a=r[s],u=a.data;a.mixRotate=u.mixRotate,a.mixX=u.mixX,a.mixY=u.mixY,a.mixScaleX=u.mixScaleX,a.mixScaleY=u.mixScaleY,a.mixShearY=u.mixShearY}let i=this.pathConstraints;for(let s=0,l=i.length;s<l;s++){let a=i[s],u=a.data;a.position=u.position,a.spacing=u.spacing,a.mixRotate=u.mixRotate,a.mixX=u.mixX,a.mixY=u.mixY}}setSlotsToSetupPose(){let e=this.slots;V.arrayCopy(e,0,this.drawOrder,0,e.length);for(let t=0,r=e.length;t<r;t++)e[t].setToSetupPose()}getRootBone(){return this.bones.length==0?null:this.bones[0]}findBone(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==e)return s}return null}findSlot(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==e)return s}return null}setSkinByName(e){let t=this.data.findSkin(e);if(!t)throw new Error("Skin not found: "+e);this.setSkin(t)}setSkin(e){if(e!=this.skin){if(e)if(this.skin)e.attachAll(this,this.skin);else{let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r],l=s.data.attachmentName;if(l){let a=e.getAttachment(r,l);a&&s.setAttachment(a)}}}this.skin=e,this.updateCache()}}getAttachmentByName(e,t){let r=this.data.findSlot(e);if(!r)throw new Error(`Can't find slot with name ${e}`);return this.getAttachment(r.index,t)}getAttachment(e,t){if(!t)throw new Error("attachmentName cannot be null.");if(this.skin){let r=this.skin.getAttachment(e,t);if(r)return r}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(e,t):null}setAttachment(e,t){if(!e)throw new Error("slotName cannot be null.");let r=this.slots;for(let i=0,s=r.length;i<s;i++){let l=r[i];if(l.data.name==e){let a=null;if(t&&(a=this.getAttachment(i,t),!a))throw new Error("Attachment not found: "+t+", for slot: "+e);l.setAttachment(a);return}}throw new Error("Slot not found: "+e)}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.ikConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==e)return s}return null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.transformConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==e)return s}return null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==e)return s}return null}getBoundsRect(){let e=new jt,t=new jt;return this.getBounds(e,t),{x:e.x,y:e.y,width:t.x,height:t.y}}getBounds(e,t,r=new Array(2)){if(!e)throw new Error("offset cannot be null.");if(!t)throw new Error("size cannot be null.");let i=this.drawOrder,s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(let o=0,h=i.length;o<h;o++){let c=i[o];if(!c.bone.active)continue;let d=0,m=null,y=c.getAttachment();if(y instanceof Xr)d=8,m=V.setArraySize(r,d,0),y.computeWorldVertices(c,m,0,2);else if(y instanceof Yn){let v=y;d=v.worldVerticesLength,m=V.setArraySize(r,d,0),v.computeWorldVertices(c,0,d,m,0,2)}if(m)for(let v=0,S=m.length;v<S;v+=2){let p=m[v],w=m[v+1];s=Math.min(s,p),l=Math.min(l,w),a=Math.max(a,p),u=Math.max(u,w)}}e.set(s,l),t.set(a-s,u-l)}};f(el,"yDown",!1);let Ga=el;class xf{constructor(){f(this,"name",null);f(this,"bones",new Array);f(this,"slots",new Array);f(this,"skins",new Array);f(this,"defaultSkin",null);f(this,"events",new Array);f(this,"animations",new Array);f(this,"ikConstraints",new Array);f(this,"transformConstraints",new Array);f(this,"pathConstraints",new Array);f(this,"x",0);f(this,"y",0);f(this,"width",0);f(this,"height",0);f(this,"version",null);f(this,"hash",null);f(this,"fps",0);f(this,"imagesPath",null);f(this,"audioPath",null)}findBone(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findSlot(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findSkin(e){if(!e)throw new Error("skinName cannot be null.");let t=this.skins;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findEvent(e){if(!e)throw new Error("eventDataName cannot be null.");let t=this.events;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findAnimation(e){if(!e)throw new Error("animationName cannot be null.");let t=this.animations;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.ikConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.transformConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}}class yh{constructor(e=0,t,r){f(this,"slotIndex");f(this,"name");f(this,"attachment");this.slotIndex=e,this.name=t,this.attachment=r}}class Qa{constructor(e){f(this,"name");f(this,"attachments",new Array);f(this,"bones",Array());f(this,"constraints",new Array);if(!e)throw new Error("name cannot be null.");this.name=e}setAttachment(e,t,r){if(!r)throw new Error("attachment cannot be null.");let i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=r}addSkin(e){for(let i=0;i<e.bones.length;i++){let s=e.bones[i],l=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==s){l=!0;break}l||this.bones.push(s)}for(let i=0;i<e.constraints.length;i++){let s=e.constraints[i],l=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==s){l=!0;break}l||this.constraints.push(s)}let t=e.getAttachments();for(let i=0;i<t.length;i++){var r=t[i];this.setAttachment(r.slotIndex,r.name,r.attachment)}}copySkin(e){for(let i=0;i<e.bones.length;i++){let s=e.bones[i],l=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==s){l=!0;break}l||this.bones.push(s)}for(let i=0;i<e.constraints.length;i++){let s=e.constraints[i],l=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==s){l=!0;break}l||this.constraints.push(s)}let t=e.getAttachments();for(let i=0;i<t.length;i++){var r=t[i];r.attachment&&(r.attachment instanceof Yn?(r.attachment=r.attachment.newLinkedMesh(),this.setAttachment(r.slotIndex,r.name,r.attachment)):(r.attachment=r.attachment.copy(),this.setAttachment(r.slotIndex,r.name,r.attachment)))}}getAttachment(e,t){let r=this.attachments[e];return r?r[t]:null}removeAttachment(e,t){let r=this.attachments[e];r&&delete r[t]}getAttachments(){let e=new Array;for(var t=0;t<this.attachments.length;t++){let r=this.attachments[t];if(r)for(let i in r){let s=r[i];s&&e.push(new yh(t,i,s))}}return e}getAttachmentsForSlot(e,t){let r=this.attachments[e];if(r)for(let i in r){let s=r[i];s&&t.push(new yh(e,i,s))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(e,t){let r=0;for(let i=0;i<e.slots.length;i++){let s=e.slots[i],l=s.getAttachment();if(l&&r<t.attachments.length){let a=t.attachments[r];for(let u in a){let o=a[u];if(l==o){let h=this.getAttachment(r,u);h&&s.setAttachment(h);break}}}r++}}}class Sf{constructor(e,t,r){f(this,"index",0);f(this,"name");f(this,"boneData");f(this,"color",new W(1,1,1,1));f(this,"darkColor",null);f(this,"attachmentName",null);f(this,"blendMode",Pi.Normal);if(e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");if(!r)throw new Error("boneData cannot be null.");this.index=e,this.name=t,this.boneData=r}}var Pi;(function(n){n[n.Normal=0]="Normal",n[n.Additive=1]="Additive",n[n.Multiply=2]="Multiply",n[n.Screen=3]="Screen"})(Pi||(Pi={}));class kf extends $o{constructor(t){super(t,0,!1);f(this,"bones",new Array);f(this,"_target",null);f(this,"mixRotate",0);f(this,"mixX",0);f(this,"mixY",0);f(this,"mixScaleX",0);f(this,"mixScaleY",0);f(this,"mixShearY",0);f(this,"offsetRotation",0);f(this,"offsetX",0);f(this,"offsetY",0);f(this,"offsetScaleX",0);f(this,"offsetScaleY",0);f(this,"offsetShearY",0);f(this,"relative",!1);f(this,"local",!1)}set target(t){this._target=t}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}}class fp{constructor(e){f(this,"scale",1);f(this,"attachmentLoader");f(this,"linkedMeshes",new Array);this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,r=new xf;r.name="";let i=new mp(e),s=i.readInt32(),l=i.readInt32();r.hash=l==0&&s==0?null:l.toString(16)+s.toString(16),r.version=i.readString(),r.x=i.readFloat(),r.y=i.readFloat(),r.width=i.readFloat(),r.height=i.readFloat();let a=i.readBoolean();a&&(r.fps=i.readFloat(),r.imagesPath=i.readString(),r.audioPath=i.readString());let u=0;u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("String in string table must not be null.");i.strings.push(c)}u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("Bone name must not be null.");let d=h==0?null:r.bones[i.readInt(!0)],m=new mf(h,c,d);m.rotation=i.readFloat(),m.x=i.readFloat()*t,m.y=i.readFloat()*t,m.scaleX=i.readFloat(),m.scaleY=i.readFloat(),m.shearX=i.readFloat(),m.shearY=i.readFloat(),m.length=i.readFloat()*t,m.transformMode=i.readInt(!0),m.skinRequired=i.readBoolean(),a&&W.rgba8888ToColor(m.color,i.readInt32()),r.bones.push(m)}u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("Slot name must not be null.");let d=r.bones[i.readInt(!0)],m=new Sf(h,c,d);W.rgba8888ToColor(m.color,i.readInt32());let y=i.readInt32();y!=-1&&W.rgb888ToColor(m.darkColor=new W,y),m.attachmentName=i.readStringRef(),m.blendMode=i.readInt(!0),r.slots.push(m)}u=i.readInt(!0);for(let h=0,c;h<u;h++){let d=i.readString();if(!d)throw new Error("IK constraint data name must not be null.");let m=new yf(d);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),c=i.readInt(!0);for(let y=0;y<c;y++)m.bones.push(r.bones[i.readInt(!0)]);m.target=r.bones[i.readInt(!0)],m.mix=i.readFloat(),m.softness=i.readFloat()*t,m.bendDirection=i.readByte(),m.compress=i.readBoolean(),m.stretch=i.readBoolean(),m.uniform=i.readBoolean(),r.ikConstraints.push(m)}u=i.readInt(!0);for(let h=0,c;h<u;h++){let d=i.readString();if(!d)throw new Error("Transform constraint data name must not be null.");let m=new kf(d);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),c=i.readInt(!0);for(let y=0;y<c;y++)m.bones.push(r.bones[i.readInt(!0)]);m.target=r.bones[i.readInt(!0)],m.local=i.readBoolean(),m.relative=i.readBoolean(),m.offsetRotation=i.readFloat(),m.offsetX=i.readFloat()*t,m.offsetY=i.readFloat()*t,m.offsetScaleX=i.readFloat(),m.offsetScaleY=i.readFloat(),m.offsetShearY=i.readFloat(),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),m.mixScaleX=i.readFloat(),m.mixScaleY=i.readFloat(),m.mixShearY=i.readFloat(),r.transformConstraints.push(m)}u=i.readInt(!0);for(let h=0,c;h<u;h++){let d=i.readString();if(!d)throw new Error("Path constraint data name must not be null.");let m=new wf(d);m.order=i.readInt(!0),m.skinRequired=i.readBoolean(),c=i.readInt(!0);for(let y=0;y<c;y++)m.bones.push(r.bones[i.readInt(!0)]);m.target=r.slots[i.readInt(!0)],m.positionMode=i.readInt(!0),m.spacingMode=i.readInt(!0),m.rotateMode=i.readInt(!0),m.offsetRotation=i.readFloat(),m.position=i.readFloat(),m.positionMode==Gt.Fixed&&(m.position*=t),m.spacing=i.readFloat(),(m.spacingMode==Ne.Length||m.spacingMode==Ne.Fixed)&&(m.spacing*=t),m.mixRotate=i.readFloat(),m.mixX=i.readFloat(),m.mixY=i.readFloat(),r.pathConstraints.push(m)}let o=this.readSkin(i,r,!0,a);o&&(r.defaultSkin=o,r.skins.push(o));{let h=r.skins.length;for(V.setArraySize(r.skins,u=h+i.readInt(!0));h<u;h++){let c=this.readSkin(i,r,!1,a);if(!c)throw new Error("readSkin() should not have returned null.");r.skins[h]=c}}u=this.linkedMeshes.length;for(let h=0;h<u;h++){let c=this.linkedMeshes[h],d=c.skin?r.findSkin(c.skin):r.defaultSkin;if(!d)throw new Error("Not skin found for linked mesh.");if(!c.parent)throw new Error("Linked mesh parent must not be null");let m=d.getAttachment(c.slotIndex,c.parent);if(!m)throw new Error(`Parent mesh not found: ${c.parent}`);c.mesh.timelineAttachment=c.inheritTimeline?m:c.mesh,c.mesh.setParentMesh(m),c.mesh.region!=null&&c.mesh.updateRegion()}this.linkedMeshes.length=0,u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readStringRef();if(!c)throw new Error;let d=new vf(c);d.intValue=i.readInt(!1),d.floatValue=i.readFloat(),d.stringValue=i.readString(),d.audioPath=i.readString(),d.audioPath&&(d.volume=i.readFloat(),d.balance=i.readFloat()),r.events.push(d)}u=i.readInt(!0);for(let h=0;h<u;h++){let c=i.readString();if(!c)throw new Error("Animatio name must not be null.");r.animations.push(this.readAnimation(i,c,r))}return r}readSkin(e,t,r,i){let s=null,l=0;if(r){if(l=e.readInt(!0),l==0)return null;s=new Qa("default")}else{let a=e.readStringRef();if(!a)throw new Error("Skin name must not be null.");s=new Qa(a),s.bones.length=e.readInt(!0);for(let u=0,o=s.bones.length;u<o;u++)s.bones[u]=t.bones[e.readInt(!0)];for(let u=0,o=e.readInt(!0);u<o;u++)s.constraints.push(t.ikConstraints[e.readInt(!0)]);for(let u=0,o=e.readInt(!0);u<o;u++)s.constraints.push(t.transformConstraints[e.readInt(!0)]);for(let u=0,o=e.readInt(!0);u<o;u++)s.constraints.push(t.pathConstraints[e.readInt(!0)]);l=e.readInt(!0)}for(let a=0;a<l;a++){let u=e.readInt(!0);for(let o=0,h=e.readInt(!0);o<h;o++){let c=e.readStringRef();if(!c)throw new Error("Attachment name must not be null");let d=this.readAttachment(e,t,s,u,c,i);d&&s.setAttachment(u,c,d)}}return s}readAttachment(e,t,r,i,s,l){let a=this.scale,u=e.readStringRef();switch(u||(u=s),e.readByte()){case tn.Region:{let o=e.readStringRef(),h=e.readFloat(),c=e.readFloat(),d=e.readFloat(),m=e.readFloat(),y=e.readFloat(),v=e.readFloat(),S=e.readFloat(),p=e.readInt32(),w=this.readSequence(e);o||(o=u);let g=this.attachmentLoader.newRegionAttachment(r,u,o,w);return g?(g.path=o,g.x=c*a,g.y=d*a,g.scaleX=m,g.scaleY=y,g.rotation=h,g.width=v*a,g.height=S*a,W.rgba8888ToColor(g.color,p),g.sequence=w,w==null&&g.updateRegion(),g):null}case tn.BoundingBox:{let o=e.readInt(!0),h=this.readVertices(e,o),c=l?e.readInt32():0,d=this.attachmentLoader.newBoundingBoxAttachment(r,u);return d?(d.worldVerticesLength=o<<1,d.vertices=h.vertices,d.bones=h.bones,l&&W.rgba8888ToColor(d.color,c),d):null}case tn.Mesh:{let o=e.readStringRef(),h=e.readInt32(),c=e.readInt(!0),d=this.readFloatArray(e,c<<1,1),m=this.readShortArray(e),y=this.readVertices(e,c),v=e.readInt(!0),S=this.readSequence(e),p=[],w=0,g=0;l&&(p=this.readShortArray(e),w=e.readFloat(),g=e.readFloat()),o||(o=u);let x=this.attachmentLoader.newMeshAttachment(r,u,o,S);return x?(x.path=o,W.rgba8888ToColor(x.color,h),x.bones=y.bones,x.vertices=y.vertices,x.worldVerticesLength=c<<1,x.triangles=m,x.regionUVs=d,S==null&&x.updateRegion(),x.hullLength=v<<1,x.sequence=S,l&&(x.edges=p,x.width=w*a,x.height=g*a),x):null}case tn.LinkedMesh:{let o=e.readStringRef(),h=e.readInt32(),c=e.readStringRef(),d=e.readStringRef(),m=e.readBoolean(),y=this.readSequence(e),v=0,S=0;l&&(v=e.readFloat(),S=e.readFloat()),o||(o=u);let p=this.attachmentLoader.newMeshAttachment(r,u,o,y);return p?(p.path=o,W.rgba8888ToColor(p.color,h),p.sequence=y,l&&(p.width=v*a,p.height=S*a),this.linkedMeshes.push(new pp(p,c,i,d,m)),p):null}case tn.Path:{let o=e.readBoolean(),h=e.readBoolean(),c=e.readInt(!0),d=this.readVertices(e,c),m=V.newArray(c/3,0);for(let S=0,p=m.length;S<p;S++)m[S]=e.readFloat()*a;let y=l?e.readInt32():0,v=this.attachmentLoader.newPathAttachment(r,u);return v?(v.closed=o,v.constantSpeed=h,v.worldVerticesLength=c<<1,v.vertices=d.vertices,v.bones=d.bones,v.lengths=m,l&&W.rgba8888ToColor(v.color,y),v):null}case tn.Point:{let o=e.readFloat(),h=e.readFloat(),c=e.readFloat(),d=l?e.readInt32():0,m=this.attachmentLoader.newPointAttachment(r,u);return m?(m.x=h*a,m.y=c*a,m.rotation=o,l&&W.rgba8888ToColor(m.color,d),m):null}case tn.Clipping:{let o=e.readInt(!0),h=e.readInt(!0),c=this.readVertices(e,h),d=l?e.readInt32():0,m=this.attachmentLoader.newClippingAttachment(r,u);return m?(m.endSlot=t.slots[o],m.worldVerticesLength=h<<1,m.vertices=c.vertices,m.bones=c.bones,l&&W.rgba8888ToColor(m.color,d),m):null}}return null}readSequence(e){if(!e.readBoolean())return null;let t=new Hs(e.readInt(!0));return t.start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t}readVertices(e,t){let r=this.scale,i=t<<1,s=new gp;if(!e.readBoolean())return s.vertices=this.readFloatArray(e,i,r),s;let l=new Array,a=new Array;for(let u=0;u<t;u++){let o=e.readInt(!0);a.push(o);for(let h=0;h<o;h++)a.push(e.readInt(!0)),l.push(e.readFloat()*r),l.push(e.readFloat()*r),l.push(e.readFloat())}return s.vertices=V.toFloatArray(l),s.bones=a,s}readFloatArray(e,t,r){let i=new Array(t);if(r==1)for(let s=0;s<t;s++)i[s]=e.readFloat();else for(let s=0;s<t;s++)i[s]=e.readFloat()*r;return i}readShortArray(e){let t=e.readInt(!0),r=new Array(t);for(let i=0;i<t;i++)r[i]=e.readShort();return r}readAnimation(e,t,r){e.readInt(!0);let i=new Array,s=this.scale;for(let o=0,h=e.readInt(!0);o<h;o++){let c=e.readInt(!0);for(let d=0,m=e.readInt(!0);d<m;d++){let y=e.readByte(),v=e.readInt(!0),S=v-1;switch(y){case Ap:{let p=new wr(v,c);for(let w=0;w<v;w++)p.setFrame(w,e.readFloat(),e.readStringRef());i.push(p);break}case Ip:{let p=e.readInt(!0),w=new tf(v,p,c),g=e.readFloat(),x=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255;for(let b=0,T=0;w.setFrame(b,g,x,k,C,E),b!=S;b++){let I=e.readFloat(),P=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255,Y=e.readUnsignedByte()/255;switch(e.readByte()){case Rt:w.setStepped(b);break;case Lt:fe(e,w,T++,b,0,g,I,x,P,1),fe(e,w,T++,b,1,g,I,k,O,1),fe(e,w,T++,b,2,g,I,C,X,1),fe(e,w,T++,b,3,g,I,E,Y,1)}g=I,x=P,k=O,C=X,E=Y}i.push(w);break}case Mp:{let p=e.readInt(!0),w=new nf(v,p,c),g=e.readFloat(),x=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255;for(let E=0,b=0;w.setFrame(E,g,x,k,C),E!=S;E++){let T=e.readFloat(),I=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case Rt:w.setStepped(E);break;case Lt:fe(e,w,b++,E,0,g,T,x,I,1),fe(e,w,b++,E,1,g,T,k,P,1),fe(e,w,b++,E,2,g,T,C,O,1)}g=T,x=I,k=P,C=O}i.push(w);break}case Rp:{let p=e.readInt(!0),w=new sf(v,p,c),g=e.readFloat(),x=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255;for(let P=0,O=0;w.setFrame(P,g,x,k,C,E,b,T,I),P!=S;P++){let X=e.readFloat(),Y=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255;switch(e.readByte()){case Rt:w.setStepped(P);break;case Lt:fe(e,w,O++,P,0,g,X,x,Y,1),fe(e,w,O++,P,1,g,X,k,L,1),fe(e,w,O++,P,2,g,X,C,M,1),fe(e,w,O++,P,3,g,X,E,j,1),fe(e,w,O++,P,4,g,X,b,B,1),fe(e,w,O++,P,5,g,X,T,D,1),fe(e,w,O++,P,6,g,X,I,U,1)}g=X,x=Y,k=L,C=M,E=j,b=B,T=D,I=U}i.push(w);break}case Lp:{let p=e.readInt(!0),w=new lf(v,p,c),g=e.readFloat(),x=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,T=e.readUnsignedByte()/255;for(let I=0,P=0;w.setFrame(I,g,x,k,C,E,b,T),I!=S;I++){let O=e.readFloat(),X=e.readUnsignedByte()/255,Y=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,M=e.readUnsignedByte()/255,j=e.readUnsignedByte()/255,B=e.readUnsignedByte()/255;switch(e.readByte()){case Rt:w.setStepped(I);break;case Lt:fe(e,w,P++,I,0,g,O,x,X,1),fe(e,w,P++,I,1,g,O,k,Y,1),fe(e,w,P++,I,2,g,O,C,L,1),fe(e,w,P++,I,3,g,O,E,M,1),fe(e,w,P++,I,4,g,O,b,j,1),fe(e,w,P++,I,5,g,O,T,B,1)}g=O,x=X,k=Y,C=L,E=M,b=j,T=B}i.push(w);break}case Fp:{let p=new rf(v,e.readInt(!0),c),w=e.readFloat(),g=e.readUnsignedByte()/255;for(let x=0,k=0;p.setFrame(x,w,g),x!=S;x++){let C=e.readFloat(),E=e.readUnsignedByte()/255;switch(e.readByte()){case Rt:p.setStepped(x);break;case Lt:fe(e,p,k++,x,0,w,C,g,E,1)}w=C,g=E}i.push(p)}}}}for(let o=0,h=e.readInt(!0);o<h;o++){let c=e.readInt(!0);for(let d=0,m=e.readInt(!0);d<m;d++){let y=e.readByte(),v=e.readInt(!0),S=e.readInt(!0);switch(y){case vp:i.push(Kt(e,new qs(v,S,c),1));break;case yp:i.push(Zl(e,new Hd(v,S,c),s));break;case wp:i.push(Kt(e,new qd(v,S,c),s));break;case xp:i.push(Kt(e,new Gd(v,S,c),s));break;case Sp:i.push(Zl(e,new Qd(v,S,c),1));break;case kp:i.push(Kt(e,new Zd(v,S,c),1));break;case Cp:i.push(Kt(e,new Kd(v,S,c),1));break;case Ep:i.push(Zl(e,new $d(v,S,c),1));break;case bp:i.push(Kt(e,new Jd(v,S,c),1));break;case Tp:i.push(Kt(e,new ef(v,S,c),1))}}}for(let o=0,h=e.readInt(!0);o<h;o++){let c=e.readInt(!0),d=e.readInt(!0),m=d-1,y=new of(d,e.readInt(!0),c),v=e.readFloat(),S=e.readFloat(),p=e.readFloat()*s;for(let w=0,g=0;y.setFrame(w,v,S,p,e.readByte(),e.readBoolean(),e.readBoolean()),w!=m;w++){let x=e.readFloat(),k=e.readFloat(),C=e.readFloat()*s;switch(e.readByte()){case Rt:y.setStepped(w);break;case Lt:fe(e,y,g++,w,0,v,x,S,k,1),fe(e,y,g++,w,1,v,x,p,C,s)}v=x,S=k,p=C}i.push(y)}for(let o=0,h=e.readInt(!0);o<h;o++){let c=e.readInt(!0),d=e.readInt(!0),m=d-1,y=new uf(d,e.readInt(!0),c),v=e.readFloat(),S=e.readFloat(),p=e.readFloat(),w=e.readFloat(),g=e.readFloat(),x=e.readFloat(),k=e.readFloat();for(let C=0,E=0;y.setFrame(C,v,S,p,w,g,x,k),C!=m;C++){let b=e.readFloat(),T=e.readFloat(),I=e.readFloat(),P=e.readFloat(),O=e.readFloat(),X=e.readFloat(),Y=e.readFloat();switch(e.readByte()){case Rt:y.setStepped(C);break;case Lt:fe(e,y,E++,C,0,v,b,S,T,1),fe(e,y,E++,C,1,v,b,p,I,1),fe(e,y,E++,C,2,v,b,w,P,1),fe(e,y,E++,C,3,v,b,g,O,1),fe(e,y,E++,C,4,v,b,x,X,1),fe(e,y,E++,C,5,v,b,k,Y,1)}v=b,S=T,p=I,w=P,g=O,x=X,k=Y}i.push(y)}for(let o=0,h=e.readInt(!0);o<h;o++){let c=e.readInt(!0),d=r.pathConstraints[c];for(let m=0,y=e.readInt(!0);m<y;m++)switch(e.readByte()){case Np:i.push(Kt(e,new hf(e.readInt(!0),e.readInt(!0),c),d.positionMode==Gt.Fixed?s:1));break;case Bp:i.push(Kt(e,new cf(e.readInt(!0),e.readInt(!0),c),d.spacingMode==Ne.Length||d.spacingMode==Ne.Fixed?s:1));break;case Op:let v=new df(e.readInt(!0),e.readInt(!0),c),S=e.readFloat(),p=e.readFloat(),w=e.readFloat(),g=e.readFloat();for(let x=0,k=0,C=v.getFrameCount()-1;v.setFrame(x,S,p,w,g),x!=C;x++){let E=e.readFloat(),b=e.readFloat(),T=e.readFloat(),I=e.readFloat();switch(e.readByte()){case Rt:v.setStepped(x);break;case Lt:fe(e,v,k++,x,0,S,E,p,b,1),fe(e,v,k++,x,1,S,E,w,T,1),fe(e,v,k++,x,2,S,E,g,I,1)}S=E,p=b,w=T,g=I}i.push(v)}}for(let o=0,h=e.readInt(!0);o<h;o++){let c=r.skins[e.readInt(!0)];for(let d=0,m=e.readInt(!0);d<m;d++){let y=e.readInt(!0);for(let v=0,S=e.readInt(!0);v<S;v++){let p=e.readStringRef();if(!p)throw new Error("attachmentName must not be null.");let w=c.getAttachment(y,p),g=e.readByte(),x=e.readInt(!0),k=x-1;switch(g){case Pp:{let C=w,E=C.bones,b=C.vertices,T=E?b.length/3*2:b.length,I=e.readInt(!0),P=new af(x,I,y,C),O=e.readFloat();for(let X=0,Y=0;;X++){let L,M=e.readInt(!0);if(M==0)L=E?V.newFloatArray(T):b;else{L=V.newFloatArray(T);let B=e.readInt(!0);if(M+=B,s==1)for(let D=B;D<M;D++)L[D]=e.readFloat();else for(let D=B;D<M;D++)L[D]=e.readFloat()*s;if(!E)for(let D=0,U=L.length;D<U;D++)L[D]+=b[D]}if(P.setFrame(X,O,L),X==k)break;let j=e.readFloat();switch(e.readByte()){case Rt:P.setStepped(X);break;case Lt:fe(e,P,Y++,X,0,O,j,0,1,1)}O=j}i.push(P);break}case Yp:{let C=new Gs(x,y,w);for(let E=0;E<x;E++){let b=e.readFloat(),T=e.readInt32();C.setFrame(E,b,jd[T&15],T>>4,e.readFloat())}i.push(C);break}}}}}let l=e.readInt(!0);if(l>0){let o=new Hn(l),h=r.slots.length;for(let c=0;c<l;c++){let d=e.readFloat(),m=e.readInt(!0),y=V.newArray(h,0);for(let w=h-1;w>=0;w--)y[w]=-1;let v=V.newArray(h-m,0),S=0,p=0;for(let w=0;w<m;w++){let g=e.readInt(!0);for(;S!=g;)v[p++]=S++;y[S+e.readInt(!0)]=S++}for(;S<h;)v[p++]=S++;for(let w=h-1;w>=0;w--)y[w]==-1&&(y[w]=v[--p]);o.setFrame(c,d,y)}i.push(o)}let a=e.readInt(!0);if(a>0){let o=new Fi(a);for(let h=0;h<a;h++){let c=e.readFloat(),d=r.events[e.readInt(!0)],m=new gf(c,d);m.intValue=e.readInt(!1),m.floatValue=e.readFloat(),m.stringValue=e.readBoolean()?e.readString():d.stringValue,m.data.audioPath&&(m.volume=e.readFloat(),m.balance=e.readFloat()),o.setFrame(h,m)}i.push(o)}let u=0;for(let o=0,h=i.length;o<h;o++)u=Math.max(u,i[o].getDuration());return new Qo(t,i,u)}}class mp{constructor(e,t=new Array,r=0,i=new DataView(e.buffer)){f(this,"strings");f(this,"index");f(this,"buffer");this.strings=t,this.index=r,this.buffer=i}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let e=this.buffer.getInt16(this.index);return this.index+=2,e}readInt32(){let e=this.buffer.getInt32(this.index);return this.index+=4,e}readInt(e){let t=this.readByte(),r=t&127;return t&128&&(t=this.readByte(),r|=(t&127)<<7,t&128&&(t=this.readByte(),r|=(t&127)<<14,t&128&&(t=this.readByte(),r|=(t&127)<<21,t&128&&(t=this.readByte(),r|=(t&127)<<28)))),e?r:r>>>1^-(r&1)}readStringRef(){let e=this.readInt(!0);return e==0?null:this.strings[e-1]}readString(){let e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;let t="";for(let r=0;r<e;){let i=this.readUnsignedByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((i&31)<<6|this.readByte()&63),r+=2;break;case 14:t+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),r+=3;break;default:t+=String.fromCharCode(i),r++}}return t}readFloat(){let e=this.buffer.getFloat32(this.index);return this.index+=4,e}readBoolean(){return this.readByte()!=0}}let pp=class{constructor(e,t,r,i,s){f(this,"parent");f(this,"skin");f(this,"slotIndex");f(this,"mesh");f(this,"inheritTimeline");this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=i,this.inheritTimeline=s}};class gp{constructor(e=null,t=null){f(this,"bones");f(this,"vertices");this.bones=e,this.vertices=t}}var tn;(function(n){n[n.Region=0]="Region",n[n.BoundingBox=1]="BoundingBox",n[n.Mesh=2]="Mesh",n[n.LinkedMesh=3]="LinkedMesh",n[n.Path=4]="Path",n[n.Point=5]="Point",n[n.Clipping=6]="Clipping"})(tn||(tn={}));function Kt(n,e,t){let r=n.readFloat(),i=n.readFloat()*t;for(let s=0,l=0,a=e.getFrameCount()-1;e.setFrame(s,r,i),s!=a;s++){let u=n.readFloat(),o=n.readFloat()*t;switch(n.readByte()){case Rt:e.setStepped(s);break;case Lt:fe(n,e,l++,s,0,r,u,i,o,t)}r=u,i=o}return e}function Zl(n,e,t){let r=n.readFloat(),i=n.readFloat()*t,s=n.readFloat()*t;for(let l=0,a=0,u=e.getFrameCount()-1;e.setFrame(l,r,i,s),l!=u;l++){let o=n.readFloat(),h=n.readFloat()*t,c=n.readFloat()*t;switch(n.readByte()){case Rt:e.setStepped(l);break;case Lt:fe(n,e,a++,l,0,r,o,i,h,t),fe(n,e,a++,l,1,r,o,s,c,t)}r=o,i=h,s=c}return e}function fe(n,e,t,r,i,s,l,a,u,o){e.setBezier(t,r,i,s,a,n.readFloat(),n.readFloat()*o,n.readFloat(),n.readFloat()*o,l,u)}const vp=0,yp=1,wp=2,xp=3,Sp=4,kp=5,Cp=6,Ep=7,bp=8,Tp=9,Ap=0,Ip=1,Mp=2,Rp=3,Lp=4,Fp=5,Pp=0,Yp=1,Np=0,Bp=1,Op=2,Rt=1,Lt=2;class Xp{constructor(){f(this,"minX",0);f(this,"minY",0);f(this,"maxX",0);f(this,"maxY",0);f(this,"boundingBoxes",new Array);f(this,"polygons",new Array);f(this,"polygonPool",new js(()=>V.newFloatArray(16)))}update(e,t){if(!e)throw new Error("skeleton cannot be null.");let r=this.boundingBoxes,i=this.polygons,s=this.polygonPool,l=e.slots,a=l.length;r.length=0,s.freeAll(i),i.length=0;for(let u=0;u<a;u++){let o=l[u];if(!o.bone.active)continue;let h=o.getAttachment();if(h instanceof yl){let c=h;r.push(c);let d=s.obtain();d.length!=c.worldVerticesLength&&(d=V.newFloatArray(c.worldVerticesLength)),i.push(d),c.computeWorldVertices(o,0,c.worldVerticesLength,d,0,2)}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=this.polygons;for(let l=0,a=s.length;l<a;l++){let u=s[l],o=u;for(let h=0,c=u.length;h<c;h+=2){let d=o[h],m=o[h+1];e=Math.min(e,d),t=Math.min(t,m),r=Math.max(r,d),i=Math.max(i,m)}}this.minX=e,this.minY=t,this.maxX=r,this.maxY=i}aabbContainsPoint(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}aabbIntersectsSegment(e,t,r,i){let s=this.minX,l=this.minY,a=this.maxX,u=this.maxY;if(e<=s&&r<=s||t<=l&&i<=l||e>=a&&r>=a||t>=u&&i>=u)return!1;let o=(i-t)/(r-e),h=o*(s-e)+t;if(h>l&&h<u||(h=o*(a-e)+t,h>l&&h<u))return!0;let c=(l-t)/o+e;return c>s&&c<a||(c=(u-t)/o+e,c>s&&c<a)}aabbIntersectsSkeleton(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}containsPoint(e,t){let r=this.polygons;for(let i=0,s=r.length;i<s;i++)if(this.containsPointPolygon(r[i],e,t))return this.boundingBoxes[i];return null}containsPointPolygon(e,t,r){let i=e,s=e.length,l=s-2,a=!1;for(let u=0;u<s;u+=2){let o=i[u+1],h=i[l+1];if(o<r&&h>=r||h<r&&o>=r){let c=i[u];c+(r-o)/(h-o)*(i[l]-c)<t&&(a=!a)}l=u}return a}intersectsSegment(e,t,r,i){let s=this.polygons;for(let l=0,a=s.length;l<a;l++)if(this.intersectsSegmentPolygon(s[l],e,t,r,i))return this.boundingBoxes[l];return null}intersectsSegmentPolygon(e,t,r,i,s){let l=e,a=e.length,u=t-i,o=r-s,h=t*s-r*i,c=l[a-2],d=l[a-1];for(let m=0;m<a;m+=2){let y=l[m],v=l[m+1],S=c*v-d*y,p=c-y,w=d-v,g=u*w-o*p,x=(h*p-u*S)/g;if((x>=c&&x<=y||x>=y&&x<=c)&&(x>=t&&x<=i||x>=i&&x<=t)){let k=(h*w-o*S)/g;if((k>=d&&k<=v||k>=v&&k<=d)&&(k>=r&&k<=s||k>=s&&k<=r))return!0}c=y,d=v}return!1}getPolygon(e){if(!e)throw new Error("boundingBox cannot be null.");let t=this.boundingBoxes.indexOf(e);return t==-1?null:this.polygons[t]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}}class st{constructor(){f(this,"convexPolygons",new Array);f(this,"convexPolygonsIndices",new Array);f(this,"indicesArray",new Array);f(this,"isConcaveArray",new Array);f(this,"triangles",new Array);f(this,"polygonPool",new js(()=>new Array));f(this,"polygonIndicesPool",new js(()=>new Array))}triangulate(e){let t=e,r=e.length>>1,i=this.indicesArray;i.length=0;for(let a=0;a<r;a++)i[a]=a;let s=this.isConcaveArray;s.length=0;for(let a=0,u=r;a<u;++a)s[a]=st.isConcave(a,r,t,i);let l=this.triangles;for(l.length=0;r>3;){let a=r-1,u=0,o=1;for(;;){e:if(!s[u]){let d=i[a]<<1,m=i[u]<<1,y=i[o]<<1,v=t[d],S=t[d+1],p=t[m],w=t[m+1],g=t[y],x=t[y+1];for(let k=(o+1)%r;k!=a;k=(k+1)%r){if(!s[k])continue;let C=i[k]<<1,E=t[C],b=t[C+1];if(st.positiveArea(g,x,v,S,E,b)&&st.positiveArea(v,S,p,w,E,b)&&st.positiveArea(p,w,g,x,E,b))break e}break}if(o==0){do{if(!s[u])break;u--}while(u>0);break}a=u,u=o,o=(o+1)%r}l.push(i[(r+u-1)%r]),l.push(i[u]),l.push(i[(u+1)%r]),i.splice(u,1),s.splice(u,1),r--;let h=(r+u-1)%r,c=u==r?0:u;s[h]=st.isConcave(h,r,t,i),s[c]=st.isConcave(c,r,t,i)}return r==3&&(l.push(i[2]),l.push(i[0]),l.push(i[1])),l}decompose(e,t){let r=e,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;let s=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(s),s.length=0;let l=this.polygonIndicesPool.obtain();l.length=0;let a=this.polygonPool.obtain();a.length=0;let u=-1,o=0;for(let h=0,c=t.length;h<c;h+=3){let d=t[h]<<1,m=t[h+1]<<1,y=t[h+2]<<1,v=r[d],S=r[d+1],p=r[m],w=r[m+1],g=r[y],x=r[y+1],k=!1;if(u==d){let C=a.length-4,E=st.winding(a[C],a[C+1],a[C+2],a[C+3],g,x),b=st.winding(g,x,a[0],a[1],a[2],a[3]);E==o&&b==o&&(a.push(g),a.push(x),l.push(y),k=!0)}k||(a.length>0?(i.push(a),s.push(l)):(this.polygonPool.free(a),this.polygonIndicesPool.free(l)),a=this.polygonPool.obtain(),a.length=0,a.push(v),a.push(S),a.push(p),a.push(w),a.push(g),a.push(x),l=this.polygonIndicesPool.obtain(),l.length=0,l.push(d),l.push(m),l.push(y),o=st.winding(v,S,p,w,g,x),u=d)}a.length>0&&(i.push(a),s.push(l));for(let h=0,c=i.length;h<c;h++){if(l=s[h],l.length==0)continue;let d=l[0],m=l[l.length-1];a=i[h];let y=a.length-4,v=a[y],S=a[y+1],p=a[y+2],w=a[y+3],g=a[0],x=a[1],k=a[2],C=a[3],E=st.winding(v,S,p,w,g,x);for(let b=0;b<c;b++){if(b==h)continue;let T=s[b];if(T.length!=3)continue;let I=T[0],P=T[1],O=T[2],X=i[b],Y=X[X.length-2],L=X[X.length-1];if(I!=d||P!=m)continue;let M=st.winding(v,S,p,w,Y,L),j=st.winding(Y,L,g,x,k,C);M==E&&j==E&&(X.length=0,T.length=0,a.push(Y),a.push(L),l.push(O),v=p,S=w,p=Y,w=L,b=0)}}for(let h=i.length-1;h>=0;h--)a=i[h],a.length==0&&(i.splice(h,1),this.polygonPool.free(a),l=s[h],s.splice(h,1),this.polygonIndicesPool.free(l));return i}static isConcave(e,t,r,i){let s=i[(t+e-1)%t]<<1,l=i[e]<<1,a=i[(e+1)%t]<<1;return!this.positiveArea(r[s],r[s+1],r[l],r[l+1],r[a],r[a+1])}static positiveArea(e,t,r,i,s,l){return e*(l-i)+r*(t-l)+s*(i-t)>=0}static winding(e,t,r,i,s,l){let a=r-e,u=i-t;return s*u-l*a+a*t-e*u>=0?1:-1}}class Qs{constructor(){f(this,"triangulator",new st);f(this,"clippingPolygon",new Array);f(this,"clipOutput",new Array);f(this,"clippedVertices",new Array);f(this,"clippedTriangles",new Array);f(this,"scratch",new Array);f(this,"clipAttachment",null);f(this,"clippingPolygons",null)}clipStart(e,t){if(this.clipAttachment)return 0;this.clipAttachment=t;let r=t.worldVerticesLength,i=V.setArraySize(this.clippingPolygon,r);t.computeWorldVertices(e,0,r,i,0,2);let s=this.clippingPolygon;Qs.makeClockwise(s);let l=this.clippingPolygons=this.triangulator.decompose(s,this.triangulator.triangulate(s));for(let a=0,u=l.length;a<u;a++){let o=l[a];Qs.makeClockwise(o),o.push(o[0]),o.push(o[1])}return l.length}clipEndWithSlot(e){this.clipAttachment&&this.clipAttachment.endSlot==e.data&&this.clipEnd()}clipEnd(){this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)}isClipping(){return this.clipAttachment!=null}clipTriangles(e,t,r,i,s,l,a,u){let o=this.clipOutput,h=this.clippedVertices,c=this.clippedTriangles,d=this.clippingPolygons,m=d.length,y=u?12:8,v=0;h.length=0,c.length=0;e:for(let S=0;S<i;S+=3){let p=r[S]<<1,w=e[p],g=e[p+1],x=s[p],k=s[p+1];p=r[S+1]<<1;let C=e[p],E=e[p+1],b=s[p],T=s[p+1];p=r[S+2]<<1;let I=e[p],P=e[p+1],O=s[p],X=s[p+1];for(let Y=0;Y<m;Y++){let L=h.length;if(this.clip(w,g,C,E,I,P,d[Y],o)){let M=o.length;if(M==0)continue;let j=E-P,B=I-C,D=w-I,U=P-g,ue=1/(j*D+B*(g-P)),he=M>>1,ce=this.clipOutput,oe=V.setArraySize(h,L+he*y);for(let Ee=0;Ee<M;Ee+=2){let We=ce[Ee],De=ce[Ee+1];oe[L]=We,oe[L+1]=De,oe[L+2]=l.r,oe[L+3]=l.g,oe[L+4]=l.b,oe[L+5]=l.a;let xt=We-I,St=De-P,dn=(j*xt+B*St)*ue,nr=(U*xt+D*St)*ue,Wr=1-dn-nr;oe[L+6]=x*dn+b*nr+O*Wr,oe[L+7]=k*dn+T*nr+X*Wr,u&&(oe[L+8]=a.r,oe[L+9]=a.g,oe[L+10]=a.b,oe[L+11]=a.a),L+=y}L=c.length;let me=V.setArraySize(c,L+3*(he-2));he--;for(let Ee=1;Ee<he;Ee++)me[L]=v,me[L+1]=v+Ee,me[L+2]=v+Ee+1,L+=3;v+=he+1}else{let M=V.setArraySize(h,L+3*y);M[L]=w,M[L+1]=g,M[L+2]=l.r,M[L+3]=l.g,M[L+4]=l.b,M[L+5]=l.a,u?(M[L+6]=x,M[L+7]=k,M[L+8]=a.r,M[L+9]=a.g,M[L+10]=a.b,M[L+11]=a.a,M[L+12]=C,M[L+13]=E,M[L+14]=l.r,M[L+15]=l.g,M[L+16]=l.b,M[L+17]=l.a,M[L+18]=b,M[L+19]=T,M[L+20]=a.r,M[L+21]=a.g,M[L+22]=a.b,M[L+23]=a.a,M[L+24]=I,M[L+25]=P,M[L+26]=l.r,M[L+27]=l.g,M[L+28]=l.b,M[L+29]=l.a,M[L+30]=O,M[L+31]=X,M[L+32]=a.r,M[L+33]=a.g,M[L+34]=a.b,M[L+35]=a.a):(M[L+6]=x,M[L+7]=k,M[L+8]=C,M[L+9]=E,M[L+10]=l.r,M[L+11]=l.g,M[L+12]=l.b,M[L+13]=l.a,M[L+14]=b,M[L+15]=T,M[L+16]=I,M[L+17]=P,M[L+18]=l.r,M[L+19]=l.g,M[L+20]=l.b,M[L+21]=l.a,M[L+22]=O,M[L+23]=X),L=c.length;let j=V.setArraySize(c,L+3);j[L]=v,j[L+1]=v+1,j[L+2]=v+2,v+=3;continue e}}}}clip(e,t,r,i,s,l,a,u){let o=u,h=!1,c;a.length%4>=2?(c=u,u=this.scratch):c=this.scratch,c.length=0,c.push(e),c.push(t),c.push(r),c.push(i),c.push(s),c.push(l),c.push(e),c.push(t),u.length=0;let d=a,m=a.length-4;for(let y=0;;y+=2){let v=d[y],S=d[y+1],p=d[y+2],w=d[y+3],g=v-p,x=S-w,k=c,C=c.length-2,E=u.length;for(let T=0;T<C;T+=2){let I=k[T],P=k[T+1],O=k[T+2],X=k[T+3],Y=g*(X-w)-x*(O-p)>0;if(g*(P-w)-x*(I-p)>0){if(Y){u.push(O),u.push(X);continue}let L=X-P,M=O-I,j=L*(p-v)-M*(w-S);if(Math.abs(j)>1e-6){let B=(M*(S-P)-L*(v-I))/j;u.push(v+(p-v)*B),u.push(S+(w-S)*B)}else u.push(v),u.push(S)}else if(Y){let L=X-P,M=O-I,j=L*(p-v)-M*(w-S);if(Math.abs(j)>1e-6){let B=(M*(S-P)-L*(v-I))/j;u.push(v+(p-v)*B),u.push(S+(w-S)*B)}else u.push(v),u.push(S);u.push(O),u.push(X)}h=!0}if(E==u.length)return o.length=0,!0;if(u.push(u[0]),u.push(u[1]),y==m)break;let b=u;u=c,u.length=0,c=b}if(o!=u){o.length=0;for(let y=0,v=u.length-2;y<v;y++)o[y]=u[y]}else o.length=o.length-2;return h}static makeClockwise(e){let t=e,r=e.length,i=t[r-2]*t[1]-t[0]*t[r-1],s=0,l=0,a=0,u=0;for(let o=0,h=r-3;o<h;o+=2)s=t[o],l=t[o+1],a=t[o+2],u=t[o+3],i+=s*u-a*l;if(!(i<0))for(let o=0,h=r-2,c=r>>1;o<c;o+=2){let d=t[o],m=t[o+1],y=h-o;t[o]=t[y],t[o+1]=t[y+1],t[y]=d,t[y+1]=m}}}class Dp{constructor(e){f(this,"attachmentLoader");f(this,"scale",1);f(this,"linkedMeshes",new Array);this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,r=new xf,i=typeof e=="string"?JSON.parse(e):e,s=i.skeleton;if(s&&(r.hash=s.hash,r.version=s.spine,r.x=s.x,r.y=s.y,r.width=s.width,r.height=s.height,r.fps=s.fps,r.imagesPath=s.images),i.bones)for(let l=0;l<i.bones.length;l++){let a=i.bones[l],u=null,o=R(a,"parent",null);o&&(u=r.findBone(o));let h=new mf(r.bones.length,a.name,u);h.length=R(a,"length",0)*t,h.x=R(a,"x",0)*t,h.y=R(a,"y",0)*t,h.rotation=R(a,"rotation",0),h.scaleX=R(a,"scaleX",1),h.scaleY=R(a,"scaleY",1),h.shearX=R(a,"shearX",0),h.shearY=R(a,"shearY",0),h.transformMode=V.enumValue(ot,R(a,"transform","Normal")),h.skinRequired=R(a,"skin",!1);let c=R(a,"color",null);c&&h.color.setFromString(c),r.bones.push(h)}if(i.slots)for(let l=0;l<i.slots.length;l++){let a=i.slots[l],u=r.findBone(a.bone);if(!u)throw new Error(`Couldn't find bone ${a.bone} for slot ${a.name}`);let o=new Sf(r.slots.length,a.name,u),h=R(a,"color",null);h&&o.color.setFromString(h);let c=R(a,"dark",null);c&&(o.darkColor=W.fromString(c)),o.attachmentName=R(a,"attachment",null),o.blendMode=V.enumValue(Pi,R(a,"blend","normal")),r.slots.push(o)}if(i.ik)for(let l=0;l<i.ik.length;l++){let a=i.ik[l],u=new yf(a.name);u.order=R(a,"order",0),u.skinRequired=R(a,"skin",!1);for(let h=0;h<a.bones.length;h++){let c=r.findBone(a.bones[h]);if(!c)throw new Error(`Couldn't find bone ${a.bones[h]} for IK constraint ${a.name}.`);u.bones.push(c)}let o=r.findBone(a.target);if(!o)throw new Error(`Couldn't find target bone ${a.target} for IK constraint ${a.name}.`);u.target=o,u.mix=R(a,"mix",1),u.softness=R(a,"softness",0)*t,u.bendDirection=R(a,"bendPositive",!0)?1:-1,u.compress=R(a,"compress",!1),u.stretch=R(a,"stretch",!1),u.uniform=R(a,"uniform",!1),r.ikConstraints.push(u)}if(i.transform)for(let l=0;l<i.transform.length;l++){let a=i.transform[l],u=new kf(a.name);u.order=R(a,"order",0),u.skinRequired=R(a,"skin",!1);for(let c=0;c<a.bones.length;c++){let d=a.bones[c],m=r.findBone(d);if(!m)throw new Error(`Couldn't find bone ${d} for transform constraint ${a.name}.`);u.bones.push(m)}let o=a.target,h=r.findBone(o);if(!h)throw new Error(`Couldn't find target bone ${o} for transform constraint ${a.name}.`);u.target=h,u.local=R(a,"local",!1),u.relative=R(a,"relative",!1),u.offsetRotation=R(a,"rotation",0),u.offsetX=R(a,"x",0)*t,u.offsetY=R(a,"y",0)*t,u.offsetScaleX=R(a,"scaleX",0),u.offsetScaleY=R(a,"scaleY",0),u.offsetShearY=R(a,"shearY",0),u.mixRotate=R(a,"mixRotate",1),u.mixX=R(a,"mixX",1),u.mixY=R(a,"mixY",u.mixX),u.mixScaleX=R(a,"mixScaleX",1),u.mixScaleY=R(a,"mixScaleY",u.mixScaleX),u.mixShearY=R(a,"mixShearY",1),r.transformConstraints.push(u)}if(i.path)for(let l=0;l<i.path.length;l++){let a=i.path[l],u=new wf(a.name);u.order=R(a,"order",0),u.skinRequired=R(a,"skin",!1);for(let c=0;c<a.bones.length;c++){let d=a.bones[c],m=r.findBone(d);if(!m)throw new Error(`Couldn't find bone ${d} for path constraint ${a.name}.`);u.bones.push(m)}let o=a.target,h=r.findSlot(o);if(!h)throw new Error(`Couldn't find target slot ${o} for path constraint ${a.name}.`);u.target=h,u.positionMode=V.enumValue(Gt,R(a,"positionMode","Percent")),u.spacingMode=V.enumValue(Ne,R(a,"spacingMode","Length")),u.rotateMode=V.enumValue(qn,R(a,"rotateMode","Tangent")),u.offsetRotation=R(a,"rotation",0),u.position=R(a,"position",0),u.positionMode==Gt.Fixed&&(u.position*=t),u.spacing=R(a,"spacing",0),(u.spacingMode==Ne.Length||u.spacingMode==Ne.Fixed)&&(u.spacing*=t),u.mixRotate=R(a,"mixRotate",1),u.mixX=R(a,"mixX",1),u.mixY=R(a,"mixY",u.mixX),r.pathConstraints.push(u)}if(i.skins)for(let l=0;l<i.skins.length;l++){let a=i.skins[l],u=new Qa(a.name);if(a.bones)for(let o=0;o<a.bones.length;o++){let h=a.bones[o],c=r.findBone(h);if(!c)throw new Error(`Couldn't find bone ${h} for skin ${a.name}.`);u.bones.push(c)}if(a.ik)for(let o=0;o<a.ik.length;o++){let h=a.ik[o],c=r.findIkConstraint(h);if(!c)throw new Error(`Couldn't find IK constraint ${h} for skin ${a.name}.`);u.constraints.push(c)}if(a.transform)for(let o=0;o<a.transform.length;o++){let h=a.transform[o],c=r.findTransformConstraint(h);if(!c)throw new Error(`Couldn't find transform constraint ${h} for skin ${a.name}.`);u.constraints.push(c)}if(a.path)for(let o=0;o<a.path.length;o++){let h=a.path[o],c=r.findPathConstraint(h);if(!c)throw new Error(`Couldn't find path constraint ${h} for skin ${a.name}.`);u.constraints.push(c)}for(let o in a.attachments){let h=r.findSlot(o);if(!h)throw new Error(`Couldn't find slot ${o} for skin ${a.name}.`);let c=a.attachments[o];for(let d in c){let m=this.readAttachment(c[d],u,h.index,d,r);m&&u.setAttachment(h.index,d,m)}}r.skins.push(u),u.name=="default"&&(r.defaultSkin=u)}for(let l=0,a=this.linkedMeshes.length;l<a;l++){let u=this.linkedMeshes[l],o=u.skin?r.findSkin(u.skin):r.defaultSkin;if(!o)throw new Error(`Skin not found: ${u.skin}`);let h=o.getAttachment(u.slotIndex,u.parent);if(!h)throw new Error(`Parent mesh not found: ${u.parent}`);u.mesh.timelineAttachment=u.inheritTimeline?h:u.mesh,u.mesh.setParentMesh(h),u.mesh.region!=null&&u.mesh.updateRegion()}if(this.linkedMeshes.length=0,i.events)for(let l in i.events){let a=i.events[l],u=new vf(l);u.intValue=R(a,"int",0),u.floatValue=R(a,"float",0),u.stringValue=R(a,"string",""),u.audioPath=R(a,"audio",null),u.audioPath&&(u.volume=R(a,"volume",1),u.balance=R(a,"balance",0)),r.events.push(u)}if(i.animations)for(let l in i.animations){let a=i.animations[l];this.readAnimation(a,l,r)}return r}readAttachment(e,t,r,i,s){let l=this.scale;switch(i=R(e,"name",i),R(e,"type","region")){case"region":{let a=R(e,"path",i),u=this.readSequence(R(e,"sequence",null)),o=this.attachmentLoader.newRegionAttachment(t,i,a,u);if(!o)return null;o.path=a,o.x=R(e,"x",0)*l,o.y=R(e,"y",0)*l,o.scaleX=R(e,"scaleX",1),o.scaleY=R(e,"scaleY",1),o.rotation=R(e,"rotation",0),o.width=e.width*l,o.height=e.height*l,o.sequence=u;let h=R(e,"color",null);return h&&o.color.setFromString(h),o.region!=null&&o.updateRegion(),o}case"boundingbox":{let a=this.attachmentLoader.newBoundingBoxAttachment(t,i);if(!a)return null;this.readVertices(e,a,e.vertexCount<<1);let u=R(e,"color",null);return u&&a.color.setFromString(u),a}case"mesh":case"linkedmesh":{let a=R(e,"path",i),u=this.readSequence(R(e,"sequence",null)),o=this.attachmentLoader.newMeshAttachment(t,i,a,u);if(!o)return null;o.path=a;let h=R(e,"color",null);h&&o.color.setFromString(h),o.width=R(e,"width",0)*l,o.height=R(e,"height",0)*l,o.sequence=u;let c=R(e,"parent",null);if(c)return this.linkedMeshes.push(new zp(o,R(e,"skin",null),r,c,R(e,"timelines",!0))),o;let d=e.uvs;return this.readVertices(e,o,d.length),o.triangles=e.triangles,o.regionUVs=d,o.region!=null&&o.updateRegion(),o.edges=R(e,"edges",null),o.hullLength=R(e,"hull",0)*2,o}case"path":{let a=this.attachmentLoader.newPathAttachment(t,i);if(!a)return null;a.closed=R(e,"closed",!1),a.constantSpeed=R(e,"constantSpeed",!0);let u=e.vertexCount;this.readVertices(e,a,u<<1);let o=V.newArray(u/3,0);for(let c=0;c<e.lengths.length;c++)o[c]=e.lengths[c]*l;a.lengths=o;let h=R(e,"color",null);return h&&a.color.setFromString(h),a}case"point":{let a=this.attachmentLoader.newPointAttachment(t,i);if(!a)return null;a.x=R(e,"x",0)*l,a.y=R(e,"y",0)*l,a.rotation=R(e,"rotation",0);let u=R(e,"color",null);return u&&a.color.setFromString(u),a}case"clipping":{let a=this.attachmentLoader.newClippingAttachment(t,i);if(!a)return null;let u=R(e,"end",null);u&&(a.endSlot=s.findSlot(u));let o=e.vertexCount;this.readVertices(e,a,o<<1);let h=R(e,"color",null);return h&&a.color.setFromString(h),a}}return null}readSequence(e){if(e==null)return null;let t=new Hs(R(e,"count",0));return t.start=R(e,"start",1),t.digits=R(e,"digits",0),t.setupIndex=R(e,"setup",0),t}readVertices(e,t,r){let i=this.scale;t.worldVerticesLength=r;let s=e.vertices;if(r==s.length){let u=V.toFloatArray(s);if(i!=1)for(let o=0,h=s.length;o<h;o++)u[o]*=i;t.vertices=u;return}let l=new Array,a=new Array;for(let u=0,o=s.length;u<o;){let h=s[u++];a.push(h);for(let c=u+h*4;u<c;u+=4)a.push(s[u]),l.push(s[u+1]*i),l.push(s[u+2]*i),l.push(s[u+3])}t.bones=a,t.vertices=V.toFloatArray(l)}readAnimation(e,t,r){let i=this.scale,s=new Array;if(e.slots)for(let a in e.slots){let u=e.slots[a],o=r.findSlot(a);if(!o)throw new Error("Slot not found: "+a);let h=o.index;for(let c in u){let d=u[c];if(!d)continue;let m=d.length;if(c=="attachment"){let y=new wr(m,h);for(let v=0;v<m;v++){let S=d[v];y.setFrame(v,R(S,"time",0),R(S,"name",null))}s.push(y)}else if(c=="rgba"){let y=new tf(m,m<<2,h),v=d[0],S=R(v,"time",0),p=W.fromString(v.color);for(let w=0,g=0;;w++){y.setFrame(w,S,p.r,p.g,p.b,p.a);let x=d[w+1];if(!x){y.shrink(g);break}let k=R(x,"time",0),C=W.fromString(x.color),E=v.curve;E&&(g=ve(E,y,g,w,0,S,k,p.r,C.r,1),g=ve(E,y,g,w,1,S,k,p.g,C.g,1),g=ve(E,y,g,w,2,S,k,p.b,C.b,1),g=ve(E,y,g,w,3,S,k,p.a,C.a,1)),S=k,p=C,v=x}s.push(y)}else if(c=="rgb"){let y=new nf(m,m*3,h),v=d[0],S=R(v,"time",0),p=W.fromString(v.color);for(let w=0,g=0;;w++){y.setFrame(w,S,p.r,p.g,p.b);let x=d[w+1];if(!x){y.shrink(g);break}let k=R(x,"time",0),C=W.fromString(x.color),E=v.curve;E&&(g=ve(E,y,g,w,0,S,k,p.r,C.r,1),g=ve(E,y,g,w,1,S,k,p.g,C.g,1),g=ve(E,y,g,w,2,S,k,p.b,C.b,1)),S=k,p=C,v=x}s.push(y)}else if(c=="alpha")s.push(Ut(d,new rf(m,m,h),0,1));else if(c=="rgba2"){let y=new sf(m,m*7,h),v=d[0],S=R(v,"time",0),p=W.fromString(v.light),w=W.fromString(v.dark);for(let g=0,x=0;;g++){y.setFrame(g,S,p.r,p.g,p.b,p.a,w.r,w.g,w.b);let k=d[g+1];if(!k){y.shrink(x);break}let C=R(k,"time",0),E=W.fromString(k.light),b=W.fromString(k.dark),T=v.curve;T&&(x=ve(T,y,x,g,0,S,C,p.r,E.r,1),x=ve(T,y,x,g,1,S,C,p.g,E.g,1),x=ve(T,y,x,g,2,S,C,p.b,E.b,1),x=ve(T,y,x,g,3,S,C,p.a,E.a,1),x=ve(T,y,x,g,4,S,C,w.r,b.r,1),x=ve(T,y,x,g,5,S,C,w.g,b.g,1),x=ve(T,y,x,g,6,S,C,w.b,b.b,1)),S=C,p=E,w=b,v=k}s.push(y)}else if(c=="rgb2"){let y=new lf(m,m*6,h),v=d[0],S=R(v,"time",0),p=W.fromString(v.light),w=W.fromString(v.dark);for(let g=0,x=0;;g++){y.setFrame(g,S,p.r,p.g,p.b,w.r,w.g,w.b);let k=d[g+1];if(!k){y.shrink(x);break}let C=R(k,"time",0),E=W.fromString(k.light),b=W.fromString(k.dark),T=v.curve;T&&(x=ve(T,y,x,g,0,S,C,p.r,E.r,1),x=ve(T,y,x,g,1,S,C,p.g,E.g,1),x=ve(T,y,x,g,2,S,C,p.b,E.b,1),x=ve(T,y,x,g,3,S,C,w.r,b.r,1),x=ve(T,y,x,g,4,S,C,w.g,b.g,1),x=ve(T,y,x,g,5,S,C,w.b,b.b,1)),S=C,p=E,w=b,v=k}s.push(y)}}}if(e.bones)for(let a in e.bones){let u=e.bones[a],o=r.findBone(a);if(!o)throw new Error("Bone not found: "+a);let h=o.index;for(let c in u){let d=u[c],m=d.length;if(m!=0){if(c==="rotate")s.push(Ut(d,new qs(m,m,h),0,1));else if(c==="translate"){let y=new Hd(m,m<<1,h);s.push(Kl(d,y,"x","y",0,i))}else if(c==="translatex"){let y=new qd(m,m,h);s.push(Ut(d,y,0,i))}else if(c==="translatey"){let y=new Gd(m,m,h);s.push(Ut(d,y,0,i))}else if(c==="scale"){let y=new Qd(m,m<<1,h);s.push(Kl(d,y,"x","y",1,1))}else if(c==="scalex"){let y=new Zd(m,m,h);s.push(Ut(d,y,1,1))}else if(c==="scaley"){let y=new Kd(m,m,h);s.push(Ut(d,y,1,1))}else if(c==="shear"){let y=new $d(m,m<<1,h);s.push(Kl(d,y,"x","y",0,1))}else if(c==="shearx"){let y=new Jd(m,m,h);s.push(Ut(d,y,0,1))}else if(c==="sheary"){let y=new ef(m,m,h);s.push(Ut(d,y,0,1))}}}}if(e.ik)for(let a in e.ik){let u=e.ik[a],o=u[0];if(!o)continue;let h=r.findIkConstraint(a);if(!h)throw new Error("IK Constraint not found: "+a);let c=r.ikConstraints.indexOf(h),d=new of(u.length,u.length<<1,c),m=R(o,"time",0),y=R(o,"mix",1),v=R(o,"softness",0)*i;for(let S=0,p=0;;S++){d.setFrame(S,m,y,v,R(o,"bendPositive",!0)?1:-1,R(o,"compress",!1),R(o,"stretch",!1));let w=u[S+1];if(!w){d.shrink(p);break}let g=R(w,"time",0),x=R(w,"mix",1),k=R(w,"softness",0)*i,C=o.curve;C&&(p=ve(C,d,p,S,0,m,g,y,x,1),p=ve(C,d,p,S,1,m,g,v,k,i)),m=g,y=x,v=k,o=w}s.push(d)}if(e.transform)for(let a in e.transform){let u=e.transform[a],o=u[0];if(!o)continue;let h=r.findTransformConstraint(a);if(!h)throw new Error("Transform constraint not found: "+a);let c=r.transformConstraints.indexOf(h),d=new uf(u.length,u.length*6,c),m=R(o,"time",0),y=R(o,"mixRotate",1),v=R(o,"mixX",1),S=R(o,"mixY",v),p=R(o,"mixScaleX",1),w=R(o,"mixScaleY",p),g=R(o,"mixShearY",1);for(let x=0,k=0;;x++){d.setFrame(x,m,y,v,S,p,w,g);let C=u[x+1];if(!C){d.shrink(k);break}let E=R(C,"time",0),b=R(C,"mixRotate",1),T=R(C,"mixX",1),I=R(C,"mixY",T),P=R(C,"mixScaleX",1),O=R(C,"mixScaleY",P),X=R(C,"mixShearY",1),Y=o.curve;Y&&(k=ve(Y,d,k,x,0,m,E,y,b,1),k=ve(Y,d,k,x,1,m,E,v,T,1),k=ve(Y,d,k,x,2,m,E,S,I,1),k=ve(Y,d,k,x,3,m,E,p,P,1),k=ve(Y,d,k,x,4,m,E,w,O,1),k=ve(Y,d,k,x,5,m,E,g,X,1)),m=E,y=b,v=T,S=I,p=P,w=O,p=P,o=C}s.push(d)}if(e.path)for(let a in e.path){let u=e.path[a],o=r.findPathConstraint(a);if(!o)throw new Error("Path constraint not found: "+a);let h=r.pathConstraints.indexOf(o);for(let c in u){let d=u[c],m=d[0];if(!m)continue;let y=d.length;if(c==="position"){let v=new hf(y,y,h);s.push(Ut(d,v,0,o.positionMode==Gt.Fixed?i:1))}else if(c==="spacing"){let v=new cf(y,y,h);s.push(Ut(d,v,0,o.spacingMode==Ne.Length||o.spacingMode==Ne.Fixed?i:1))}else if(c==="mix"){let v=new df(y,y*3,h),S=R(m,"time",0),p=R(m,"mixRotate",1),w=R(m,"mixX",1),g=R(m,"mixY",w);for(let x=0,k=0;;x++){v.setFrame(x,S,p,w,g);let C=d[x+1];if(!C){v.shrink(k);break}let E=R(C,"time",0),b=R(C,"mixRotate",1),T=R(C,"mixX",1),I=R(C,"mixY",T),P=m.curve;P&&(k=ve(P,v,k,x,0,S,E,p,b,1),k=ve(P,v,k,x,1,S,E,w,T,1),k=ve(P,v,k,x,2,S,E,g,I,1)),S=E,p=b,w=T,g=I,m=C}s.push(v)}}}if(e.attachments)for(let a in e.attachments){let u=e.attachments[a],o=r.findSkin(a);if(!o)throw new Error("Skin not found: "+a);for(let h in u){let c=u[h],d=r.findSlot(h);if(!d)throw new Error("Slot not found: "+h);let m=d.index;for(let y in c){let v=c[y],S=o.getAttachment(m,y);for(let p in v){let w=v[p],g=w[0];if(g){if(p=="deform"){let x=S.bones,k=S.vertices,C=x?k.length/3*2:k.length,E=new af(w.length,w.length,m,S),b=R(g,"time",0);for(let T=0,I=0;;T++){let P,O=R(g,"vertices",null);if(!O)P=x?V.newFloatArray(C):k;else{P=V.newFloatArray(C);let M=R(g,"offset",0);if(V.arrayCopy(O,0,P,M,O.length),i!=1)for(let j=M,B=j+O.length;j<B;j++)P[j]*=i;if(!x)for(let j=0;j<C;j++)P[j]+=k[j]}E.setFrame(T,b,P);let X=w[T+1];if(!X){E.shrink(I);break}let Y=R(X,"time",0),L=g.curve;L&&(I=ve(L,E,I,T,0,b,Y,0,1,1)),b=Y,g=X}s.push(E)}else if(p=="sequence"){let x=new Gs(w.length,m,S),k=0;for(let C=0;C<w.length;C++){let E=R(g,"delay",k),b=R(g,"time",0),T=Ve[R(g,"mode","hold")],I=R(g,"index",0);x.setFrame(C,b,T,I,E),k=E,g=w[C+1]}s.push(x)}}}}}}if(e.drawOrder){let a=new Hn(e.drawOrder.length),u=r.slots.length,o=0;for(let h=0;h<e.drawOrder.length;h++,o++){let c=e.drawOrder[h],d=null,m=R(c,"offsets",null);if(m){d=V.newArray(u,-1);let y=V.newArray(u-m.length,0),v=0,S=0;for(let p=0;p<m.length;p++){let w=m[p],g=r.findSlot(w.slot);if(!g)throw new Error("Slot not found: "+g);let x=g.index;for(;v!=x;)y[S++]=v++;d[v+w.offset]=v++}for(;v<u;)y[S++]=v++;for(let p=u-1;p>=0;p--)d[p]==-1&&(d[p]=y[--S])}a.setFrame(o,R(c,"time",0),d)}s.push(a)}if(e.events){let a=new Fi(e.events.length),u=0;for(let o=0;o<e.events.length;o++,u++){let h=e.events[o],c=r.findEvent(h.name);if(!c)throw new Error("Event not found: "+h.name);let d=new gf(V.toSinglePrecision(R(h,"time",0)),c);d.intValue=R(h,"int",c.intValue),d.floatValue=R(h,"float",c.floatValue),d.stringValue=R(h,"string",c.stringValue),d.data.audioPath&&(d.volume=R(h,"volume",1),d.balance=R(h,"balance",0)),a.setFrame(u,d)}s.push(a)}let l=0;for(let a=0,u=s.length;a<u;a++)l=Math.max(l,s[a].getDuration());r.animations.push(new Qo(t,s,l))}}class zp{constructor(e,t,r,i,s){f(this,"parent");f(this,"skin");f(this,"slotIndex");f(this,"mesh");f(this,"inheritTimeline");this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=i,this.inheritTimeline=s}}function Ut(n,e,t,r){let i=n[0],s=R(i,"time",0),l=R(i,"value",t)*r,a=0;for(let u=0;;u++){e.setFrame(u,s,l);let o=n[u+1];if(!o)return e.shrink(a),e;let h=R(o,"time",0),c=R(o,"value",t)*r;i.curve&&(a=ve(i.curve,e,a,u,0,s,h,l,c,r)),s=h,l=c,i=o}}function Kl(n,e,t,r,i,s){let l=n[0],a=R(l,"time",0),u=R(l,t,i)*s,o=R(l,r,i)*s,h=0;for(let c=0;;c++){e.setFrame(c,a,u,o);let d=n[c+1];if(!d)return e.shrink(h),e;let m=R(d,"time",0),y=R(d,t,i)*s,v=R(d,r,i)*s,S=l.curve;S&&(h=ve(S,e,h,c,0,a,m,u,y,s),h=ve(S,e,h,c,1,a,m,o,v,s)),a=m,u=y,o=v,l=d}}function ve(n,e,t,r,i,s,l,a,u,o){if(n=="stepped")return e.setStepped(r),t;let h=i<<2,c=n[h],d=n[h+1]*o,m=n[h+2],y=n[h+3]*o;return e.setBezier(t,r,i,s,a,c,d,m,y,l,u),t+1}function R(n,e,t){return n[e]!==void 0?n[e]:t}typeof Math.fround>"u"&&(Math.fround=function(n){return function(e){return n[0]=e,n[0]}}(new Float32Array(1)));class tt{constructor(e,t={alpha:"true"}){f(this,"canvas");f(this,"gl");f(this,"restorables",new Array);if(e instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext)this.gl=e,this.canvas=this.gl.canvas;else{let r=e;this.gl=r.getContext("webgl2",t)||r.getContext("webgl",t),this.canvas=r,r.addEventListener("webglcontextlost",i=>{i&&i.preventDefault()}),r.addEventListener("webglcontextrestored",i=>{for(let s=0,l=this.restorables.length;s<l;s++)this.restorables[s].restore()})}}addRestorable(e){this.restorables.push(e)}removeRestorable(e){let t=this.restorables.indexOf(e);t>-1&&this.restorables.splice(t,1)}}const mi=class mi extends ip{constructor(t,r,i=!1){super(r);f(this,"context");f(this,"texture",null);f(this,"boundUnit",0);f(this,"useMipMaps",!1);this.context=t instanceof tt?t:new tt(t),this.useMipMaps=i,this.restore(),this.context.addRestorable(this)}setFilters(t,r){let i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,mi.validateMagFilter(r)),this.useMipMaps=mi.usesMipMaps(t),this.useMipMaps&&i.generateMipmap(i.TEXTURE_2D)}static validateMagFilter(t){switch(t){case Me.MipMap:case Me.MipMapLinearLinear:case Me.MipMapLinearNearest:case Me.MipMapNearestLinear:case Me.MipMapNearestNearest:return Me.Linear;default:return t}}static usesMipMaps(t){switch(t){case Me.MipMap:case Me.MipMapLinearLinear:case Me.MipMapLinearNearest:case Me.MipMapNearestLinear:case Me.MipMapNearestNearest:return!0;default:return!1}}setWraps(t,r){let i=this.context.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,r)}update(t){let r=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this._image),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t?r.LINEAR_MIPMAP_LINEAR:r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t&&r.generateMipmap(r.TEXTURE_2D)}restore(){this.texture=null,this.update(this.useMipMaps)}bind(t=0){let r=this.context.gl;this.boundUnit=t,r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,this.texture)}unbind(){let t=this.context.gl;t.activeTexture(t.TEXTURE0+this.boundUnit),t.bindTexture(t.TEXTURE_2D,null)}dispose(){this.context.removeRestorable(this),this.context.gl.deleteTexture(this.texture)}};f(mi,"DISABLE_UNPACK_PREMULTIPLIED_ALPHA_WEBGL",!1);let Yi=mi;class Vp extends up{constructor(e,t="",r=new pf){super(i=>new Yi(e,i),t,r)}}class Ln{constructor(e=0,t=0,r=0){f(this,"x",0);f(this,"y",0);f(this,"z",0);this.x=e,this.y=t,this.z=r}setFrom(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}set(e,t,r){return this.x=e,this.y=t,this.z=r,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}scale(e){return this.x*=e,this.y*=e,this.z*=e,this}normalize(){let e=this.length();return e==0?this:(e=1/e,this.x*=e,this.y*=e,this.z*=e,this)}cross(e){return this.set(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)}multiply(e){let t=e.values;return this.set(this.x*t[H]+this.y*t[$]+this.z*t[J]+t[q],this.x*t[ee]+this.y*t[G]+this.z*t[te]+t[Q],this.x*t[ne]+this.y*t[re]+this.z*t[Z]+t[K])}project(e){let t=e.values,r=1/(this.x*t[se]+this.y*t[le]+this.z*t[ae]+t[ie]);return this.set((this.x*t[H]+this.y*t[$]+this.z*t[J]+t[q])*r,(this.x*t[ee]+this.y*t[G]+this.z*t[te]+t[Q])*r,(this.x*t[ne]+this.y*t[re]+this.z*t[Z]+t[K])*r)}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}distance(e){let t=e.x-this.x,r=e.y-this.y,i=e.z-this.z;return Math.sqrt(t*t+r*r+i*i)}}const H=0,$=4,J=8,q=12,ee=1,G=5,te=9,Q=13,ne=2,re=6,Z=10,K=14,se=3,le=7,ae=11,ie=15,Ge=class Ge{constructor(){f(this,"temp",new Float32Array(16));f(this,"values",new Float32Array(16));let e=this.values;e[H]=1,e[G]=1,e[Z]=1,e[ie]=1}set(e){return this.values.set(e),this}transpose(){let e=this.temp,t=this.values;return e[H]=t[H],e[$]=t[ee],e[J]=t[ne],e[q]=t[se],e[ee]=t[$],e[G]=t[G],e[te]=t[re],e[Q]=t[le],e[ne]=t[J],e[re]=t[te],e[Z]=t[Z],e[K]=t[ae],e[se]=t[q],e[le]=t[Q],e[ae]=t[K],e[ie]=t[ie],this.set(e)}identity(){let e=this.values;return e[H]=1,e[$]=0,e[J]=0,e[q]=0,e[ee]=0,e[G]=1,e[te]=0,e[Q]=0,e[ne]=0,e[re]=0,e[Z]=1,e[K]=0,e[se]=0,e[le]=0,e[ae]=0,e[ie]=1,this}invert(){let e=this.values,t=this.temp,r=e[se]*e[re]*e[te]*e[q]-e[ne]*e[le]*e[te]*e[q]-e[se]*e[G]*e[Z]*e[q]+e[ee]*e[le]*e[Z]*e[q]+e[ne]*e[G]*e[ae]*e[q]-e[ee]*e[re]*e[ae]*e[q]-e[se]*e[re]*e[J]*e[Q]+e[ne]*e[le]*e[J]*e[Q]+e[se]*e[$]*e[Z]*e[Q]-e[H]*e[le]*e[Z]*e[Q]-e[ne]*e[$]*e[ae]*e[Q]+e[H]*e[re]*e[ae]*e[Q]+e[se]*e[G]*e[J]*e[K]-e[ee]*e[le]*e[J]*e[K]-e[se]*e[$]*e[te]*e[K]+e[H]*e[le]*e[te]*e[K]+e[ee]*e[$]*e[ae]*e[K]-e[H]*e[G]*e[ae]*e[K]-e[ne]*e[G]*e[J]*e[ie]+e[ee]*e[re]*e[J]*e[ie]+e[ne]*e[$]*e[te]*e[ie]-e[H]*e[re]*e[te]*e[ie]-e[ee]*e[$]*e[Z]*e[ie]+e[H]*e[G]*e[Z]*e[ie];if(r==0)throw new Error("non-invertible matrix");let i=1/r;return t[H]=e[te]*e[K]*e[le]-e[Q]*e[Z]*e[le]+e[Q]*e[re]*e[ae]-e[G]*e[K]*e[ae]-e[te]*e[re]*e[ie]+e[G]*e[Z]*e[ie],t[$]=e[q]*e[Z]*e[le]-e[J]*e[K]*e[le]-e[q]*e[re]*e[ae]+e[$]*e[K]*e[ae]+e[J]*e[re]*e[ie]-e[$]*e[Z]*e[ie],t[J]=e[J]*e[Q]*e[le]-e[q]*e[te]*e[le]+e[q]*e[G]*e[ae]-e[$]*e[Q]*e[ae]-e[J]*e[G]*e[ie]+e[$]*e[te]*e[ie],t[q]=e[q]*e[te]*e[re]-e[J]*e[Q]*e[re]-e[q]*e[G]*e[Z]+e[$]*e[Q]*e[Z]+e[J]*e[G]*e[K]-e[$]*e[te]*e[K],t[ee]=e[Q]*e[Z]*e[se]-e[te]*e[K]*e[se]-e[Q]*e[ne]*e[ae]+e[ee]*e[K]*e[ae]+e[te]*e[ne]*e[ie]-e[ee]*e[Z]*e[ie],t[G]=e[J]*e[K]*e[se]-e[q]*e[Z]*e[se]+e[q]*e[ne]*e[ae]-e[H]*e[K]*e[ae]-e[J]*e[ne]*e[ie]+e[H]*e[Z]*e[ie],t[te]=e[q]*e[te]*e[se]-e[J]*e[Q]*e[se]-e[q]*e[ee]*e[ae]+e[H]*e[Q]*e[ae]+e[J]*e[ee]*e[ie]-e[H]*e[te]*e[ie],t[Q]=e[J]*e[Q]*e[ne]-e[q]*e[te]*e[ne]+e[q]*e[ee]*e[Z]-e[H]*e[Q]*e[Z]-e[J]*e[ee]*e[K]+e[H]*e[te]*e[K],t[ne]=e[G]*e[K]*e[se]-e[Q]*e[re]*e[se]+e[Q]*e[ne]*e[le]-e[ee]*e[K]*e[le]-e[G]*e[ne]*e[ie]+e[ee]*e[re]*e[ie],t[re]=e[q]*e[re]*e[se]-e[$]*e[K]*e[se]-e[q]*e[ne]*e[le]+e[H]*e[K]*e[le]+e[$]*e[ne]*e[ie]-e[H]*e[re]*e[ie],t[Z]=e[$]*e[Q]*e[se]-e[q]*e[G]*e[se]+e[q]*e[ee]*e[le]-e[H]*e[Q]*e[le]-e[$]*e[ee]*e[ie]+e[H]*e[G]*e[ie],t[K]=e[q]*e[G]*e[ne]-e[$]*e[Q]*e[ne]-e[q]*e[ee]*e[re]+e[H]*e[Q]*e[re]+e[$]*e[ee]*e[K]-e[H]*e[G]*e[K],t[se]=e[te]*e[re]*e[se]-e[G]*e[Z]*e[se]-e[te]*e[ne]*e[le]+e[ee]*e[Z]*e[le]+e[G]*e[ne]*e[ae]-e[ee]*e[re]*e[ae],t[le]=e[$]*e[Z]*e[se]-e[J]*e[re]*e[se]+e[J]*e[ne]*e[le]-e[H]*e[Z]*e[le]-e[$]*e[ne]*e[ae]+e[H]*e[re]*e[ae],t[ae]=e[J]*e[G]*e[se]-e[$]*e[te]*e[se]-e[J]*e[ee]*e[le]+e[H]*e[te]*e[le]+e[$]*e[ee]*e[ae]-e[H]*e[G]*e[ae],t[ie]=e[$]*e[te]*e[ne]-e[J]*e[G]*e[ne]+e[J]*e[ee]*e[re]-e[H]*e[te]*e[re]-e[$]*e[ee]*e[Z]+e[H]*e[G]*e[Z],e[H]=t[H]*i,e[$]=t[$]*i,e[J]=t[J]*i,e[q]=t[q]*i,e[ee]=t[ee]*i,e[G]=t[G]*i,e[te]=t[te]*i,e[Q]=t[Q]*i,e[ne]=t[ne]*i,e[re]=t[re]*i,e[Z]=t[Z]*i,e[K]=t[K]*i,e[se]=t[se]*i,e[le]=t[le]*i,e[ae]=t[ae]*i,e[ie]=t[ie]*i,this}determinant(){let e=this.values;return e[se]*e[re]*e[te]*e[q]-e[ne]*e[le]*e[te]*e[q]-e[se]*e[G]*e[Z]*e[q]+e[ee]*e[le]*e[Z]*e[q]+e[ne]*e[G]*e[ae]*e[q]-e[ee]*e[re]*e[ae]*e[q]-e[se]*e[re]*e[J]*e[Q]+e[ne]*e[le]*e[J]*e[Q]+e[se]*e[$]*e[Z]*e[Q]-e[H]*e[le]*e[Z]*e[Q]-e[ne]*e[$]*e[ae]*e[Q]+e[H]*e[re]*e[ae]*e[Q]+e[se]*e[G]*e[J]*e[K]-e[ee]*e[le]*e[J]*e[K]-e[se]*e[$]*e[te]*e[K]+e[H]*e[le]*e[te]*e[K]+e[ee]*e[$]*e[ae]*e[K]-e[H]*e[G]*e[ae]*e[K]-e[ne]*e[G]*e[J]*e[ie]+e[ee]*e[re]*e[J]*e[ie]+e[ne]*e[$]*e[te]*e[ie]-e[H]*e[re]*e[te]*e[ie]-e[ee]*e[$]*e[Z]*e[ie]+e[H]*e[G]*e[Z]*e[ie]}translate(e,t,r){let i=this.values;return i[q]+=e,i[Q]+=t,i[K]+=r,this}copy(){return new Ge().set(this.values)}projection(e,t,r,i){this.identity();let s=1/Math.tan(r*(Math.PI/180)/2),l=(t+e)/(e-t),a=2*t*e/(e-t),u=this.values;return u[H]=s/i,u[ee]=0,u[ne]=0,u[se]=0,u[$]=0,u[G]=s,u[re]=0,u[le]=0,u[J]=0,u[te]=0,u[Z]=l,u[ae]=-1,u[q]=0,u[Q]=0,u[K]=a,u[ie]=0,this}ortho2d(e,t,r,i){return this.ortho(e,e+r,t,t+i,0,1)}ortho(e,t,r,i,s,l){this.identity();let a=2/(t-e),u=2/(i-r),o=-2/(l-s),h=-(t+e)/(t-e),c=-(i+r)/(i-r),d=-(l+s)/(l-s),m=this.values;return m[H]=a,m[ee]=0,m[ne]=0,m[se]=0,m[$]=0,m[G]=u,m[re]=0,m[le]=0,m[J]=0,m[te]=0,m[Z]=o,m[ae]=0,m[q]=h,m[Q]=c,m[K]=d,m[ie]=1,this}multiply(e){let t=this.temp,r=this.values,i=e.values;return t[H]=r[H]*i[H]+r[$]*i[ee]+r[J]*i[ne]+r[q]*i[se],t[$]=r[H]*i[$]+r[$]*i[G]+r[J]*i[re]+r[q]*i[le],t[J]=r[H]*i[J]+r[$]*i[te]+r[J]*i[Z]+r[q]*i[ae],t[q]=r[H]*i[q]+r[$]*i[Q]+r[J]*i[K]+r[q]*i[ie],t[ee]=r[ee]*i[H]+r[G]*i[ee]+r[te]*i[ne]+r[Q]*i[se],t[G]=r[ee]*i[$]+r[G]*i[G]+r[te]*i[re]+r[Q]*i[le],t[te]=r[ee]*i[J]+r[G]*i[te]+r[te]*i[Z]+r[Q]*i[ae],t[Q]=r[ee]*i[q]+r[G]*i[Q]+r[te]*i[K]+r[Q]*i[ie],t[ne]=r[ne]*i[H]+r[re]*i[ee]+r[Z]*i[ne]+r[K]*i[se],t[re]=r[ne]*i[$]+r[re]*i[G]+r[Z]*i[re]+r[K]*i[le],t[Z]=r[ne]*i[J]+r[re]*i[te]+r[Z]*i[Z]+r[K]*i[ae],t[K]=r[ne]*i[q]+r[re]*i[Q]+r[Z]*i[K]+r[K]*i[ie],t[se]=r[se]*i[H]+r[le]*i[ee]+r[ae]*i[ne]+r[ie]*i[se],t[le]=r[se]*i[$]+r[le]*i[G]+r[ae]*i[re]+r[ie]*i[le],t[ae]=r[se]*i[J]+r[le]*i[te]+r[ae]*i[Z]+r[ie]*i[ae],t[ie]=r[se]*i[q]+r[le]*i[Q]+r[ae]*i[K]+r[ie]*i[ie],this.set(this.temp)}multiplyLeft(e){let t=this.temp,r=this.values,i=e.values;return t[H]=i[H]*r[H]+i[$]*r[ee]+i[J]*r[ne]+i[q]*r[se],t[$]=i[H]*r[$]+i[$]*r[G]+i[J]*r[re]+i[q]*r[le],t[J]=i[H]*r[J]+i[$]*r[te]+i[J]*r[Z]+i[q]*r[ae],t[q]=i[H]*r[q]+i[$]*r[Q]+i[J]*r[K]+i[q]*r[ie],t[ee]=i[ee]*r[H]+i[G]*r[ee]+i[te]*r[ne]+i[Q]*r[se],t[G]=i[ee]*r[$]+i[G]*r[G]+i[te]*r[re]+i[Q]*r[le],t[te]=i[ee]*r[J]+i[G]*r[te]+i[te]*r[Z]+i[Q]*r[ae],t[Q]=i[ee]*r[q]+i[G]*r[Q]+i[te]*r[K]+i[Q]*r[ie],t[ne]=i[ne]*r[H]+i[re]*r[ee]+i[Z]*r[ne]+i[K]*r[se],t[re]=i[ne]*r[$]+i[re]*r[G]+i[Z]*r[re]+i[K]*r[le],t[Z]=i[ne]*r[J]+i[re]*r[te]+i[Z]*r[Z]+i[K]*r[ae],t[K]=i[ne]*r[q]+i[re]*r[Q]+i[Z]*r[K]+i[K]*r[ie],t[se]=i[se]*r[H]+i[le]*r[ee]+i[ae]*r[ne]+i[ie]*r[se],t[le]=i[se]*r[$]+i[le]*r[G]+i[ae]*r[re]+i[ie]*r[le],t[ae]=i[se]*r[J]+i[le]*r[te]+i[ae]*r[Z]+i[ie]*r[ae],t[ie]=i[se]*r[q]+i[le]*r[Q]+i[ae]*r[K]+i[ie]*r[ie],this.set(this.temp)}lookAt(e,t,r){let i=Ge.xAxis,s=Ge.yAxis,l=Ge.zAxis;l.setFrom(t).normalize(),i.setFrom(t).normalize(),i.cross(r).normalize(),s.setFrom(i).cross(l).normalize(),this.identity();let a=this.values;return a[H]=i.x,a[$]=i.y,a[J]=i.z,a[ee]=s.x,a[G]=s.y,a[te]=s.z,a[ne]=-l.x,a[re]=-l.y,a[Z]=-l.z,Ge.tmpMatrix.identity(),Ge.tmpMatrix.values[q]=-e.x,Ge.tmpMatrix.values[Q]=-e.y,Ge.tmpMatrix.values[K]=-e.z,this.multiply(Ge.tmpMatrix),this}};f(Ge,"xAxis",new Ln),f(Ge,"yAxis",new Ln),f(Ge,"zAxis",new Ln),f(Ge,"tmpMatrix",new Ge);let xr=Ge;class Up{constructor(e,t){f(this,"position",new Ln(0,0,0));f(this,"direction",new Ln(0,0,-1));f(this,"up",new Ln(0,1,0));f(this,"near",0);f(this,"far",100);f(this,"zoom",1);f(this,"viewportWidth",0);f(this,"viewportHeight",0);f(this,"projectionView",new xr);f(this,"inverseProjectionView",new xr);f(this,"projection",new xr);f(this,"view",new xr);this.viewportWidth=e,this.viewportHeight=t,this.update()}update(){let e=this.projection,t=this.view,r=this.projectionView,i=this.inverseProjectionView,s=this.zoom,l=this.viewportWidth,a=this.viewportHeight;e.ortho(s*(-l/2),s*(l/2),s*(-a/2),s*(a/2),this.near,this.far),t.lookAt(this.position,this.direction,this.up),r.set(e.values),r.multiply(t),i.set(r.values).invert()}screenToWorld(e,t,r){let i=e.x,s=r-e.y-1;return e.x=2*i/t-1,e.y=2*s/r-1,e.z=2*e.z-1,e.project(this.inverseProjectionView),e}worldToScreen(e,t,r){return e.project(this.projectionView),e.x=t*(e.x+1)/2,e.y=r*(e.y+1)/2,e.z=(e.z+1)/2,e}setViewport(e,t){this.viewportWidth=e,this.viewportHeight=t}}class Cf{constructor(e){f(this,"element");f(this,"mouseX",0);f(this,"mouseY",0);f(this,"buttonDown",!1);f(this,"touch0",null);f(this,"touch1",null);f(this,"initialPinchDistance",0);f(this,"listeners",new Array);f(this,"eventListeners",[]);this.element=e,this.setupCallbacks(e)}setupCallbacks(e){let t=a=>{if(a instanceof MouseEvent){let u=e.getBoundingClientRect();this.mouseX=a.clientX-u.left,this.mouseY=a.clientY-u.top,this.buttonDown=!0,this.listeners.map(o=>{o.down&&o.down(this.mouseX,this.mouseY)}),document.addEventListener("mousemove",r),document.addEventListener("mouseup",i)}},r=a=>{if(a instanceof MouseEvent){let u=e.getBoundingClientRect();this.mouseX=a.clientX-u.left,this.mouseY=a.clientY-u.top,this.listeners.map(o=>{this.buttonDown?o.dragged&&o.dragged(this.mouseX,this.mouseY):o.moved&&o.moved(this.mouseX,this.mouseY)})}},i=a=>{if(a instanceof MouseEvent){let u=e.getBoundingClientRect();this.mouseX=a.clientX-u.left,this.mouseY=a.clientY-u.top,this.buttonDown=!1,this.listeners.map(o=>{o.up&&o.up(this.mouseX,this.mouseY)}),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",i)}},s=a=>{a.preventDefault(),a.deltaY,a.deltaMode==WheelEvent.DOM_DELTA_LINE,a.deltaMode==WheelEvent.DOM_DELTA_PAGE,this.listeners.map(u=>{u.wheel&&u.wheel(a.deltaY)})};e.addEventListener("mousedown",t,!0),e.addEventListener("mousemove",r,!0),e.addEventListener("mouseup",i,!0),e.addEventListener("wheel",s,!0),e.addEventListener("touchstart",a=>{if(!this.touch0||!this.touch1){var u=a.changedTouches;let o=u.item(0);if(!o)return;let h=e.getBoundingClientRect(),c=o.clientX-h.left,d=o.clientY-h.top,m=new _p(o.identifier,c,d);if(this.mouseX=c,this.mouseY=d,this.buttonDown=!0,!this.touch0)this.touch0=m,this.listeners.map(y=>{y.down&&y.down(m.x,m.y)});else if(!this.touch1){this.touch1=m;let y=this.touch1.x-this.touch0.x,v=this.touch1.x-this.touch0.x;this.initialPinchDistance=Math.sqrt(y*y+v*v),this.listeners.map(S=>{S.zoom&&S.zoom(this.initialPinchDistance,this.initialPinchDistance)})}}a.preventDefault()},!1),e.addEventListener("touchmove",a=>{if(this.touch0){var u=a.changedTouches;let c=e.getBoundingClientRect();for(var o=0;o<u.length;o++){var h=u[o];let d=h.clientX-c.left,m=h.clientY-c.top;this.touch0.identifier===h.identifier&&(this.touch0.x=this.mouseX=d,this.touch0.y=this.mouseY=m,this.listeners.map(y=>{y.dragged&&y.dragged(d,m)})),this.touch1&&this.touch1.identifier===h.identifier&&(this.touch1.x=this.mouseX=d,this.touch1.y=this.mouseY=m)}if(this.touch0&&this.touch1){let d=this.touch1.x-this.touch0.x,m=this.touch1.x-this.touch0.x,y=Math.sqrt(d*d+m*m);this.listeners.map(v=>{v.zoom&&v.zoom(this.initialPinchDistance,y)})}}a.preventDefault()},!1);let l=a=>{if(this.touch0){var u=a.changedTouches;let c=e.getBoundingClientRect();for(var o=0;o<u.length;o++){var h=u[o];let d=h.clientX-c.left,m=h.clientY-c.top;if(this.touch0.identifier===h.identifier)if(this.touch0=null,this.mouseX=d,this.mouseY=m,this.listeners.map(y=>{y.up&&y.up(d,m)}),this.touch1)this.touch0=this.touch1,this.touch1=null,this.mouseX=this.touch0.x,this.mouseX=this.touch0.x,this.buttonDown=!0,this.listeners.map(y=>{y.down&&y.down(this.touch0.x,this.touch0.y)});else{this.buttonDown=!1;break}this.touch1&&this.touch1.identifier&&(this.touch1=null)}}a.preventDefault()};e.addEventListener("touchend",l,!1),e.addEventListener("touchcancel",l)}addListener(e){this.listeners.push(e)}removeListener(e){let t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}}class _p{constructor(e,t,r){f(this,"identifier");f(this,"x");f(this,"y");this.identifier=e,this.x=t,this.y=r}}const ge=class ge{constructor(e,t,r){f(this,"vertexShader");f(this,"fragmentShader");f(this,"context");f(this,"vs",null);f(this,"vsSource");f(this,"fs",null);f(this,"fsSource");f(this,"program",null);f(this,"tmp2x2",new Float32Array(2*2));f(this,"tmp3x3",new Float32Array(3*3));f(this,"tmp4x4",new Float32Array(4*4));this.vertexShader=t,this.fragmentShader=r,this.vsSource=t,this.fsSource=r,this.context=e instanceof tt?e:new tt(e),this.context.addRestorable(this),this.compile()}getProgram(){return this.program}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}getVertexShaderSource(){return this.vsSource}getFragmentSource(){return this.fsSource}compile(){let e=this.context.gl;try{if(this.vs=this.compileShader(e.VERTEX_SHADER,this.vertexShader),!this.vs)throw new Error("Couldn't compile vertex shader.");if(this.fs=this.compileShader(e.FRAGMENT_SHADER,this.fragmentShader),!this.fs)throw new Error("Couldn#t compile fragment shader.");this.program=this.compileProgram(this.vs,this.fs)}catch(t){throw this.dispose(),t}}compileShader(e,t){let r=this.context.gl,i=r.createShader(e);if(!i)throw new Error("Couldn't create shader.");if(r.shaderSource(i,t),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS)){let s="Couldn't compile shader: "+r.getShaderInfoLog(i);if(r.deleteShader(i),!r.isContextLost())throw new Error(s)}return i}compileProgram(e,t){let r=this.context.gl,i=r.createProgram();if(!i)throw new Error("Couldn't compile program.");if(r.attachShader(i,e),r.attachShader(i,t),r.linkProgram(i),!r.getProgramParameter(i,r.LINK_STATUS)){let s="Couldn't compile shader program: "+r.getProgramInfoLog(i);if(r.deleteProgram(i),!r.isContextLost())throw new Error(s)}return i}restore(){this.compile()}bind(){this.context.gl.useProgram(this.program)}unbind(){this.context.gl.useProgram(null)}setUniformi(e,t){this.context.gl.uniform1i(this.getUniformLocation(e),t)}setUniformf(e,t){this.context.gl.uniform1f(this.getUniformLocation(e),t)}setUniform2f(e,t,r){this.context.gl.uniform2f(this.getUniformLocation(e),t,r)}setUniform3f(e,t,r,i){this.context.gl.uniform3f(this.getUniformLocation(e),t,r,i)}setUniform4f(e,t,r,i,s){this.context.gl.uniform4f(this.getUniformLocation(e),t,r,i,s)}setUniform2x2f(e,t){let r=this.context.gl;this.tmp2x2.set(t),r.uniformMatrix2fv(this.getUniformLocation(e),!1,this.tmp2x2)}setUniform3x3f(e,t){let r=this.context.gl;this.tmp3x3.set(t),r.uniformMatrix3fv(this.getUniformLocation(e),!1,this.tmp3x3)}setUniform4x4f(e,t){let r=this.context.gl;this.tmp4x4.set(t),r.uniformMatrix4fv(this.getUniformLocation(e),!1,this.tmp4x4)}getUniformLocation(e){let t=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");let r=t.getUniformLocation(this.program,e);if(!r&&!t.isContextLost())throw new Error(`Couldn't find location for uniform ${e}`);return r}getAttributeLocation(e){let t=this.context.gl;if(!this.program)throw new Error("Shader not compiled.");let r=t.getAttribLocation(this.program,e);if(r==-1&&!t.isContextLost())throw new Error(`Couldn't find location for attribute ${e}`);return r}dispose(){this.context.removeRestorable(this);let e=this.context.gl;this.vs&&(e.deleteShader(this.vs),this.vs=null),this.fs&&(e.deleteShader(this.fs),this.fs=null),this.program&&(e.deleteProgram(this.program),this.program=null)}static newColoredTextured(e){let t=`
attribute vec4 ${ge.POSITION};
attribute vec4 ${ge.COLOR};
attribute vec2 ${ge.TEXCOORDS};
uniform mat4 ${ge.MVP_MATRIX};
varying vec4 v_color;
varying vec2 v_texCoords;

void main () {
	v_color = ${ge.COLOR};
	v_texCoords = ${ge.TEXCOORDS};
	gl_Position = ${ge.MVP_MATRIX} * ${ge.POSITION};
}
`,r=`
#ifdef GL_ES
	#define LOWP lowp
	precision mediump float;
#else
	#define LOWP
#endif
varying LOWP vec4 v_color;
varying vec2 v_texCoords;
uniform sampler2D u_texture;

void main () {
	gl_FragColor = v_color * texture2D(u_texture, v_texCoords);
}
`;return new ge(e,t,r)}static newTwoColoredTextured(e){let t=`
attribute vec4 ${ge.POSITION};
attribute vec4 ${ge.COLOR};
attribute vec4 ${ge.COLOR2};
attribute vec2 ${ge.TEXCOORDS};
uniform mat4 ${ge.MVP_MATRIX};
varying vec4 v_light;
varying vec4 v_dark;
varying vec2 v_texCoords;

void main () {
	v_light = ${ge.COLOR};
	v_dark = ${ge.COLOR2};
	v_texCoords = ${ge.TEXCOORDS};
	gl_Position = ${ge.MVP_MATRIX} * ${ge.POSITION};
}
`,r=`
#ifdef GL_ES
	#define LOWP lowp
	precision mediump float;
#else
	#define LOWP
#endif
varying LOWP vec4 v_light;
varying LOWP vec4 v_dark;
varying vec2 v_texCoords;
uniform sampler2D u_texture;

void main () {
	vec4 texColor = texture2D(u_texture, v_texCoords);
	gl_FragColor.a = texColor.a * v_light.a;
	gl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;
}
`;return new ge(e,t,r)}static newColored(e){let t=`
attribute vec4 ${ge.POSITION};
attribute vec4 ${ge.COLOR};
uniform mat4 ${ge.MVP_MATRIX};
varying vec4 v_color;

void main () {
	v_color = ${ge.COLOR};
	gl_Position = ${ge.MVP_MATRIX} * ${ge.POSITION};
}
`,r=`
#ifdef GL_ES
	#define LOWP lowp
	precision mediump float;
#else
	#define LOWP
#endif
varying LOWP vec4 v_color;

void main () {
	gl_FragColor = v_color;
}
`;return new ge(e,t,r)}};f(ge,"MVP_MATRIX","u_projTrans"),f(ge,"POSITION","a_position"),f(ge,"COLOR","a_color"),f(ge,"COLOR2","a_color2"),f(ge,"TEXCOORDS","a_texCoords"),f(ge,"SAMPLER","u_texture");let Bt=ge;class Ef{constructor(e,t,r,i){f(this,"attributes");f(this,"context");f(this,"vertices");f(this,"verticesBuffer",null);f(this,"verticesLength",0);f(this,"dirtyVertices",!1);f(this,"indices");f(this,"indicesBuffer",null);f(this,"indicesLength",0);f(this,"dirtyIndices",!1);f(this,"elementsPerVertex",0);this.attributes=t,this.context=e instanceof tt?e:new tt(e),this.elementsPerVertex=0;for(let s=0;s<t.length;s++)this.elementsPerVertex+=t[s].numElements;this.vertices=new Float32Array(r*this.elementsPerVertex),this.indices=new Uint16Array(i),this.context.addRestorable(this)}getAttributes(){return this.attributes}maxVertices(){return this.vertices.length/this.elementsPerVertex}numVertices(){return this.verticesLength/this.elementsPerVertex}setVerticesLength(e){this.dirtyVertices=!0,this.verticesLength=e}getVertices(){return this.vertices}maxIndices(){return this.indices.length}numIndices(){return this.indicesLength}setIndicesLength(e){this.dirtyIndices=!0,this.indicesLength=e}getIndices(){return this.indices}getVertexSizeInFloats(){let e=0;for(var t=0;t<this.attributes.length;t++){let r=this.attributes[t];e+=r.numElements}return e}setVertices(e){if(this.dirtyVertices=!0,e.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(e,0),this.verticesLength=e.length}setIndices(e){if(this.dirtyIndices=!0,e.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(e,0),this.indicesLength=e.length}draw(e,t){this.drawWithOffset(e,t,0,this.indicesLength>0?this.indicesLength:this.verticesLength/this.elementsPerVertex)}drawWithOffset(e,t,r,i){let s=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(e),this.indicesLength>0?s.drawElements(t,i,s.UNSIGNED_SHORT,r*2):s.drawArrays(t,r,i),this.unbind(e)}bind(e){let t=this.context.gl;t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer);let r=0;for(let i=0;i<this.attributes.length;i++){let s=this.attributes[i],l=e.getAttributeLocation(s.name);t.enableVertexAttribArray(l),t.vertexAttribPointer(l,s.numElements,t.FLOAT,!1,this.elementsPerVertex*4,r*4),r+=s.numElements}this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)}unbind(e){let t=this.context.gl;for(let r=0;r<this.attributes.length;r++){let i=this.attributes[r],s=e.getAttributeLocation(i.name);t.disableVertexAttribArray(s)}t.bindBuffer(t.ARRAY_BUFFER,null),this.indicesLength>0&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}update(){let e=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=e.createBuffer()),e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),e.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),e.DYNAMIC_DRAW),this.dirtyIndices=!1)}restore(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()}dispose(){this.context.removeRestorable(this);let e=this.context.gl;e.deleteBuffer(this.verticesBuffer),e.deleteBuffer(this.indicesBuffer)}}class wl{constructor(e,t,r){f(this,"name");f(this,"type");f(this,"numElements");this.name=e,this.type=t,this.numElements=r}}class Za extends wl{constructor(){super(Bt.POSITION,Dr.Float,2)}}class wh extends wl{constructor(e=0){super(Bt.TEXCOORDS+(e==0?"":e),Dr.Float,2)}}class Ka extends wl{constructor(){super(Bt.COLOR,Dr.Float,4)}}class Wp extends wl{constructor(){super(Bt.COLOR2,Dr.Float,4)}}var Dr;(function(n){n[n.Float=0]="Float"})(Dr||(Dr={}));const $t=1,jp=769,xh=770,Sh=771,kh=774,Ft=class Ft{constructor(e,t=!0,r=10920){f(this,"context");f(this,"drawCalls",0);f(this,"isDrawing",!1);f(this,"mesh");f(this,"shader",null);f(this,"lastTexture",null);f(this,"verticesLength",0);f(this,"indicesLength",0);f(this,"srcColorBlend");f(this,"srcAlphaBlend");f(this,"dstBlend");f(this,"cullWasEnabled",!1);if(r>10920)throw new Error("Can't have more than 10920 triangles per batch: "+r);this.context=e instanceof tt?e:new tt(e);let i=t?[new Za,new Ka,new wh,new Wp]:[new Za,new Ka,new wh];this.mesh=new Ef(e,i,r,r*3);let s=this.context.gl;this.srcColorBlend=s.SRC_ALPHA,this.srcAlphaBlend=s.ONE,this.dstBlend=s.ONE_MINUS_SRC_ALPHA}begin(e){if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=e,this.lastTexture=null,this.isDrawing=!0;let t=this.context.gl;t.enable(t.BLEND),t.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend),Ft.disableCulling&&(this.cullWasEnabled=t.isEnabled(t.CULL_FACE),this.cullWasEnabled&&t.disable(t.CULL_FACE))}setBlendMode(e,t){const r=Ft.blendModesGL[e],i=t?r.srcRgbPma:r.srcRgb,s=r.srcAlpha,l=r.dstRgb;if(this.srcColorBlend==i&&this.srcAlphaBlend==s&&this.dstBlend==l)return;this.srcColorBlend=i,this.srcAlphaBlend=s,this.dstBlend=l,this.isDrawing&&this.flush(),this.context.gl.blendFuncSeparate(i,l,s,l)}draw(e,t,r){e!=this.lastTexture?(this.flush(),this.lastTexture=e):(this.verticesLength+t.length>this.mesh.getVertices().length||this.indicesLength+r.length>this.mesh.getIndices().length)&&this.flush();let i=this.mesh.numVertices();this.mesh.getVertices().set(t,this.verticesLength),this.verticesLength+=t.length,this.mesh.setVerticesLength(this.verticesLength);let s=this.mesh.getIndices();for(let l=this.indicesLength,a=0;a<r.length;l++,a++)s[l]=r[a]+i;this.indicesLength+=r.length,this.mesh.setIndicesLength(this.indicesLength)}flush(){if(this.verticesLength!=0){if(!this.lastTexture)throw new Error("No texture set.");if(!this.shader)throw new Error("No shader set.");this.lastTexture.bind(),this.mesh.draw(this.shader,this.context.gl.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++,Ft.globalDrawCalls++}}end(){if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(this.verticesLength>0||this.indicesLength>0)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1;let e=this.context.gl;e.disable(e.BLEND),Ft.disableCulling&&this.cullWasEnabled&&e.enable(e.CULL_FACE)}getDrawCalls(){return this.drawCalls}static getAndResetGlobalDrawCalls(){let e=Ft.globalDrawCalls;return Ft.globalDrawCalls=0,e}dispose(){this.mesh.dispose()}};f(Ft,"disableCulling",!1),f(Ft,"globalDrawCalls",0),f(Ft,"blendModesGL",[{srcRgb:xh,srcRgbPma:$t,dstRgb:Sh,srcAlpha:$t},{srcRgb:xh,srcRgbPma:$t,dstRgb:$t,srcAlpha:$t},{srcRgb:kh,srcRgbPma:kh,dstRgb:Sh,srcAlpha:$t},{srcRgb:$t,srcRgbPma:$t,dstRgb:jp,srcAlpha:$t}]);let Zs=Ft;class Ch{constructor(e,t=10920){f(this,"context");f(this,"isDrawing",!1);f(this,"mesh");f(this,"shapeType",$e.Filled);f(this,"color",new W(1,1,1,1));f(this,"shader",null);f(this,"vertexIndex",0);f(this,"tmp",new jt);f(this,"srcColorBlend");f(this,"srcAlphaBlend");f(this,"dstBlend");if(t>10920)throw new Error("Can't have more than 10920 triangles per batch: "+t);this.context=e instanceof tt?e:new tt(e),this.mesh=new Ef(e,[new Za,new Ka],t,0);let r=this.context.gl;this.srcColorBlend=r.SRC_ALPHA,this.srcAlphaBlend=r.ONE,this.dstBlend=r.ONE_MINUS_SRC_ALPHA}begin(e){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=e,this.vertexIndex=0,this.isDrawing=!0;let t=this.context.gl;t.enable(t.BLEND),t.blendFuncSeparate(this.srcColorBlend,this.dstBlend,this.srcAlphaBlend,this.dstBlend)}setBlendMode(e,t,r){this.srcColorBlend=e,this.srcAlphaBlend=t,this.dstBlend=r,this.isDrawing&&(this.flush(),this.context.gl.blendFuncSeparate(e,r,t,r))}setColor(e){this.color.setFromColor(e)}setColorWith(e,t,r,i){this.color.set(e,t,r,i)}point(e,t,r){this.check($e.Point,1),r||(r=this.color),this.vertex(e,t,r)}line(e,t,r,i,s){this.check($e.Line,2),this.mesh.getVertices(),this.vertexIndex,s||(s=this.color),this.vertex(e,t,s),this.vertex(r,i,s)}triangle(e,t,r,i,s,l,a,u,o,h){this.check(e?$e.Filled:$e.Line,3),this.mesh.getVertices(),this.vertexIndex,u||(u=this.color),o||(o=this.color),h||(h=this.color),e?(this.vertex(t,r,u),this.vertex(i,s,o),this.vertex(l,a,h)):(this.vertex(t,r,u),this.vertex(i,s,o),this.vertex(i,s,u),this.vertex(l,a,o),this.vertex(l,a,u),this.vertex(t,r,o))}quad(e,t,r,i,s,l,a,u,o,h,c,d,m){this.check(e?$e.Filled:$e.Line,3),this.mesh.getVertices(),this.vertexIndex,h||(h=this.color),c||(c=this.color),d||(d=this.color),m||(m=this.color),e?(this.vertex(t,r,h),this.vertex(i,s,c),this.vertex(l,a,d),this.vertex(l,a,d),this.vertex(u,o,m),this.vertex(t,r,h)):(this.vertex(t,r,h),this.vertex(i,s,c),this.vertex(i,s,c),this.vertex(l,a,d),this.vertex(l,a,d),this.vertex(u,o,m),this.vertex(u,o,m),this.vertex(t,r,h))}rect(e,t,r,i,s,l){this.quad(e,t,r,t+i,r,t+i,r+s,t,r+s,l,l,l,l)}rectLine(e,t,r,i,s,l,a){this.check(e?$e.Filled:$e.Line,8),a||(a=this.color);let u=this.tmp.set(s-r,t-i);u.normalize(),l*=.5;let o=u.x*l,h=u.y*l;e?(this.vertex(t+o,r+h,a),this.vertex(t-o,r-h,a),this.vertex(i+o,s+h,a),this.vertex(i-o,s-h,a),this.vertex(i+o,s+h,a),this.vertex(t-o,r-h,a)):(this.vertex(t+o,r+h,a),this.vertex(t-o,r-h,a),this.vertex(i+o,s+h,a),this.vertex(i-o,s-h,a),this.vertex(i+o,s+h,a),this.vertex(t+o,r+h,a),this.vertex(i-o,s-h,a),this.vertex(t-o,r-h,a))}x(e,t,r){this.line(e-r,t-r,e+r,t+r),this.line(e-r,t+r,e+r,t-r)}polygon(e,t,r,i){if(r<3)throw new Error("Polygon must contain at least 3 vertices");this.check($e.Line,r*2),i||(i=this.color),this.mesh.getVertices(),this.vertexIndex,t<<=1,r<<=1;let s=e[t],l=e[t+1],a=t+r;for(let u=t,o=t+r-2;u<o;u+=2){let h=e[u],c=e[u+1],d=0,m=0;u+2>=a?(d=s,m=l):(d=e[u+2],m=e[u+3]),this.vertex(h,c,i),this.vertex(d,m,i)}}circle(e,t,r,i,s,l=0){if(l==0&&(l=Math.max(1,6*N.cbrt(i)|0)),l<=0)throw new Error("segments must be > 0.");s||(s=this.color);let a=2*N.PI/l,u=Math.cos(a),o=Math.sin(a),h=i,c=0;if(e){this.check($e.Filled,l*3+3),l--;for(let d=0;d<l;d++){this.vertex(t,r,s),this.vertex(t+h,r+c,s);let m=h;h=u*h-o*c,c=o*m+u*c,this.vertex(t+h,r+c,s)}this.vertex(t,r,s),this.vertex(t+h,r+c,s)}else{this.check($e.Line,l*2+2);for(let d=0;d<l;d++){this.vertex(t+h,r+c,s);let m=h;h=u*h-o*c,c=o*m+u*c,this.vertex(t+h,r+c,s)}this.vertex(t+h,r+c,s)}h=i,c=0,this.vertex(t+h,r+c,s)}curve(e,t,r,i,s,l,a,u,o,h){this.check($e.Line,o*2+2),h||(h=this.color);let c=1/o,d=c*c,m=c*c*c,y=3*c,v=3*d,S=6*d,p=6*m,w=e-r*2+s,g=t-i*2+l,x=(r-s)*3-e+a,k=(i-l)*3-t+u,C=e,E=t,b=(r-e)*y+w*v+x*m,T=(i-t)*y+g*v+k*m,I=w*S+x*p,P=g*S+k*p,O=x*p,X=k*p;for(;o-- >0;)this.vertex(C,E,h),C+=b,E+=T,b+=I,T+=P,I+=O,P+=X,this.vertex(C,E,h);this.vertex(C,E,h),this.vertex(a,u,h)}vertex(e,t,r){let i=this.vertexIndex,s=this.mesh.getVertices();s[i++]=e,s[i++]=t,s[i++]=r.r,s[i++]=r.g,s[i++]=r.b,s[i++]=r.a,this.vertexIndex=i}end(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush();let e=this.context.gl;e.disable(e.BLEND),this.isDrawing=!1}flush(){if(this.vertexIndex!=0){if(!this.shader)throw new Error("No shader set.");this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0}}check(e,t){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==e)if(this.mesh.maxVertices()-this.mesh.numVertices()<t)this.flush();else return;else this.flush(),this.shapeType=e}dispose(){this.mesh.dispose()}}var $e;(function(n){n[n.Point=0]="Point",n[n.Line=1]="Line",n[n.Filled=4]="Filled"})($e||($e={}));const Cr=class Cr{constructor(e){f(this,"boneLineColor",new W(1,0,0,1));f(this,"boneOriginColor",new W(0,1,0,1));f(this,"attachmentLineColor",new W(0,0,1,.5));f(this,"triangleLineColor",new W(1,.64,0,.5));f(this,"pathColor",new W().setFromString("FF7F00"));f(this,"clipColor",new W(.8,0,0,2));f(this,"aabbColor",new W(0,1,0,.5));f(this,"drawBones",!0);f(this,"drawRegionAttachments",!0);f(this,"drawBoundingBoxes",!0);f(this,"drawMeshHull",!0);f(this,"drawMeshTriangles",!0);f(this,"drawPaths",!0);f(this,"drawSkeletonXY",!1);f(this,"drawClipping",!0);f(this,"premultipliedAlpha",!1);f(this,"scale",1);f(this,"boneWidth",2);f(this,"context");f(this,"bounds",new Xp);f(this,"temp",new Array);f(this,"vertices",V.newFloatArray(2*1024));this.context=e instanceof tt?e:new tt(e)}draw(e,t,r){let i=t.x,s=t.y,l=this.context.gl,a=this.premultipliedAlpha?l.ONE:l.SRC_ALPHA;e.setBlendMode(a,l.ONE,l.ONE_MINUS_SRC_ALPHA);let u=t.bones;if(this.drawBones){e.setColor(this.boneLineColor);for(let o=0,h=u.length;o<h;o++){let c=u[o];if(r&&r.indexOf(c.data.name)>-1||!c.parent)continue;let d=c.data.length*c.a+c.worldX,m=c.data.length*c.c+c.worldY;e.rectLine(!0,c.worldX,c.worldY,d,m,this.boneWidth*this.scale)}this.drawSkeletonXY&&e.x(i,s,4*this.scale)}if(this.drawRegionAttachments){e.setColor(this.attachmentLineColor);let o=t.slots;for(let h=0,c=o.length;h<c;h++){let d=o[h],m=d.getAttachment();if(m instanceof Xr){let y=m,v=this.vertices;y.computeWorldVertices(d,v,0,2),e.line(v[0],v[1],v[2],v[3]),e.line(v[2],v[3],v[4],v[5]),e.line(v[4],v[5],v[6],v[7]),e.line(v[6],v[7],v[0],v[1])}}}if(this.drawMeshHull||this.drawMeshTriangles){let o=t.slots;for(let h=0,c=o.length;h<c;h++){let d=o[h];if(!d.bone.active)continue;let m=d.getAttachment();if(!(m instanceof Yn))continue;let y=m,v=this.vertices;y.computeWorldVertices(d,0,y.worldVerticesLength,v,0,2);let S=y.triangles,p=y.hullLength;if(this.drawMeshTriangles){e.setColor(this.triangleLineColor);for(let w=0,g=S.length;w<g;w+=3){let x=S[w]*2,k=S[w+1]*2,C=S[w+2]*2;e.triangle(!1,v[x],v[x+1],v[k],v[k+1],v[C],v[C+1])}}if(this.drawMeshHull&&p>0){e.setColor(this.attachmentLineColor),p=(p>>1)*2;let w=v[p-2],g=v[p-1];for(let x=0,k=p;x<k;x+=2){let C=v[x],E=v[x+1];e.line(C,E,w,g),w=C,g=E}}}}if(this.drawBoundingBoxes){let o=this.bounds;o.update(t,!0),e.setColor(this.aabbColor),e.rect(!1,o.minX,o.minY,o.getWidth(),o.getHeight());let h=o.polygons,c=o.boundingBoxes;for(let d=0,m=h.length;d<m;d++){let y=h[d];e.setColor(c[d].color),e.polygon(y,0,y.length)}}if(this.drawPaths){let o=t.slots;for(let h=0,c=o.length;h<c;h++){let d=o[h];if(!d.bone.active)continue;let m=d.getAttachment();if(!(m instanceof Jn))continue;let y=m,v=y.worldVerticesLength,S=this.temp=V.setArraySize(this.temp,v,0);y.computeWorldVertices(d,0,v,S,0,2);let p=this.pathColor,w=S[2],g=S[3],x=0,k=0;if(y.closed){e.setColor(p);let C=S[0],E=S[1],b=S[v-2],T=S[v-1];x=S[v-4],k=S[v-3],e.curve(w,g,C,E,b,T,x,k,32),e.setColor(Cr.LIGHT_GRAY),e.line(w,g,C,E),e.line(x,k,b,T)}v-=4;for(let C=4;C<v;C+=6){let E=S[C],b=S[C+1],T=S[C+2],I=S[C+3];x=S[C+4],k=S[C+5],e.setColor(p),e.curve(w,g,E,b,T,I,x,k,32),e.setColor(Cr.LIGHT_GRAY),e.line(w,g,E,b),e.line(x,k,T,I),w=x,g=k}}}if(this.drawBones){e.setColor(this.boneOriginColor);for(let o=0,h=u.length;o<h;o++){let c=u[o];r&&r.indexOf(c.data.name)>-1||e.circle(!0,c.worldX,c.worldY,3*this.scale,this.boneOriginColor,8)}}if(this.drawClipping){let o=t.slots;e.setColor(this.clipColor);for(let h=0,c=o.length;h<c;h++){let d=o[h];if(!d.bone.active)continue;let m=d.getAttachment();if(!(m instanceof zi))continue;let y=m,v=y.worldVerticesLength,S=this.temp=V.setArraySize(this.temp,v,0);y.computeWorldVertices(d,0,v,S,0,2);for(let p=0,w=S.length;p<w;p+=2){let g=S[p],x=S[p+1],k=S[(p+2)%S.length],C=S[(p+3)%S.length];e.line(g,x,k,C)}}}}dispose(){}};f(Cr,"LIGHT_GRAY",new W(192/255,192/255,192/255,1)),f(Cr,"GREEN",new W(0,1,0,1));let $a=Cr;class Hp{constructor(e,t,r){f(this,"vertices");f(this,"numVertices");f(this,"numFloats");this.vertices=e,this.numVertices=t,this.numFloats=r}}const tl=class tl{constructor(e,t=!0){f(this,"premultipliedAlpha",!1);f(this,"tempColor",new W);f(this,"tempColor2",new W);f(this,"vertices");f(this,"vertexSize",8);f(this,"twoColorTint",!1);f(this,"renderable",new Hp([],0,0));f(this,"clipper",new Qs);f(this,"temp",new jt);f(this,"temp2",new jt);f(this,"temp3",new W);f(this,"temp4",new W);this.twoColorTint=t,t&&(this.vertexSize+=4),this.vertices=V.newFloatArray(this.vertexSize*1024)}draw(e,t,r=-1,i=-1,s=null){let l=this.clipper,a=this.premultipliedAlpha,u=this.twoColorTint,o=null,h=this.renderable,c,d,m=t.drawOrder,y,v=t.color,S=u?12:8,p=!1;r==-1&&(p=!0);for(let w=0,g=m.length;w<g;w++){let x=l.isClipping()?2:S,k=m[w];if(!k.bone.active){l.clipEndWithSlot(k);continue}if(r>=0&&r==k.data.index&&(p=!0),!p){l.clipEndWithSlot(k);continue}i>=0&&i==k.data.index&&(p=!1);let C=k.getAttachment(),E;if(C instanceof Xr){let b=C;h.vertices=this.vertices,h.numVertices=4,h.numFloats=x<<2,b.computeWorldVertices(k,h.vertices,0,x),d=tl.QUAD_TRIANGLES,c=b.uvs,E=b.region.texture,y=b.color}else if(C instanceof Yn){let b=C;h.vertices=this.vertices,h.numVertices=b.worldVerticesLength>>1,h.numFloats=h.numVertices*x,h.numFloats>h.vertices.length&&(h.vertices=this.vertices=V.newFloatArray(h.numFloats)),b.computeWorldVertices(k,0,b.worldVerticesLength,h.vertices,0,x),d=b.triangles,E=b.region.texture,c=b.uvs,y=b.color}else if(C instanceof zi){let b=C;l.clipStart(k,b);continue}else{l.clipEndWithSlot(k);continue}if(E){let b=k.color,T=this.tempColor;T.r=v.r*b.r*y.r,T.g=v.g*b.g*y.g,T.b=v.b*b.b*y.b,T.a=v.a*b.a*y.a,a&&(T.r*=T.a,T.g*=T.a,T.b*=T.a);let I=this.tempColor2;k.darkColor?(a?(I.r=k.darkColor.r*T.a,I.g=k.darkColor.g*T.a,I.b=k.darkColor.b*T.a):I.setFromColor(k.darkColor),I.a=a?1:0):I.set(0,0,0,1);let P=k.data.blendMode;if(P!=o&&(o=P,e.setBlendMode(o,a)),l.isClipping()){l.clipTriangles(h.vertices,h.numFloats,d,d.length,c,T,I,u);let O=new Float32Array(l.clippedVertices),X=l.clippedTriangles;s&&s(O,O.length,S),e.draw(E,O,X)}else{let O=h.vertices;if(u)for(let Y=2,L=0,M=h.numFloats;Y<M;Y+=S,L+=2)O[Y]=T.r,O[Y+1]=T.g,O[Y+2]=T.b,O[Y+3]=T.a,O[Y+4]=c[L],O[Y+5]=c[L+1],O[Y+6]=I.r,O[Y+7]=I.g,O[Y+8]=I.b,O[Y+9]=I.a;else for(let Y=2,L=0,M=h.numFloats;Y<M;Y+=S,L+=2)O[Y]=T.r,O[Y+1]=T.g,O[Y+2]=T.b,O[Y+3]=T.a,O[Y+4]=c[L],O[Y+5]=c[L+1];let X=h.vertices.subarray(0,h.numFloats);s&&s(h.vertices,h.numFloats,S),e.draw(E,X,d)}}l.clipEndWithSlot(k)}l.clipEnd()}};f(tl,"QUAD_TRIANGLES",[0,1,2,2,3,0]);let Ja=tl;const A=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],ls=[0,1,2,2,3,0],as=new W(1,1,1,1);class qp{constructor(e,t,r=!0){f(this,"context");f(this,"canvas");f(this,"camera");f(this,"batcher");f(this,"twoColorTint",!1);f(this,"batcherShader");f(this,"shapes");f(this,"shapesShader");f(this,"activeRenderer",null);f(this,"skeletonRenderer");f(this,"skeletonDebugRenderer");this.canvas=e,this.context=t instanceof tt?t:new tt(t),this.twoColorTint=r,this.camera=new Up(e.width,e.height),this.batcherShader=r?Bt.newTwoColoredTextured(this.context):Bt.newColoredTextured(this.context),this.batcher=new Zs(this.context,r),this.shapesShader=Bt.newColored(this.context),this.shapes=new Ch(this.context),this.skeletonRenderer=new Ja(this.context,r),this.skeletonDebugRenderer=new $a(this.context)}dispose(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()}begin(){this.camera.update(),this.enableRenderer(this.batcher)}drawSkeleton(e,t=!1,r=-1,i=-1,s=null){this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=t,this.skeletonRenderer.draw(this.batcher,e,r,i,s)}drawSkeletonDebug(e,t=!1,r){this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=t,this.skeletonDebugRenderer.draw(this.shapes,e,r)}drawTexture(e,t,r,i,s,l){this.enableRenderer(this.batcher),l||(l=as);var a=0;A[a++]=t,A[a++]=r,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=0,A[a++]=1,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a++]=0),A[a++]=t+i,A[a++]=r,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=1,A[a++]=1,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a++]=0),A[a++]=t+i,A[a++]=r+s,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=1,A[a++]=0,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a++]=0),A[a++]=t,A[a++]=r+s,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=0,A[a++]=0,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a]=0),this.batcher.draw(e,A,ls)}drawTextureUV(e,t,r,i,s,l,a,u,o,h){this.enableRenderer(this.batcher),h||(h=as);var c=0;A[c++]=t,A[c++]=r,A[c++]=h.r,A[c++]=h.g,A[c++]=h.b,A[c++]=h.a,A[c++]=l,A[c++]=a,this.twoColorTint&&(A[c++]=0,A[c++]=0,A[c++]=0,A[c++]=0),A[c++]=t+i,A[c++]=r,A[c++]=h.r,A[c++]=h.g,A[c++]=h.b,A[c++]=h.a,A[c++]=u,A[c++]=a,this.twoColorTint&&(A[c++]=0,A[c++]=0,A[c++]=0,A[c++]=0),A[c++]=t+i,A[c++]=r+s,A[c++]=h.r,A[c++]=h.g,A[c++]=h.b,A[c++]=h.a,A[c++]=u,A[c++]=o,this.twoColorTint&&(A[c++]=0,A[c++]=0,A[c++]=0,A[c++]=0),A[c++]=t,A[c++]=r+s,A[c++]=h.r,A[c++]=h.g,A[c++]=h.b,A[c++]=h.a,A[c++]=l,A[c++]=o,this.twoColorTint&&(A[c++]=0,A[c++]=0,A[c++]=0,A[c]=0),this.batcher.draw(e,A,ls)}drawTextureRotated(e,t,r,i,s,l,a,u,o){this.enableRenderer(this.batcher),o||(o=as);let h=t+l,c=r+a,d=-l,m=-a,y=i-l,v=s-a,S=d,p=m,w=d,g=v,x=y,k=v,C=y,E=m,b=0,T=0,I=0,P=0,O=0,X=0,Y=0,L=0;if(u!=0){let j=N.cosDeg(u),B=N.sinDeg(u);b=j*S-B*p,T=B*S+j*p,Y=j*w-B*g,L=B*w+j*g,O=j*x-B*k,X=B*x+j*k,I=O+(b-Y),P=X+(T-L)}else b=S,T=p,Y=w,L=g,O=x,X=k,I=C,P=E;b+=h,T+=c,I+=h,P+=c,O+=h,X+=c,Y+=h,L+=c;var M=0;A[M++]=b,A[M++]=T,A[M++]=o.r,A[M++]=o.g,A[M++]=o.b,A[M++]=o.a,A[M++]=0,A[M++]=1,this.twoColorTint&&(A[M++]=0,A[M++]=0,A[M++]=0,A[M++]=0),A[M++]=I,A[M++]=P,A[M++]=o.r,A[M++]=o.g,A[M++]=o.b,A[M++]=o.a,A[M++]=1,A[M++]=1,this.twoColorTint&&(A[M++]=0,A[M++]=0,A[M++]=0,A[M++]=0),A[M++]=O,A[M++]=X,A[M++]=o.r,A[M++]=o.g,A[M++]=o.b,A[M++]=o.a,A[M++]=1,A[M++]=0,this.twoColorTint&&(A[M++]=0,A[M++]=0,A[M++]=0,A[M++]=0),A[M++]=Y,A[M++]=L,A[M++]=o.r,A[M++]=o.g,A[M++]=o.b,A[M++]=o.a,A[M++]=0,A[M++]=0,this.twoColorTint&&(A[M++]=0,A[M++]=0,A[M++]=0,A[M]=0),this.batcher.draw(e,A,ls)}drawRegion(e,t,r,i,s,l){this.enableRenderer(this.batcher),l||(l=as);var a=0;A[a++]=t,A[a++]=r,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=e.u,A[a++]=e.v2,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a++]=0),A[a++]=t+i,A[a++]=r,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=e.u2,A[a++]=e.v2,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a++]=0),A[a++]=t+i,A[a++]=r+s,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=e.u2,A[a++]=e.v,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a++]=0),A[a++]=t,A[a++]=r+s,A[a++]=l.r,A[a++]=l.g,A[a++]=l.b,A[a++]=l.a,A[a++]=e.u,A[a++]=e.v,this.twoColorTint&&(A[a++]=0,A[a++]=0,A[a++]=0,A[a]=0),this.batcher.draw(e.page.texture,A,ls)}line(e,t,r,i,s,l){this.enableRenderer(this.shapes),this.shapes.line(e,t,r,i,s)}triangle(e,t,r,i,s,l,a,u,o,h){this.enableRenderer(this.shapes),this.shapes.triangle(e,t,r,i,s,l,a,u,o,h)}quad(e,t,r,i,s,l,a,u,o,h,c,d,m){this.enableRenderer(this.shapes),this.shapes.quad(e,t,r,i,s,l,a,u,o,h,c,d,m)}rect(e,t,r,i,s,l){this.enableRenderer(this.shapes),this.shapes.rect(e,t,r,i,s,l)}rectLine(e,t,r,i,s,l,a){this.enableRenderer(this.shapes),this.shapes.rectLine(e,t,r,i,s,l,a)}polygon(e,t,r,i){this.enableRenderer(this.shapes),this.shapes.polygon(e,t,r,i)}circle(e,t,r,i,s,l=0){this.enableRenderer(this.shapes),this.shapes.circle(e,t,r,i,s,l)}curve(e,t,r,i,s,l,a,u,o,h){this.enableRenderer(this.shapes),this.shapes.curve(e,t,r,i,s,l,a,u,o,h)}end(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null}resize(e){let t=this.canvas;var r=window.devicePixelRatio||1,i=Math.round(t.clientWidth*r),s=Math.round(t.clientHeight*r);if((t.width!=i||t.height!=s)&&(t.width=i,t.height=s),this.context.gl.viewport(0,0,t.width,t.height),e===zr.Expand)this.camera.setViewport(i,s);else if(e===zr.Fit){let l=t.width,a=t.height,u=this.camera.viewportWidth,o=this.camera.viewportHeight,h=o/u,c=a/l,d=h<c?u/l:o/a;this.camera.setViewport(l*d,a*d)}this.camera.update()}enableRenderer(e){this.activeRenderer!==e&&(this.end(),e instanceof Zs?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(Bt.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):e instanceof Ch?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(Bt.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)}}var zr;(function(n){n[n.Stretch=0]="Stretch",n[n.Expand=1]="Expand",n[n.Fit=2]="Fit"})(zr||(zr={}));let Jr,lr,Eh=0;const Gp=1,$l=1,bh=165,Th=108,Xn=163;class Qp{constructor(e){f(this,"renderer");f(this,"logo",null);f(this,"spinner",null);f(this,"angle",0);f(this,"fadeOut",0);f(this,"fadeIn",0);f(this,"timeKeeper",new _d);f(this,"backgroundColor",new W(.135,.135,.135,1));f(this,"tempColor",new W);if(this.renderer=e,this.timeKeeper.maxDelta=9,!lr){let t=navigator.userAgent.indexOf("Safari")>-1,r=()=>Eh++;lr=new Image,lr.src=Kp,t||(lr.crossOrigin="anonymous"),lr.onload=r,Jr=new Image,Jr.src=Zp,t||(Jr.crossOrigin="anonymous"),Jr.onload=r}}dispose(){var e,t;(e=this.logo)==null||e.dispose(),(t=this.spinner)==null||t.dispose()}draw(e=!1){if(Eh<2||e&&this.fadeOut>$l)return;this.timeKeeper.update();let t=Math.abs(Math.sin(this.timeKeeper.totalTime+.25));this.angle-=this.timeKeeper.delta*200*(1+1.5*Math.pow(t,5));let r=this.tempColor,i=this.renderer,s=i.canvas,l=i.context.gl;if(i.resize(zr.Expand),i.camera.position.set(s.width/2,s.height/2,0),i.batcher.setBlendMode(Pi.Normal,!0),e){if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>$l)return;r.setFromColor(this.backgroundColor),t=1-this.fadeOut/$l,t=1-(t-1)*(t-1),r.a*=t,r.a>0&&(i.camera.zoom=1,i.begin(),i.quad(!0,0,0,s.width,0,s.width,s.height,0,s.height,r,r,r,r),i.end())}else this.fadeIn+=this.timeKeeper.delta,this.backgroundColor.a>0&&(l.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),l.clear(l.COLOR_BUFFER_BIT)),t=1;t*=Math.min(this.fadeIn/Gp,1),r.set(t,t,t,t),this.logo||(this.logo=new Yi(i.context,lr),this.spinner=new Yi(i.context,Jr)),i.camera.zoom=Math.max(1,Xn/s.height),i.begin(),i.drawTexture(this.logo,(s.width-bh)/2,(s.height-Th)/2,bh,Th,r),this.spinner&&i.drawTextureRotated(this.spinner,(s.width-Xn)/2,(s.height-Xn)/2,Xn,Xn,Xn/2,Xn/2,this.angle,r),i.end()}}let Zp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAALKElEQVR42u2de2iW5R/GPzuqcwfnnKfNmafl5tTNHWzqNi3DEMQykcAoJSsySkspjSIk0iD/07Kf4R+FnVBDUTshZGpWUEJaaiWFgZlUFmXmIe3HNXthyebeZ77P9H13ffBG8Y8H7ut7vff93N/7fu4vGGPiFZiez/Qtw9lytJajfzfw9z/j+efPOv7cV8W+lUNY2a8T/ayTCRsWFLJA5rtUO1LLkV5p9LJeJizQiHeqnlOtmVFtdTGrrZkJCxYXsTgaI6r9MY4/UpNItW4mFDaXsTlaM6qVZlBq3UwofFrJp0HMWJ9DvXUzobCznJ1BzFjWlTLrZkJh/TDWBzFjTgo51s2EgnKI0Rrx+FiOWzNzVaym91Syx5qZsGBWb2ZFa0ZN6dbMhAWTcpkUrRmXD2K5NTNhgVbH0Zpxbl/mWjMTFvRIo0e0ZpzcncnWzISKtvmiMWNRJ4qslwmVXRXsas2Ix8ZwzFqZsGFREYtaM+Oaa1ljrUzYkJ9G/ok6TlzKjJWZVFor0y7c1Zu7WjLiqiGsskamXdHopyT4vALmzS9k/t19uHtKHlOSIMn6xAtARjIZ1sFcUSZ0Y4La+G6M18hS2IlCn4a+WoC0JNL0d/dUupdnUj40g6EJ2VEdMnhrOG/p5f/jUXz8SgmvaGU6KpNRNsLVQV0OdXf24s63h/P2gWoOrBjMCr2GJFQnnxnIM3q5P1PPmaYv+4ev4/C6UtbpV2gzXCkgL5W8Bwt48OIc6ul6Tp+s4+SyASxLiI4+PYCn1bHzDZxvaQW6vZzto7MYnQIpNkf7kp5EuozYUroqEjcNKHHd0Tl9mBPN1pk+hFeieGBnBtog7UXjsj9pWg+m6duecw2cay1OC/uxMC47KmP9OIYfoz1YoC20J/rzRG4quTZK2EAyJGs20qwUbYw0aNRmUxtvfUW/uEtNzc1NB1/X8LVyd15hh82F43AvD+VlXcsSJEZa1CQ3ejleAO7oxR3RDP0XN91X4+NXYb8nkv7UNTwV7e0YTdu7I3g33t7tuaEbNwSZpps2fSyvs4M2Tjhot+jb0Xzbltj8r5j/xVt/6Z1Ob93U1ZYO691EhhzchcHeXosVjcNZysyezLw4xRZt05R+fTeuj8vOj+zKyG0j2aZcVVs6v+QalnjrMFZASQYl2nBoSyz06e3j/Xk8rgWYmMvEICu2pm1HOTuc7okV8FgRj0XukwzanhvCc/F+72TjoQjdObN1OFuDLmh0xP+WHtxiI10ukJlCprb4guiv1fP+avZrS1C7NAkliHZjDtZwMMgqbukAltpMlwuMy2FcEBPqvfLLar5Uqi0hBdEwryy+Mv5n6zkbjTBa+dlMlwvUZFETZKGiFM7tvbhdJ3gSVRO0wzIjnxmvl/J6a6JsGMYGrahtpssFeqbR841S3mhN80OjOaSDEdqd6SjaMKgzgzRK7q1ib3PT9sYyNo7JZoyNFNvRcVMZmy7WOvIuryv/Zvdmdt90+nY0bRp3AvROohFwdwW7dTG7RFlbwlqdrbOBYg005NAQmZU0HWt1rXMBH1Xw0dQ8pmqzoaPmdhun7bHZjNVe9qP9eFQfO1VkUmHjhAVUZ1GtnKFSbjrkrPfy4i4UW5t/6ZxM54J0CqxFe81KpGsQyE4h23oYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjLna+bdOy+IiFquIpGq16Pb79cNYv3IIK/X/ugx+Ui6TVKvYVU9Nc8gX8od8Ir/IN/KPfCQ/yVfyl/6/pfJvLChkQdD6wyqntquCXYuKWJSfRr6D0dEAxV3xlw/khyD+kd/ku/88cHo+09tS3LBpO1HHCVUqcIA6CqB4K+6X6x35L/JM2loXurlWmUmlA5XogOIcK8/If5HncrSWo7F6cKIWPjT/RXGOlWfkv8hzaWsN4uaaysE6WIkOKM6x8oz8F3kusXqo2vxC5jtYiQ4ozrH0TeS5qIZcrB7qkrwdA8U5Vp6R/yLPZV8V+2L14Cl5THGwEh1QnGPlGfkv8lyUlIzFQ1cNYVVHrcjZ0VCcFe9Y+Eb+izy3ceclUl43aFN52DXXssYpnY6a4qFS8ZcP2uIf+e7inRh6pdFrdTGrm8uiHx/L8T2V7NGWzvJBLJ/bl7mTuzO5qBNFDoiJID/IF/KHfCK/yDfyT3O7d/KbfNfS80hNIrU0g9L6HOq1x5iTQo6FNpeLfCQ/yVfyl3xmXYwxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHNk9z4JwJ0SqKTdQkbyEwhU393T6V7zzR6pieR3tE1ITeVXImhe6BXDGZFdRbVeank2TBhcaEMr0rwbixj49IBLL2/L/ffmMuNHfqO9tFZjJYBd1ewO3Lx+IcVfKhqna5nHZYR6XFPH+5R3eeI5t9fx/fvjeC9Jdew5OKZKqFR/RDVKL6vL/f9PJafmyvHsL+a/ff24V6NmjZQbGchVbY6UM2BluqHv1rCqzVZ1KQlkZboepCdQvacPsz5bjTfXao+yMEaDt7Wk9tSIMVGig3TejCtJSM2bSpkPjWPqd1S6Zao+lORSYWmgkOjORRNwZqd5ezMSiHLRooNr5XwWjS6/1XHX9vL2T67N7M1iyXa9JCrYjVrS1gbpJyw6hBfsmiNCYT0P9/A+Wj1/6qGr5YNYFlJBiWJogEzezLz/ZG8/9s4fgtSyuvNYbyp1IONFBtu7sHNv4/j9yAxUHWrdaWsG9+N8XHd+YxkMpSy+aySz841cC5oXbmHCnnI74yxAgZ3YbDeB4PEQCOpBpFNZWwa2ZWRcdnxLsl00crtRB0n2lLg8JNRfDKoM4NsolgBSmw/UMADba1+qpmqfyf6x1u/0a/og3I+aEunP6/i86osqmygcGarF4p54dex/Bo0LqfqOfVwIQ/HW5/RSkwV1oN2WLlHTc82TljAwM4M1O5LWwYKZTjibYXNS0N5KcjKTe10PadfLObFuJwK4ozp+UzXDBTUjL+M5ZcBnRkQV53dMIwNQTu6bSTbVEzbi5awuVByd2E/FgaN0Tc1fKOzBHHV2aAdVSdv6s5NNkp7cSH/++xAng2yyHx+CM/H21YhfdPp+0U1X0TbSZnXx8faG9Aop0MS0cToh1p+iLcpOkLj9t/JOk5eqoPHxnDsyf486an5yqCDK7XZ1O4oZ4dWyy3FSXHUAYq47uyYbMZoGmhpG3DlEFb6uNiVBhpyaHhnBO8oJmfqOROJjzIiP43hJ8UxITqqX56S2Hur2KsOnq3nrE6PPNKPRwrSKbAZrjTQNZmuE7oxYXMZmxWbw9dxWFu4W4ezVedOE6qzI7oyYkY+M7TPeWsPbk2UX1qioSN+E3OZqOR2cReKE+qQRFN0Pi7y73g/UawU1KzezJpXwLz5hczX1ueUPKYkNb6GJQZ+j7/aAfRZREsv+quGsMoamXZBW2Gt5eU0alorEzYsKmJRa/m4NdeyxlqZsCGa84DKnVorEzboC7podis69DfIJmwufHMc7famvvmxZiYsKOtKWbRm1OcW1syEBboSJFozLh/EcmtmwgIluaM14/phrLdmJixYXMTiaM24p5I91syEBTphFOR7Y2tmwgJNvUFOr+tov3UzoaAv44KYUatv62ZCoemdhtG0+hzqrZsJBR08DWLG0gxKrZu50qvpxos3U5NItW4mFPp1ot+lPlpq2lYXs9qamVBZUMiC1ox4pJYjvlfStAu6GmTLcLboMtPIV4/6im5fFfuUi9QIap2MiWP+D96R1vPmsD/fAAAAAElFTkSuQmCC",Kp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAQ7klEQVR42u3da4xdVRUA4D0zd2Y6nZY59DVtZ1puS9+lzC0YAi2UQ8AAQczFpPgA9VIeIQbirRqJ0cBUBVGjDr/QCKSNRSMmpuODxAdxqhgwxkhFjf6Sxh/+UUNVNGJCzR7uTvas7LXX2q9zzp3em6y0gTN3Zu75utZe5+yztxC9V+/Ve5X9En1Vjd7J6SFbLNF7naPw+l2jh7YHMBWssqMHtlsRdim4qsLtIawaPiHEQOLoNrA9iIkQDnRrVA1qD2LZ8ISoxYqKo13sQAtBWBayQWZUAXGRQM9JjCngDVY0UqJNDbQrMcaGmArdUKpIjbYiQLsCZCyIMQBy8QwnilR4Q5AuCpxFYvRFmBLbEiwKwpsSaWycVQGZBKMrwBjA9BhxDe57u2L2hOoKNCbOrgAZitEVYUxoKSMErQvSxYIzCkguRg5EF4AUhqUlhy/YUKSxcRaKsioYOQhD4I0yYxkR3PcJBcuFysmgsXAWBTMJyBCMIQh9kGGxXIXvexCQXbHGAMrBWTbM2CCpMSMLIxehC77lSJwXGth7M0FzoVJIXXDWQnGmhOkL0ic7YhhtWdGGkAuPAjUWGoF4faCmwBkbZmyUqUCyMqMLRA4+E6IsdTjidUHKBYrh9CnpRcH0ypKxsyOGEYNIIeTCOz91OIJ1QYoB5eAMyZo+MFNnyVTZ0YiRC9EGEMOyAgshxErHsL2XK1gOUgwohtM1a5YNM7Rsu4K0ZkcbRm4mpPBRwFZ5hg9eCqkrUB+csWGGogzNkqEgrdnRhpGLkINudaLgwvVB6oqzCjCTZElb2Y4B0gUjBtEG0ARnDRLjjoG9DwcshtQGlIPTljVjwUySLWNkyRCQVHa0ZUUTRAwgF91a33BEy0VKAcVwwqwZC2bqbOlUurllOxQkJzNyINoAYqjWhYYjWg5SCiiG05Q1U8FMjTIoS8YE6YORi1BHtJ4KIcQEEtTXUWAxpK44YVlPBdO1jCdFWTZIE8bVGEYMIRPcZGBw4HKQcoBiOE1ZMzbMgVQwU6JMAdKEEcuIJogUvg1YCCE2gsCO42DlIIVAKZwpYJaSLVNnSU6XjYHUmxhTmXaFaMO3EYkLqMC+FsLlIoVAKZzMrEnBhJeLfLNlKMrYWRIDCbOkFSSVHbHM6AKRC6/ODUewNqQ+OLlZkxpjUmV8MBbMUJSxyzY3Q1IgTRgxiBRCHdem0KDAUkBh9sRwwjEnAXMMgTnKhFlUtiwkS5rGka4g9SaGgxFmRC7AzTCEEBcyA36dDSsXqAtOLkysjGMwY5XxVChjZ0kuSCo7YlkRQsQQYtDEFsegsLoCxUp7Kpgps2UslFGzJGccSYHUmxhOZqwzEZqAbfUMCisHKIZzgsCpl3MTzMwTpi1bYp2477gyFKUxS7qWbdjY2EBS2dGE0QQRA7gNCyHEdhjE8RhUDlBT9tzgmjWZMFNlSy+Urk1OzCyJlW0XkK4YOQh1cDtcgwBrQmoDWkdgboBZE8mYsJSHlnFbJ+5bwmOPJ7lZkirbC8aRsMvmgtTHjBhGE0QbwJ2egUE1ITVlUC5OmDVdYNrKuN70xM6WoShjlW4464dbtiFIWK6x7GjESEHUUe0iYncnbMdQSE0Z1ITTNOb0hRmjjLtmS9dmJ2rp1jtuKktyyrb6YLEMCUHq2dGG0QQRQ7f72kzc+cJecerne8Wvv7JNPHPvenEkz8Sh3UtFc92QyGt9Yko/HgOLAIUZlItTz5ouMF3KuE+2jFLCQ1D6lm6fLMkBacuOJowYRBUXyfjuHjF3NhdnsfjvAfH6E9vFt9XxKgikEKgJZyyYalzOLeMu2bLbULI6bh+QGwmQ+rgRlumdGEQAao+K56bEL2woVUwOiev0r8OAUjiJrMmFCbvykGxZRAmPitK1dHM7bohyMsuyi/I8f0+e57fJYIKEZXpXo9E4mOf5XTKyLLvCBLETF8uY2SKepkC+dpX4T02Ivepr4HvZcOZ5fmee54fyPL+DmTUhzAs6n4n8bN5dr9f3YdkSg8nsxG0lPBVKVpNjG0/aGhzfLDmRZdnumZmZp8+c+cdZPV555fSr7Xb7s0jJ3i5Pcue4MxKkPPkvvXTqz/B92u32l0wYOzG1fkhcd/py8Rcbyq/vFM/KY1WA95h/3zzP71bfU6JsNpsfgj+P/FlbrdaDGExYyuXvLz8H+DudODH700ajcSM3W6Yu4alQ1spCOTd38jcKocTZbh9+9NixY99XJ8AEUkcpo9W64yH197m5k7+bnZ19QT+J09NHntQhwji/Jg58qi6++ofLxJ8gSFneVw2Ka4QQDfh1Ok4dZavVmtZ/nrm5k7/Vf55O1tRhboUw5+ZOvqyOl5+R/FyOHj32PYVU/tloNG5IXcKrhJIzngwp3fNjomazea/64BuNxts646f50lWv169utw9/DmtqdJQyZFaSJVuV6nq9fqMEof5/vV6/CYBqgJDlee+yAbF/+4i4ZWqZeNfaIfHWzn+Hx0KcEuU9+s8jv3ej0bhVlXOZydX/k0iRMeb8P0D5e6tj8zy/Xb9UJIc56h/yqVOnXul8lmuZ2bJslKmbHG7XrbpCmCXFRLvdfqQD6jTS3Jiy5I4OykM6ADV+1Eu1DmV6evopBORexzDi1L+X/HnGxsb2w3Hm9PSRJ9QxWPOTZdmlKht2hi+w6dkox5bqffI8fye3hDteGqKaHVsHXihKl0tB+h0cY+lute54AGRKDCW89LNTRynHb7ChUWVVjetOnJh9EYBUyPZeNCoOtsbFQwdXi4/esELcd+tq8cCHJ8UXp+viy9efLz7AgamjlKXc1AA1m83DoIRDlFubzeb96hhZLVTlgJ24gttutx+ONa50bHZKRenaeTs1OfpAfnr6yOOdE7EZdNwmlKocntXLNkA5JTGq47Ds+Lf94lWsyfnXleLfnIwJUN4DOnNYwuUxh2A3Ln9XULrfK8t3J27Tu3BVwiOjXJqoAy8UZej1yclGo3GTLN+gu3w+z/P3YaWbQqk3Ne12e4ZC+c8rxWsYytcPiP9RpZxCqWDKnxOiBNlyAUpOnGsoh4tA2Rm8X9xqtT6md5wyZmYe+0YRKL+1S/wYQ3n8zctBl5SBUv5djivfjMOPduIzcizeiYfr9foVvUwZG+XCuzibZKnSceZ5/v4QlKp8y7ElhnJlTeTP7BI/kllRYfzrfvHqFy4UX1vaL/aVlSmROzwbwdS29T2UcEwZF+V8ozM2lu1VY812u/15akypGh3TmFJesJbHHD167IdUxz3YJy5bNySuX1mbvy55CbMLtzU6tjGlsdFptVqfUMc0Go23F4wy1l2dSnbfvpMwVPe9WWVLDsrOJaF9MFu2Wq1PqmNkGce67xiXhTjdNwdlvV6/BgxfbPfBfVCetxi6b9/rlCup65QzM48dl2OjLMv26CibzeZ96sTIzEFdpwQXz9U1yrtVlpR/Zll2Fec65Y6l4pbbx8XHH9kknvzJlPjlHy8Tp29eKT5ou0aJoIT3w3dBlLDzVpfAJEZ1XOdaJZxnOSlvPMjPzxFljIvng914RwebsjYO7uhMyHu46sOfnf3Oz2TXDW6vvYxdFoIXz3Wc8J5zs9n8iOn2IrxTc2BM3Glqdp7dI553uaOjxrhwcob+MyuUpjs6WZZdon8OcigjPx8V+u+GTWFTSWEx3WYcdJ225jNDSE4q0GHCzlueHOyujn6bUWYgeb9ZZUaQPe+GzQ+Gc8+oOGhC+c1d4gfI16n3XDAhQ7+9qE9l01E2Go132GYKyXE1NiFDTcpoNpv3LOYJGWXNErJNW9sEp63p2RKiVPMn1bS1DgxsyhoGdGpmizj+xtXiDYnx7/vFmce3iWdW1cTVGEY4hQ2ZW0nNq8Qm/M6XbXm3S100lwGedFybuvNOibLI+ZS2ceU4eAxiEuvCkfmU8ycToDxETe6FgCBQHeqyAbFvfEhcO7BwDuXFCEbTZF840XeHK0jYcbs2OIGle0mVJ/mmnClEPQqxyTY5I8/zFhif7fSZee4bnrPOU4AssnRXHaVTCTd14dRDY3UbTIiSeFhsN/aMjgnqthFx880rxX3yATL5p3y4LPXzOaBkUyBjZMlYpbtQlIOBD475ZEusjMNSvkXe6VEoJVDkeZ2dzIfIFsRzU+JF2OyM9M9fTC/6SUYOyFQPjQ2nWiUjxnPfw5EeHqMWIqAeIFsAU847lJM2JM6xsewt1OIDLs99P7ZFHNdB/upS8XtPiD7PfLuCXJNolYyyFiNI/Zit65ItrOVafFbHcFohY7hPTN21Tjz4uc3iqfsnxKdX1MTl1OoYRFaMsToGB6Trw2JFP/OdZC2hJZ7ZkrMoAbbSGmelDJ91hFKuJeS7jlBMkJnrAqqJlgMUZS/dArPlGHNdSg5M3xXXtvquuEatvIYtDRhpxbUJuIgqsU5lGWtUploK0KuEU9mSW8YpmFQ556xNuYW7NiW13B+FkMiKHIy+C6eGgBxJvMR0oSv5hi6+z4HJyZoU0M2RVvDlrOQbcxVfX5AhZbuqy0v7ZstYMLHlAVlLTF9ALLbvu9Y5Zylpn/XOsd0ibIvxr2KCLHpp6SCUIdnSZSF+WzfOhem6GD+1KwR3Z4jNjrtDpNoZwmWd8yrupZN6Hx3fbMmFSe0Swdq2ZIPjxk1112Duo8OBGLrBkw/IoncdK2XHsdC9dHz204m50xh3tzFq1zFqtzHXrfCw7OgDsqyNnZLszVijsmXgrmNcmGtS78lIoMX2aJz03fKO2sDJddPQSCDPiQ1DfWBycY6XtXstc2PQKuxgG2McmXTPb9/9vmuJYXKyJrWjbeg+3xPM4O73nWqvbyw7xgZZSJbEUBa157cNJjdr2vb+5iA1YV3HxYscj30PDCEHIgcjtfm8K8hSsmRotkwFk5s1TTghUAopB6xrjHMBBkI0YYTZ0dZlxwLpkiWDULpmy5gwqayZgZNkA7oKQQCxctByYg0XIIEQQuRitGVHblMTA2ShKGPDpC6wu+DEgJqg2rDGDBtAF4Q6RAojp1xXGmSMbImVcR+YWNY04eQCtUG1ofUJ2/uvcETIgUhhdAE5GAlkKShjwHTNmhhODKgJqQ2sC14uOgyfD0IbRF+MlQaZAiZWyn2yJsTJATqGnHQO2Jhh+xlsACFCG0QbRtdyzQFZCZSxYPpmTS7Q5cjJHYNBYIkZpu99HoUQ/o4QIYSIZUZfjJ4ZMjZI32wZBDMU5yhy8pZTULl4XYP5fagMyEVoy4oupTpGduwnkloSlKEwY+AcQU4MhRTD6ovXBRwFzwWgCSEF0QVjJUGmgEllTS5OLlCIlIN1mS9mx/cZ5eLDALpCTI2RAhkTZQqYoTgpoCPECbaBHQ2ETL3PUl98ECAXYijG0OyYAmQoTG7W5ODkAF1CnVgm2JQx4okPA+gCMTbGskBGgRmaOblAh5GTORIrfKFx4VH4EIAxIXIxlg2SBbMvECY3e7oApbDaIgQu5/2HmeEKEINYiwSRi7EQkLFgumZOCuggctKGI4ULZN/vMeSLj0AYMytWEqMLzFg4fYDaoKaC6wvOFR4FkIPQFaILxrJAOsHsc/zlfYDWXE8qF22s8Pz5KHxcgEVALBtjJXBSSEOwFhk1Zgy4hitCT4hVw+gFs8/zwxqIBbUgyK7fcyA0PD9XX4iVxhiC0xdof6STWCsoBmKF7+cVCWFXQYyBMxRpf+STX1b0x45AhN0OMSrOGEirhrY/dfQAdjvS7oy+WCF6r1RIFxXWvlTRg1YVqFWBmxZbD99ig9pt0YPQw9rD1nstVri9V+/Ve3XrS/wfim4P5fIFxLoAAAAASUVORK5CYII=";class $p{constructor(e,t){f(this,"config");f(this,"parent");f(this,"dom");f(this,"canvas",null);f(this,"context",null);f(this,"sceneRenderer",null);f(this,"loadingScreen",null);f(this,"assetManager",null);f(this,"bg",new W);f(this,"bgFullscreen",new W);f(this,"playerControls",null);f(this,"timelineSlider",null);f(this,"playButton",null);f(this,"skinButton",null);f(this,"animationButton",null);f(this,"playTime",0);f(this,"selectedBones",[]);f(this,"cancelId",0);f(this,"popup",null);f(this,"error",!1);f(this,"skeleton",null);f(this,"animationState",null);f(this,"paused",!0);f(this,"speed",1);f(this,"time",new _d);f(this,"stopRequestAnimationFrame",!1);f(this,"disposed",!1);f(this,"viewport",{});f(this,"currentViewport",{});f(this,"previousViewport",{});f(this,"viewportTransitionStart",0);f(this,"eventListeners",[]);this.config=t;let r=typeof e=="string"?document.getElementById(e):e;if(r==null)throw new Error("SpinePlayer parent not found: "+e);this.parent=r,t.showControls===void 0&&(t.showControls=!0);let i=t.showControls?`
<div class="spine-player-controls spine-player-popup-parent spine-player-controls-hidden">
<div class="spine-player-timeline"></div>
<div class="spine-player-buttons">
<button class="spine-player-button spine-player-button-icon-pause"></button>
<div class="spine-player-button-spacer"></div>
<button class="spine-player-button spine-player-button-icon-speed"></button>
<button class="spine-player-button spine-player-button-icon-animations"></button>
<button class="spine-player-button spine-player-button-icon-skins"></button>
<button class="spine-player-button spine-player-button-icon-settings"></button>
<button class="spine-player-button spine-player-button-icon-fullscreen"></button>
<img class="spine-player-button-icon-spine-logo" src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20104%2031.16%22%3E%3Cpath%20d%3D%22M104%2012.68a1.31%201.31%200%200%201-.37%201%201.28%201.28%200%200%201-.85.31H91.57a10.51%2010.51%200%200%200%20.29%202.55%204.92%204.92%200%200%200%201%202%204.27%204.27%200%200%200%201.64%201.26%206.89%206.89%200%200%200%202.6.44%2010.66%2010.66%200%200%200%202.17-.2%2012.81%2012.81%200%200%200%201.64-.44q.69-.25%201.14-.44a1.87%201.87%200%200%201%20.68-.2.44.44%200%200%201%20.27.04.43.43%200%200%201%20.16.2%201.38%201.38%200%200%201%20.09.37%204.89%204.89%200%200%201%200%20.58%204.14%204.14%200%200%201%200%20.43v.32a.83.83%200%200%201-.09.26%201.1%201.1%200%200%201-.17.22%202.77%202.77%200%200%201-.61.34%208.94%208.94%200%200%201-1.32.46%2018.54%2018.54%200%200%201-1.88.41%2013.78%2013.78%200%200%201-2.28.18%2010.55%2010.55%200%200%201-3.68-.59%206.82%206.82%200%200%201-2.66-1.74%207.44%207.44%200%200%201-1.63-2.89%2013.48%2013.48%200%200%201-.55-4%2012.76%2012.76%200%200%201%20.57-3.94%208.35%208.35%200%200%201%201.64-3%207.15%207.15%200%200%201%202.58-1.87%208.47%208.47%200%200%201%203.39-.65%208.19%208.19%200%200%201%203.41.64%206.46%206.46%200%200%201%202.32%201.73%207%207%200%200%201%201.3%202.54%2011.17%2011.17%200%200%201%20.43%203.13zm-3.14-.93a5.69%205.69%200%200%200-1.09-3.86%204.17%204.17%200%200%200-3.42-1.4%204.52%204.52%200%200%200-2%20.44%204.41%204.41%200%200%200-1.47%201.15A5.29%205.29%200%200%200%2092%209.75a7%207%200%200%200-.36%202zM80.68%2021.94a.42.42%200%200%201-.08.26.59.59%200%200%201-.25.18%201.74%201.74%200%200%201-.47.11%206.31%206.31%200%200%201-.76%200%206.5%206.5%200%200%201-.78%200%201.74%201.74%200%200%201-.47-.11.59.59%200%200%201-.25-.18.42.42%200%200%201-.08-.26V12a9.8%209.8%200%200%200-.23-2.35%204.86%204.86%200%200%200-.66-1.53%202.88%202.88%200%200%200-1.13-1%203.57%203.57%200%200%200-1.6-.34%204%204%200%200%200-2.35.83A12.71%2012.71%200%200%200%2069.11%2010v11.9a.42.42%200%200%201-.08.26.59.59%200%200%201-.25.18%201.74%201.74%200%200%201-.47.11%206.51%206.51%200%200%201-.78%200%206.31%206.31%200%200%201-.76%200%201.88%201.88%200%200%201-.48-.11.52.52%200%200%201-.25-.18.46.46%200%200%201-.07-.26v-17a.53.53%200%200%201%20.03-.21.5.5%200%200%201%20.23-.19%201.28%201.28%200%200%201%20.44-.11%208.53%208.53%200%200%201%201.39%200%201.12%201.12%200%200%201%20.43.11.6.6%200%200%201%20.22.19.47.47%200%200%201%20.07.26V7.2a10.46%2010.46%200%200%201%202.87-2.36%206.17%206.17%200%200%201%202.88-.75%206.41%206.41%200%200%201%202.87.58%205.16%205.16%200%200%201%201.88%201.54%206.15%206.15%200%200%201%201%202.26%2013.46%2013.46%200%200%201%20.31%203.11z%22%20fill%3D%22%23fff%22%2F%3E%3Cpath%20d%3D%22M43.35%202.86c.09%202.6%201.89%204%205.48%204.61%203%20.48%205.79.24%206.69-2.37%201.75-5.09-2.4-3.82-6-4.39s-6.31-2.03-6.17%202.15zm1.08%2010.69c.33%201.94%202.14%203.06%204.91%203s4.84-1.16%205.13-3.25c.53-3.88-2.53-2.38-5.3-2.3s-5.4-1.26-4.74%202.55zM48%2022.44c.55%201.45%202.06%202.06%204.1%201.63s3.45-1.11%203.33-2.76c-.21-3.06-2.22-2.1-4.26-1.66S47%2019.6%2048%2022.44zm1.78%206.78c.16%201.22%201.22%202%202.88%201.93s2.92-.67%203.13-2c.4-2.43-1.46-1.53-3.12-1.51s-3.17-.82-2.89%201.58z%22%20fill%3D%22%23ff4000%22%2F%3E%3Cpath%20d%3D%22M35.28%2013.16a15.33%2015.33%200%200%201-.48%204%208.75%208.75%200%200%201-1.42%203%206.35%206.35%200%200%201-2.32%201.91%207.14%207.14%200%200%201-3.16.67%206.1%206.1%200%200%201-1.4-.15%205.34%205.34%200%200%201-1.26-.47%207.29%207.29%200%200%201-1.24-.81q-.61-.49-1.29-1.15v8.51a.47.47%200%200%201-.08.26.56.56%200%200%201-.25.19%201.74%201.74%200%200%201-.47.11%206.47%206.47%200%200%201-.78%200%206.26%206.26%200%200%201-.76%200%201.89%201.89%200%200%201-.48-.11.49.49%200%200%201-.25-.19.51.51%200%200%201-.07-.26V4.91a.57.57%200%200%201%20.06-.27.46.46%200%200%201%20.23-.18%201.47%201.47%200%200%201%20.44-.1%207.41%207.41%200%200%201%201.3%200%201.45%201.45%200%200%201%20.43.1.52.52%200%200%201%20.24.18.51.51%200%200%201%20.07.27V7.2a18.06%2018.06%200%200%201%201.49-1.38%209%209%200%200%201%201.45-1%206.82%206.82%200%200%201%201.49-.59%207.09%207.09%200%200%201%204.78.52%206%206%200%200%201%202.13%202%208.79%208.79%200%200%201%201.2%202.9%2015.72%2015.72%200%200%201%20.4%203.51zm-3.28.36a15.64%2015.64%200%200%200-.2-2.53%207.32%207.32%200%200%200-.69-2.17%204.06%204.06%200%200%200-1.3-1.51%203.49%203.49%200%200%200-2-.57%204.1%204.1%200%200%200-1.2.18%204.92%204.92%200%200%200-1.2.57%208.54%208.54%200%200%200-1.28%201A15.77%2015.77%200%200%200%2022.76%2010v6.77a13.53%2013.53%200%200%200%202.46%202.4%204.12%204.12%200%200%200%202.44.83%203.56%203.56%200%200%200%202-.57A4.28%204.28%200%200%200%2031%2018a7.58%207.58%200%200%200%20.77-2.12%2011.43%2011.43%200%200%200%20.23-2.36zM12%2017.3a5.39%205.39%200%200%201-.48%202.33%204.73%204.73%200%200%201-1.37%201.72%206.19%206.19%200%200%201-2.12%201.06%209.62%209.62%200%200%201-2.71.36%2010.38%2010.38%200%200%201-3.21-.5A7.63%207.63%200%200%201%201%2021.82a3.25%203.25%200%200%201-.66-.43%201.09%201.09%200%200%201-.3-.53%203.59%203.59%200%200%201-.04-.93%204.06%204.06%200%200%201%200-.61%202%202%200%200%201%20.09-.4.42.42%200%200%201%20.16-.22.43.43%200%200%201%20.24-.07%201.35%201.35%200%200%201%20.61.26q.41.26%201%20.56a9.22%209.22%200%200%200%201.41.55%206.25%206.25%200%200%200%201.87.26%205.62%205.62%200%200%200%201.44-.17%203.48%203.48%200%200%200%201.12-.5%202.23%202.23%200%200%200%20.73-.84%202.68%202.68%200%200%200%20.26-1.21%202%202%200%200%200-.37-1.21%203.55%203.55%200%200%200-1-.87%208.09%208.09%200%200%200-1.36-.66l-1.56-.61a16%2016%200%200%201-1.57-.73%206%206%200%200%201-1.37-1%204.52%204.52%200%200%201-1-1.4%204.69%204.69%200%200%201-.37-2%204.88%204.88%200%200%201%20.39-1.87%204.46%204.46%200%200%201%201.16-1.61%205.83%205.83%200%200%201%201.94-1.11A8.06%208.06%200%200%201%206.53%204a8.28%208.28%200%200%201%201.36.11%209.36%209.36%200%200%201%201.23.28%205.92%205.92%200%200%201%20.94.37%204.09%204.09%200%200%201%20.59.35%201%201%200%200%201%20.26.26.83.83%200%200%201%20.09.26%201.32%201.32%200%200%200%20.06.35%203.87%203.87%200%200%201%200%20.51%204.76%204.76%200%200%201%200%20.56%201.39%201.39%200%200%201-.09.39.5.5%200%200%201-.16.22.35.35%200%200%201-.21.07%201%201%200%200%201-.49-.21%207%207%200%200%200-.83-.44%209.26%209.26%200%200%200-1.2-.44%205.49%205.49%200%200%200-1.58-.16%204.93%204.93%200%200%200-1.4.18%202.69%202.69%200%200%200-1%20.51%202.16%202.16%200%200%200-.59.83%202.43%202.43%200%200%200-.2%201%202%202%200%200%200%20.38%201.24%203.6%203.6%200%200%200%201%20.88%208.25%208.25%200%200%200%201.38.68l1.58.62q.8.32%201.59.72a6%206%200%200%201%201.39%201%204.37%204.37%200%200%201%201%201.36%204.46%204.46%200%200%201%20.37%201.8z%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E">
</div></div>`:"";this.parent.appendChild(this.dom=xn(`<div class="spine-player" style="position:relative;height:100%"><canvas class="spine-player-canvas" style="display:block;width:100%;height:100%"></canvas>${i}</div>`));try{this.validateConfig(t)}catch(s){this.showError(s.message,s)}this.initialize(),this.addEventListener(window,"resize",()=>this.drawFrame(!1)),requestAnimationFrame(()=>this.drawFrame())}dispose(){var r,i,s;(r=this.sceneRenderer)==null||r.dispose(),(i=this.loadingScreen)==null||i.dispose(),(s=this.assetManager)==null||s.dispose();for(var e=0;e<this.eventListeners.length;e++){var t=this.eventListeners[e];t.target.removeEventListener(t.event,t.func)}this.parent.removeChild(this.dom),this.disposed=!0}addEventListener(e,t,r){this.eventListeners.push({target:e,event:t,func:r}),e.addEventListener(t,r)}validateConfig(e){if(!e)throw new Error("A configuration object must be passed to to new SpinePlayer().");if(e.skelUrl&&(e.binaryUrl=e.skelUrl),!e.jsonUrl&&!e.binaryUrl)throw new Error("A URL must be specified for the skeleton JSON or binary file.");if(!e.atlasUrl)throw new Error("A URL must be specified for the atlas file.");if(e.backgroundColor||(e.backgroundColor=e.alpha?"00000000":"000000"),e.fullScreenBackgroundColor||(e.fullScreenBackgroundColor=e.backgroundColor),e.backgroundImage&&!e.backgroundImage.url&&(e.backgroundImage=void 0),e.premultipliedAlpha===void 0&&(e.premultipliedAlpha=!0),e.preserveDrawingBuffer===void 0&&(e.preserveDrawingBuffer=!1),e.mipmaps===void 0&&(e.mipmaps=!0),e.debug||(e.debug={bones:!1,clipping:!1,bounds:!1,hulls:!1,meshes:!1,paths:!1,points:!1,regions:!1}),e.animations&&e.animation&&e.animations.indexOf(e.animation)<0)throw new Error("Animation '"+e.animation+"' is not in the config animation list: "+Jl(e.animations));if(e.skins&&e.skin&&e.skins.indexOf(e.skin)<0)throw new Error("Default skin '"+e.skin+"' is not in the config skins list: "+Jl(e.skins));e.viewport||(e.viewport={}),e.viewport.animations||(e.viewport.animations={}),e.viewport.debugRender===void 0&&(e.viewport.debugRender=!1),e.viewport.transitionTime===void 0&&(e.viewport.transitionTime=.25),e.controlBones||(e.controlBones=[]),e.showLoading===void 0&&(e.showLoading=!0),e.defaultMix===void 0&&(e.defaultMix=.25)}initialize(){let e=this.config,t=this.dom;if(!e.alpha){let r=e.backgroundColor;this.dom.style.backgroundColor=(r.charAt(0)=="#"?r:"#"+r).substr(0,7)}try{this.canvas=Jt(t,"spine-player-canvas"),this.context=new tt(this.canvas,{alpha:e.alpha,preserveDrawingBuffer:e.preserveDrawingBuffer}),this.sceneRenderer=new qp(this.canvas,this.context,!0),e.showLoading&&(this.loadingScreen=new Qp(this.sceneRenderer))}catch(r){return this.showError(`Sorry, your browser does not support 
Please use the latest version of Firefox, Chrome, Edge, or Safari.`,r),null}if(this.assetManager=new Vp(this.context,"",e.downloader),e.rawDataURIs)for(let r in e.rawDataURIs)this.assetManager.setRawDataURI(r,e.rawDataURIs[r]);if(e.jsonUrl?this.assetManager.loadJson(e.jsonUrl):this.assetManager.loadBinary(e.binaryUrl),this.assetManager.loadTextureAtlas(e.atlasUrl),e.backgroundImage&&this.assetManager.loadTexture(e.backgroundImage.url),this.bg.setFromString(e.backgroundColor),this.bgFullscreen.setFromString(e.fullScreenBackgroundColor),e.showControls){this.playerControls=t.children[1];let r=this.playerControls.children,i=r[0],s=r[1].children;this.playButton=s[0];let l=s[2];this.animationButton=s[3],this.skinButton=s[4];let a=s[5],u=s[6],o=s[7];this.timelineSlider=new Ah,i.appendChild(this.timelineSlider.create()),this.timelineSlider.change=v=>{this.pause();let p=this.animationState.getCurrent(0).animation.duration*v;this.animationState.update(p-this.playTime),this.animationState.apply(this.skeleton),this.skeleton.updateWorldTransform(),this.playTime=p},this.playButton.onclick=()=>this.paused?this.play():this.pause(),l.onclick=()=>this.showSpeedDialog(l),this.animationButton.onclick=()=>this.showAnimationsDialog(this.animationButton),this.skinButton.onclick=()=>this.showSkinsDialog(this.skinButton),a.onclick=()=>this.showSettingsDialog(a);let h=this.canvas.clientWidth,c=this.canvas.clientHeight,d=this.canvas.style.width,m=this.canvas.style.height,y=!1;u.onclick=()=>{let v=()=>{y=!y,y||(this.canvas.style.width=h+"px",this.canvas.style.height=c+"px",this.drawFrame(!1),requestAnimationFrame(()=>{this.canvas.style.width=d,this.canvas.style.height=m}))},S=t;S.onfullscreenchange=v,S.onwebkitfullscreenchange=v;let p=document;p.fullscreenElement||p.webkitFullscreenElement||p.mozFullScreenElement||p.msFullscreenElement?p.exitFullscreen?p.exitFullscreen():p.mozCancelFullScreen?p.mozCancelFullScreen():p.webkitExitFullscreen?p.webkitExitFullscreen():p.msExitFullscreen&&p.msExitFullscreen():(h=this.canvas.clientWidth,c=this.canvas.clientHeight,d=this.canvas.style.width,m=this.canvas.style.height,S.requestFullscreen?S.requestFullscreen():S.webkitRequestFullScreen?S.webkitRequestFullScreen():S.mozRequestFullScreen?S.mozRequestFullScreen():S.msRequestFullscreen&&S.msRequestFullscreen())},o.onclick=()=>window.open("http://esotericsoftware.com")}return t}loadSkeleton(){if(this.error)return;this.assetManager.hasErrors()&&this.showError(`Error: Assets could not be loaded.
`+Jl(this.assetManager.getErrors()));let e=this.config,t=this.assetManager.require(e.atlasUrl),r=this.context.gl,i=r.getExtension("EXT_texture_filter_anisotropic"),s=r.getParameter(r.VERSION).indexOf("WebGL 1.0")!=-1;for(let c of t.pages){let d=c.minFilter;var l=e.mipmaps,a=N.isPowerOfTwo(c.width)&&N.isPowerOfTwo(c.height);s&&!a&&(l=!1),l&&(i?(r.texParameterf(r.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,8),d=Me.MipMapLinearLinear):d=Me.Linear,c.texture.setFilters(d,Me.Nearest)),d!=Me.Nearest&&d!=Me.Linear&&c.texture.update(!0)}let u;if(e.jsonUrl)try{let c=this.assetManager.remove(e.jsonUrl);if(!c)throw new Error("Empty JSON data.");if(e.jsonField&&(c=c[e.jsonField],!c))throw new Error("JSON field does not exist: "+e.jsonField);u=new Dp(new gh(t)).readSkeletonData(c)}catch(c){this.showError(`Error: Could not load skeleton JSON.
${c.message}`,c);return}else{let c=this.assetManager.remove(e.binaryUrl),d=new fp(new gh(t));try{u=d.readSkeletonData(c)}catch(m){this.showError(`Error: Could not load skeleton binary.
${m.message}`,m);return}}this.skeleton=new Ga(u);let o=new rp(u);o.defaultMix=e.defaultMix,this.animationState=new Ha(o),e.controlBones.forEach(c=>{u.findBone(c)||this.showError(`Error: Control bone does not exist in skeleton: ${c}`)}),!e.skin&&u.skins.length&&(e.skin=u.skins[0].name),e.skins&&e.skin.length&&e.skins.forEach(c=>{this.skeleton.data.findSkin(c)||this.showError(`Error: Skin in config list does not exist in skeleton: ${c}`)}),e.skin&&(this.skeleton.data.findSkin(e.skin)||this.showError(`Error: Skin does not exist in skeleton: ${e.skin}`),this.skeleton.setSkinByName(e.skin),this.skeleton.setSlotsToSetupPose()),Object.getOwnPropertyNames(e.viewport.animations).forEach(c=>{u.findAnimation(c)||this.showError(`Error: Animation for which a viewport was specified does not exist in skeleton: ${c}`)}),e.animations&&e.animations.length&&(e.animations.forEach(c=>{this.skeleton.data.findAnimation(c)||this.showError(`Error: Animation in config list does not exist in skeleton: ${c}`)}),e.animation||(e.animation=e.animations[0])),e.animation&&!u.findAnimation(e.animation)&&this.showError(`Error: Animation does not exist in skeleton: ${e.animation}`),this.setupInput(),e.showControls&&((u.skins.length==1||e.skins&&e.skins.length==1)&&this.skinButton.classList.add("spine-player-hidden"),(u.animations.length==1||e.animations&&e.animations.length==1)&&this.animationButton.classList.add("spine-player-hidden")),e.success&&e.success(this);let h=this.animationState.getCurrent(0);h?this.currentViewport||(this.setViewport(h.animation),this.play()):e.animation?(h=this.setAnimation(e.animation),this.play()):(h=this.animationState.setEmptyAnimation(0),h.trackEnd=1e8,this.setViewport(h.animation),this.pause())}setupInput(){let e=this.config,t=e.controlBones;if(!t.length&&!e.showControls)return;let r=this.selectedBones=new Array(t.length),i=this.canvas,s=null,l=new jt,a=new Ln,u=new Ln,o=new jt,h=this.skeleton,c=this.sceneRenderer,d=function(m,y){u.set(m,i.clientHeight-y,0),l.x=l.y=0;let v=24,S=0,p=null;for(let w=0;w<t.length;w++){r[w]=null;let g=h.findBone(t[w]);if(!g)continue;let x=c.camera.worldToScreen(a.set(g.worldX,g.worldY,0),i.clientWidth,i.clientHeight).distance(u);x<v&&(v=x,p=g,S=w,l.x=a.x-u.x,l.y=a.y-u.y)}return p&&(r[S]=p),p};if(new Cf(i).addListener({down:(m,y)=>{s=d(m,y)},up:()=>{s?s=null:e.showControls&&(this.paused?this.play():this.pause())},dragged:(m,y)=>{s&&(m=N.clamp(m+l.x,0,i.clientWidth),y=N.clamp(y-l.y,0,i.clientHeight),c.camera.screenToWorld(a.set(m,y,0),i.clientWidth,i.clientHeight),s.parent?(s.parent.worldToLocal(o.set(a.x-h.x,a.y-h.y)),s.x=o.x,s.y=o.y):(s.x=a.x-h.x,s.y=a.y-h.y))},moved:(m,y)=>d(m,y)}),e.showControls){this.addEventListener(document,"mousemove",p=>{p instanceof MouseEvent&&S(p.clientX,p.clientY)}),this.addEventListener(document,"touchmove",p=>{if(p instanceof TouchEvent){let w=p.changedTouches;if(w.length){let g=w[0];S(g.clientX,g.clientY)}}});let m=(p,w,g)=>{let x=p-g.left,k=w-g.top;return x>=0&&x<=g.width&&k>=0&&k<=g.height},y=!0,v=!1,S=(p,w)=>{let g=Jt(this.dom,"spine-player-popup");y=m(p,w,this.playerControls.getBoundingClientRect()),v=m(p,w,i.getBoundingClientRect()),clearTimeout(this.cancelId),!g&&!y&&!v&&!this.paused?this.playerControls.classList.add("spine-player-controls-hidden"):this.playerControls.classList.remove("spine-player-controls-hidden"),!y&&!g&&!this.paused&&(this.cancelId=setTimeout(()=>{this.paused||this.playerControls.classList.add("spine-player-controls-hidden")},1e3))}}}play(){this.paused=!1;let e=this.config;e.showControls&&(this.cancelId=setTimeout(()=>{this.paused||this.playerControls.classList.add("spine-player-controls-hidden")},1e3),this.playButton.classList.remove("spine-player-button-icon-play"),this.playButton.classList.add("spine-player-button-icon-pause"),e.animation||(e.animations&&e.animations.length?e.animation=e.animations[0]:this.skeleton.data.animations.length&&(e.animation=this.skeleton.data.animations[0].name),e.animation&&this.setAnimation(e.animation)))}pause(){this.paused=!0,this.config.showControls&&(this.playerControls.classList.remove("spine-player-controls-hidden"),clearTimeout(this.cancelId),this.playButton.classList.remove("spine-player-button-icon-pause"),this.playButton.classList.add("spine-player-button-icon-play"))}setAnimation(e,t=!0){return e=this.setViewport(e),this.animationState.setAnimationWith(0,e,t)}addAnimation(e,t=!0,r=0){return e=this.setViewport(e),this.animationState.addAnimationWith(0,e,t,r)}setViewport(e){if(typeof e=="string"){let s=this.skeleton.data.findAnimation(e);if(!s)throw new Error("Animation not found: "+e);e=s}this.previousViewport=this.currentViewport;let t=this.config.viewport,r=this.currentViewport={padLeft:t.padLeft!==void 0?t.padLeft:"10%",padRight:t.padRight!==void 0?t.padRight:"10%",padTop:t.padTop!==void 0?t.padTop:"10%",padBottom:t.padBottom!==void 0?t.padBottom:"10%"};t.x!==void 0&&t.y!==void 0&&t.width&&t.height?(r.x=t.x,r.y=t.y,r.width=t.width,r.height=t.height):this.calculateAnimationViewport(e,r);let i=this.config.viewport.animations[e.name];return i&&(i.x!==void 0&&i.y!==void 0&&i.width&&i.height&&(r.x=i.x,r.y=i.y,r.width=i.width,r.height=i.height),i.padLeft!==void 0&&(r.padLeft=i.padLeft),i.padRight!==void 0&&(r.padRight=i.padRight),i.padTop!==void 0&&(r.padTop=i.padTop),i.padBottom!==void 0&&(r.padBottom=i.padBottom)),r.padLeft=this.percentageToWorldUnit(r.width,r.padLeft),r.padRight=this.percentageToWorldUnit(r.width,r.padRight),r.padBottom=this.percentageToWorldUnit(r.height,r.padBottom),r.padTop=this.percentageToWorldUnit(r.height,r.padTop),this.viewportTransitionStart=performance.now(),e}percentageToWorldUnit(e,t){return typeof t=="string"?e*parseFloat(t.substr(0,t.length-1))/100:t}calculateAnimationViewport(e,t){this.skeleton.setToSetupPose();let r=100,i=e.duration?e.duration/r:0,s=0,l=1e8,a=-1e8,u=1e8,o=-1e8,h=new jt,c=new jt;for(let d=0;d<r;d++,s+=i)e.apply(this.skeleton,s,s,!1,[],1,F.setup,Ze.mixIn),this.skeleton.updateWorldTransform(),this.skeleton.getBounds(h,c),!isNaN(h.x)&&!isNaN(h.y)&&!isNaN(c.x)&&!isNaN(c.y)?(l=Math.min(h.x,l),a=Math.max(h.x+c.x,a),u=Math.min(h.y,u),o=Math.max(h.y+c.y,o)):this.showError("Animation bounds are invalid: "+e.name);t.x=l,t.y=u,t.width=a-l,t.height=o-u}drawFrame(e=!0){try{if(this.error||this.disposed)return;e&&!this.stopRequestAnimationFrame&&requestAnimationFrame(()=>this.drawFrame());let t=document,i=t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement?this.bgFullscreen:this.bg;this.time.update();let s=this.time.delta,l=this.assetManager.isLoadingComplete();!this.skeleton&&l&&this.loadSkeleton();let a=this.skeleton,u=this.config;if(a){let o=this.sceneRenderer;o.resize(zr.Expand);let h=this.paused?0:s*this.speed;if(u.frame&&u.frame(this,h),!this.paused&&(this.animationState.update(h),this.animationState.apply(a),a.updateWorldTransform(),u.showControls)){this.playTime+=h;let v=this.animationState.getCurrent(0);if(v){let S=v.animation.duration;for(;this.playTime>=S&&S!=0;)this.playTime-=S;this.playTime=Math.max(0,Math.min(this.playTime,S)),this.timelineSlider.setValue(this.playTime/S)}}let c=this.viewport;if(c.x=this.currentViewport.x-this.currentViewport.padLeft,c.y=this.currentViewport.y-this.currentViewport.padBottom,c.width=this.currentViewport.width+this.currentViewport.padLeft+this.currentViewport.padRight,c.height=this.currentViewport.height+this.currentViewport.padBottom+this.currentViewport.padTop,this.previousViewport){let v=(performance.now()-this.viewportTransitionStart)/1e3/u.viewport.transitionTime;if(v<1){let S=this.previousViewport.x-this.previousViewport.padLeft,p=this.previousViewport.y-this.previousViewport.padBottom,w=this.previousViewport.width+this.previousViewport.padLeft+this.previousViewport.padRight,g=this.previousViewport.height+this.previousViewport.padBottom+this.previousViewport.padTop;c.x=S+(c.x-S)*v,c.y=p+(c.y-p)*v,c.width=w+(c.width-w)*v,c.height=g+(c.height-g)*v}}o.camera.zoom=this.canvas.height/this.canvas.width>c.height/c.width?c.width/this.canvas.width:c.height/this.canvas.height,o.camera.position.x=c.x+c.width/2,o.camera.position.y=c.y+c.height/2;let d=this.context.gl;d.clearColor(i.r,i.g,i.b,i.a),d.clear(d.COLOR_BUFFER_BIT),u.update&&u.update(this,h),o.begin();let m=u.backgroundImage;if(m){let v=this.assetManager.require(m.url);m.x!==void 0&&m.y!==void 0&&m.width&&m.height?o.drawTexture(v,m.x,m.y,m.width,m.height):o.drawTexture(v,c.x,c.y,c.width,c.height)}o.drawSkeleton(a,u.premultipliedAlpha),((o.skeletonDebugRenderer.drawBones=u.debug.bones)||(o.skeletonDebugRenderer.drawBoundingBoxes=u.debug.bounds)||(o.skeletonDebugRenderer.drawClipping=u.debug.clipping)||(o.skeletonDebugRenderer.drawMeshHull=u.debug.hulls)||(o.skeletonDebugRenderer.drawPaths=u.debug.paths)||(o.skeletonDebugRenderer.drawRegionAttachments=u.debug.regions)||(o.skeletonDebugRenderer.drawMeshTriangles=u.debug.meshes))&&o.drawSkeletonDebug(a,u.premultipliedAlpha);let y=u.controlBones;if(y.length){let v=this.selectedBones;d.lineWidth(2);for(let S=0;S<y.length;S++){let p=a.findBone(y[S]);if(!p)continue;let w=v[S]?eg:ng,g=v[S]?tg:rg;o.circle(!0,a.x+p.worldX,a.y+p.worldY,20,w),o.circle(!1,a.x+p.worldX,a.y+p.worldY,20,g)}}u.viewport.debugRender&&(d.lineWidth(1),o.rect(!1,this.currentViewport.x,this.currentViewport.y,this.currentViewport.width,this.currentViewport.height,W.GREEN),o.rect(!1,c.x,c.y,c.width,c.height,W.RED)),o.end(),u.draw&&u.draw(this,h)}u.showLoading&&(this.loadingScreen.backgroundColor.setFromColor(i),this.loadingScreen.draw(l)),l&&u.loading&&u.loading(this,s)}catch(t){this.showError(`Error: Unable to render skeleton.
${t.message}`,t)}}stopRendering(){this.stopRequestAnimationFrame=!0}hidePopup(e){return this.popup!=null&&this.popup.hide(e)}showSpeedDialog(e){let t="speed";if(this.hidePopup(t))return;let r=new os(t,e,this,this.playerControls,`
<div class="spine-player-popup-title">Speed</div>
<hr>
<div class="spine-player-row" style="align-items:center;padding:8px">
<div class="spine-player-column">
	<div class="spine-player-speed-slider" style="margin-bottom:4px"></div>
	<div class="spine-player-row" style="justify-content:space-between"><div>0.1x</div><div>1x</div><div>2x</div></div>
</div>
</div>`),i=new Ah(2,.1,!0);Jt(r.dom,"spine-player-speed-slider").appendChild(i.create()),i.setValue(this.speed/2),i.change=s=>this.speed=s*2,r.show()}showAnimationsDialog(e){let t="animations";if(this.hidePopup(t)||!this.skeleton||!this.skeleton.data.animations.length)return;let r=new os(t,e,this,this.playerControls,'<div class="spine-player-popup-title">Animations</div><hr><ul class="spine-player-list"></ul>'),i=Jt(r.dom,"spine-player-list");this.skeleton.data.animations.forEach(s=>{if(this.config.animations&&this.config.animations.indexOf(s.name)<0)return;let l=xn('<li class="spine-player-list-item selectable"><div class="selectable-circle"></div><div class="selectable-text"></div></li>');s.name==this.config.animation&&l.classList.add("selected"),Jt(l,"selectable-text").innerText=s.name,i.appendChild(l),l.onclick=()=>{Ih(i.children,"selected"),l.classList.add("selected"),this.config.animation=s.name,this.playTime=0,this.setAnimation(s.name),this.play()}}),r.show()}showSkinsDialog(e){let t="skins";if(this.hidePopup(t)||!this.skeleton||!this.skeleton.data.animations.length)return;let r=new os(t,e,this,this.playerControls,'<div class="spine-player-popup-title">Skins</div><hr><ul class="spine-player-list"></ul>'),i=Jt(r.dom,"spine-player-list");this.skeleton.data.skins.forEach(s=>{if(this.config.skins&&this.config.skins.indexOf(s.name)<0)return;let l=xn('<li class="spine-player-list-item selectable"><div class="selectable-circle"></div><div class="selectable-text"></div></li>');s.name==this.config.skin&&l.classList.add("selected"),Jt(l,"selectable-text").innerText=s.name,i.appendChild(l),l.onclick=()=>{Ih(i.children,"selected"),l.classList.add("selected"),this.config.skin=s.name,this.skeleton.setSkinByName(this.config.skin),this.skeleton.setSlotsToSetupPose()}}),r.show()}showSettingsDialog(e){let t="settings";if(this.hidePopup(t)||!this.skeleton||!this.skeleton.data.animations.length)return;let r=new os(t,e,this,this.playerControls,'<div class="spine-player-popup-title">Debug</div><hr><ul class="spine-player-list"></li>'),i=Jt(r.dom,"spine-player-list"),s=(l,a)=>{let u=xn('<li class="spine-player-list-item"></li>'),o=new Jp(l);u.appendChild(o.create());let h=this.config.debug;o.setEnabled(h[a]),o.change=c=>h[a]=c,i.appendChild(u)};s("Bones","bones"),s("Regions","regions"),s("Meshes","meshes"),s("Bounds","bounds"),s("Paths","paths"),s("Clipping","clipping"),s("Points","points"),s("Hulls","hulls"),r.show()}showError(e,t){if(this.error){if(t)throw t}else throw this.error=!0,this.dom.appendChild(xn('<div class="spine-player-error" style="background:#000;color:#fff;position:absolute;top:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;overflow:auto;z-index:999">'+e.replace(`
`,"<br><br>")+"</div>")),this.config.error&&this.config.error(this,e),t||new Error(e)}}class os{constructor(e,t,r,i,s){f(this,"id");f(this,"button");f(this,"player");f(this,"dom");f(this,"className");f(this,"windowClickListener");this.id=e,this.button=t,this.player=r,this.dom=xn('<div class="spine-player-popup spine-player-hidden"></div>'),this.dom.innerHTML=s,i.appendChild(this.dom),this.className="spine-player-button-icon-"+e+"-selected"}dispose(){}hide(e){return this.dom.remove(),this.button.classList.remove(this.className),this.id==e?(this.player.popup=null,!0):!1}show(){this.player.popup=this,this.button.classList.add(this.className),this.dom.classList.remove("spine-player-hidden");let e=!1,t=()=>{e||requestAnimationFrame(t);let s=this.player.dom,l=Math.abs(s.getBoundingClientRect().bottom-s.getBoundingClientRect().bottom),a=Math.abs(s.getBoundingClientRect().right-s.getBoundingClientRect().right);this.dom.style.maxHeight=s.clientHeight-l-a+"px"};requestAnimationFrame(t);let r=!0,i=s=>{if(r||this.player.popup!=this){r=!1;return}this.dom.contains(s.target)||(this.dom.remove(),window.removeEventListener("click",i),this.button.classList.remove(this.className),this.player.popup=null,e=!0)};this.player.addEventListener(window,"click",i)}}class Jp{constructor(e){f(this,"text");f(this,"switch",null);f(this,"enabled",!1);f(this,"change",()=>{});this.text=e}create(){return this.switch=xn(`
<div class="spine-player-switch">
	<span class="spine-player-switch-text">${this.text}</span>
	<div class="spine-player-switch-knob-area">
		<div class="spine-player-switch-knob"></div>
	</div>
</div>`),this.switch.addEventListener("click",()=>{this.setEnabled(!this.enabled),this.change&&this.change(this.enabled)}),this.switch}setEnabled(e){var t,r;e?(t=this.switch)==null||t.classList.add("active"):(r=this.switch)==null||r.classList.remove("active"),this.enabled=e}isEnabled(){return this.enabled}}class Ah{constructor(e=0,t=.1,r=!1){f(this,"snaps");f(this,"snapPercentage");f(this,"big");f(this,"slider",null);f(this,"value",null);f(this,"knob",null);f(this,"change",()=>{});this.snaps=e,this.snapPercentage=t,this.big=r}create(){this.slider=xn(`
<div class="spine-player-slider ${this.big?"big":""}">
	<div class="spine-player-slider-value"></div>
	<!--<div class="spine-player-slider-knob"></div>-->
</div>`),this.value=Jt(this.slider,"spine-player-slider-value"),this.setValue(0);let e=!1;return new Cf(this.slider).addListener({down:(t,r)=>{var i;e=!0,(i=this.value)==null||i.classList.add("hovering")},up:(t,r)=>{var i;e=!1,this.change&&this.change(this.setValue(t/this.slider.clientWidth)),(i=this.value)==null||i.classList.remove("hovering")},moved:(t,r)=>{e&&this.change&&this.change(this.setValue(t/this.slider.clientWidth))},dragged:(t,r)=>{this.change&&this.change(this.setValue(t/this.slider.clientWidth))}}),this.slider}setValue(e){if(e=Math.max(0,Math.min(1,e)),this.snaps){let t=1/this.snaps,r=e%t;r<t*this.snapPercentage?e=e-r:r>t-t*this.snapPercentage&&(e=e-r+t),e=Math.max(0,Math.min(1,e))}return this.value.style.width=""+e*100+"%",e}}function Jt(n,e){return n.getElementsByClassName(e)[0]}function xn(n){let e=document.createElement("div");return e.innerHTML=n,e.children[0]}function Ih(n,e){for(let t=0;t<n.length;t++)n[t].classList.remove(e)}function Jl(n){return JSON.stringify(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;")}const eg=new W(.478,0,0,.25),tg=new W(1,1,1,1),ng=new W(.478,0,0,.5),rg=new W(1,0,0,.8),ig=()=>{const[n,e]=ii.useState(null),t=ii.useRef(null),r=()=>{var l;(l=n==null?void 0:n.animationState)==null||l.setAnimation(0,"idle_gun",!1),n==null||n.play()},i=()=>{var l;(l=n==null?void 0:n.animationState)==null||l.setAnimation(0,"idle_1",!1),n==null||n.play()},s=()=>{var l;(l=n==null?void 0:n.animationState)==null||l.setAnimation(0,"hit+EF",!1),n==null||n.play()};return ii.useEffect(()=>{if(t.current){const l=new $p(t.current,{showControls:!1,atlasUrl:"./assets/animations/monkey.atlas",jsonUrl:"./assets/animations/monkey.json",success:function(a){a==null||a.setAnimation("idle_gun")},error:a=>console.error("Failed to load Spine animation:",a),preserveDrawingBuffer:!1,alpha:!0,backgroundColor:"#00000000"});e(l)}},[]),mn.jsxs(mn.Fragment,{children:[" ",mn.jsx("div",{ref:t,style:{width:"100%",height:"100%"}}),mn.jsx("button",{onClick:r,children:"Button 1"}),mn.jsx("button",{onClick:i,children:"Button 2"}),mn.jsx("button",{onClick:s,children:"Button 3"})]})};function sg(){return mn.jsx(ig,{})}Vd(document.getElementById("root")).render(mn.jsx(sg,{}));
